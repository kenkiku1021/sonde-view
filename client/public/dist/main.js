/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={983:(t,e,n)=>{"use strict";n.d(e,{Z:()=>I});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create,Object.create;var i,o,a=n(448),s=n(886),u=n(594),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((o={})[h]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!(0,a.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];e[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(w);const I=w},886:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>l});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var a=n(448),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),u="[DEFAULT]",c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=u);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.BH;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:u,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService({instanceIdentifier:o});if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:u})}catch(t){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=i(o.value,2),s=a[0],c=a[1],l=this.normalizeInstanceIdentifier(s);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=u),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=u),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=void 0===e?u:e,r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===u?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:u:t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},594:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>d});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},448:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>m,r3:()=>w,ne:()=>I,p$:()=>i,ZB:()=>o,z$:()=>s,jU:()=>l,ru:()=>h,d:()=>d,w1:()=>p,uI:()=>u,UG:()=>c,b$:()=>f,Mn:()=>g});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};Object.create,Object.create;function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return s().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new v(i,s,r);return u},t}();function y(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){var n=new S(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}},472:function(){!function(t){var e=this||t||{};function n(t,e){if(e<=0)return"";var n="";do{1&e&&(n+=t)}while((e>>=1)>=1&&(t+=t));return n}void 0!==e.agh?t=e.agh:void 0!==e.module&&void 0!==e.module.exports?t=e.module.exports:null==t&&(t=e.agh={});var r=4294967296,i=-2147483648,o=r*r;function a(t){return t<0?Math.ceil(t):Math.floor(t)}function s(t,e){switch(t=a(t),e){case"hh":return(t&=255)>=128?t-256:t;case"h":return(t&=65535)>=32768?t-65536:t;case"l":case"z":case"t":case"I32":case"I":return(t%=r)<i?t+=r:t>2147483647&&(t-=r),t;case"ll":case"I64":case"q":case"L":return(t%=o)<-0x8000000000000000?t+=o:t>0x8000000000000000&&(t-=o),t;case"j":default:return t}}function u(t,e){switch(t=a(t),e){case"hh":return 255&t;case"h":return 65535&t;case"l":case"z":case"t":case"I32":case"I":return(t%=r)<0?t+r:t;case"ll":case"I64":case"q":case"L":return(t%=o)<0?t+o:t;case"j":default:if(t<0){var n=t<i?1+Math.ceil(Math.LOG2E*Math.log(-t)):32;t+=Math.pow(2,n)}return t}}function c(t,e){if("h"===e||"hh"===e){var n=t<0?-1:1,r=Math.floor(Math.LOG2E*Math.log(n*t)),i=Math.pow(2,r-23);t=(0|t/i)*i}return t}function l(t,e){return t|=0,"h"!==e&&"hh"!==e||(t&=255),t}var h=[/(...)(?!$)/g,/(^.|...)(?!$)/g,/(^..|...)(?!$)/g];function f(t,e){return t.length<4||!/\'/.test(e)?t:t.replace(h[t.length%3],"$1,")}var d="0123456789abcdef";function p(t,e,r,i){var o="";do{o=d.charAt(t%i)+o,t=Math.floor(t/i)}while(t>0);return null!=r&&(o=n("0",r-o.length)+o),o}function g(t,e,n,r){return f(p(t,0,n,10),e)}function v(t,e,n,r){return p(t,0,n,16).toUpperCase()}var m=[];function y(t,e){if(0===t)return[0,0];var n=1+Math.floor(m[e]*Math.log(t));return(t*=Math.pow(e,-n))*e<1?(t*=e,n--):t>=1&&(t/=e,n++),[t,n]}m[2]=Math.LOG2E,m[10]=Math.LOG10E,m[16]=Math.LOG2E/4;var b=[];function w(t,e,r){for(var i="";--e>0;)i+=d.charAt(0|(t=t*r%r));var o=Math.round(t*r%r);if(o==r){var a=b[r].exec(i)[0].length;if(a<i.length){var s=i.length-a-1;i=i.slice(0,s)+d.charAt(1+(0|i.charAt(s)))+n("0",a+1)}else i="1"+n("0",a+1)}else i+=d.charAt(o);return i}function I(t,e){return t.replace(/(\.[\da-f]*?)0+$/,(function(t,n){return n&&n.length>1?n:/#/.test(e)?".":""}))}function S(t,e,n,r){if(isNaN(t))return"nan";if(!isFinite(t))return"inf";null==n&&(n=6);var i=y(t,10),o=i[0],a=i[1]-1,s=w(o,1+n,10);return s.length>n+1&&(s=s.slice(0,-1),a++),(n>0||/#/.test(e))&&(s=s.slice(0,1)+"."+s.slice(1)),s+(a<0?"e-"+(1e3-a).toString().slice(1):"e+"+(1e3+a).toString().slice(1))}function E(t,e,n,r){if(isNaN(t))return"nan";if(!isFinite(t))return"inf";null==n&&(n="h"===r||"hh"===r?6:13);var i=y(t,2),o=i[0],a=i[1]-1,s=w(1/8*o,n+1,16);return s.length>n+1&&(s=s.slice(0,-1),a++),(s.length>1||/#/.test(e))&&(s=s.slice(0,1)+"."+s.slice(1)),(s=I(s,e))+(a<0?"p-"+(1e3-a).toString().slice(1):"p+"+(1e3+a).toString().slice(1))}function T(t,e,n,r){if(isNaN(t))return"nan";if(!isFinite(t))return"inf";if(null==n&&(n=6),t>=1)var i=y(t,10),o=i[0],a=i[1];else o=t/10,a=1;var s=w(o,a+n,10);if(n>0||/#/.test(e)){var u=s.length-n;s=f(s.slice(0,u),e)+"."+s.slice(u)}else s=f(s,e);return s}function k(t,e,r,i){if(isNaN(t))return"nan";if(!isFinite(t))return"inf";if(null==r?r=6:r<1&&(r=1),t<1e-4||Math.pow(10,r)<=t+.5){var o=S(t,e,r-1);return/#/.test(e)?o:function(t,e){return t.replace(/(\.\d*?)0+e/,(function(t,n){return n&&n.length>1?n+"e":/#/.test(e)?".e":"e"}))}(o,e)}var a=y(t,10),s=a[0],u=a[1];r<1&&(r=1);var c=w(s,r,10),l=c.length-(r-u);return l>0?(l<c.length||/#/.test(e))&&(c=f(c.slice(0,l),e)+"."+c.slice(l,r)):c="0."+n("0",-l)+c.slice(0,r),/#/.test(e)?c:I(c,e)}function _(t,e,n,r){return String.fromCharCode(t)}function A(t,e,n,r){return t=null==t?void 0===t?"(undefined)":"(null)":t.toString(),null!=n&&(t=t.slice(0,n)),t}b[10]=/9*$/,b[16]=/f*$/;var C={d:{getv:s,integral:!0,signed:!0,prefix:null,conv:g},i:{getv:s,integral:!0,signed:!0,prefix:null,conv:g},u:{getv:u,integral:!0,signed:!1,prefix:null,conv:g},o:{getv:u,integral:!0,signed:!1,prefix:function(t){return/#/.test(t)?"0":""},conv:function(t,e,n,r){return p(t,0,n,8)}},x:{getv:u,integral:!0,signed:!1,prefix:function(t){return/#/.test(t)?"0x":""},conv:function(t,e,n,r){return p(t,0,n,16)}},X:{getv:u,integral:!0,signed:!1,prefix:function(t){return/#/.test(t)?"0X":""},conv:v},e:{getv:c,integral:!1,signed:!0,prefix:null,conv:S},E:{getv:c,integral:!1,signed:!0,prefix:null,conv:function(t,e,n,r){return S(t,e,n).toUpperCase()}},f:{getv:c,integral:!1,signed:!0,prefix:null,conv:T},F:{getv:c,integral:!1,signed:!0,prefix:null,conv:function(t,e,n,r){return T(t,e,n).toUpperCase()}},g:{getv:c,integral:!1,signed:!0,prefix:null,conv:k},G:{getv:c,integral:!1,signed:!0,prefix:null,conv:function(t,e,n,r){return k(t,e,n).toUpperCase()}},a:{getv:c,integral:!1,signed:!0,prefix:function(t){return"0x"},conv:E},A:{getv:c,integral:!1,signed:!0,prefix:function(t){return"0X"},conv:function(t,e,n,r){return E(t,e,n,r).toUpperCase()}},c:{getv:l,integral:!1,signed:!1,prefix:null,conv:_},C:{getv:l,integral:!1,signed:!1,prefix:null,conv:_},s:{getv:null,integral:!1,signed:!1,prefix:null,conv:A},S:{getv:null,integral:!1,signed:!1,prefix:null,conv:A},p:{getv:u,integral:!1,signed:!1,prefix:function(t){return"0x"},conv:v},n:{getv:null,integral:!1,signed:!1,prefix:null,conv:function(t,e,n,r,i){return t[0]=s(i,r),""}},"%":{noValue:!0,integral:!1,signed:!1,prefix:null,conv:function(t,e,n,r){return"%"}}};function N(t){var e=arguments,r=1,i=0,o=0,a=t.replace(/%(?:(\d+)\$)?([-+ 0#']*)(\d+|\*(?:\d+\$)?)?(\.(?:\d+|\*(?:\d+\$)?)?)?(hh|ll|I(?:32|64)?|[hlLjztqw])?(.|$)/g,(function(t,a,s,u,c,l,h,f){if(o+=f-i,i=f+t.length,null==(h=C[h]))return o+=(g="(sprintf:error:"+t+")").length,g;a=null==a||""===a?null:"*"===a?0|e[r++]:0|a,u=null==u||""===u?0:"*"===u?0|e[r++]:"*"===u.charAt(0)?e[0|u.slice(1,-1)]:0|u,c=null==c||""===c?null:".*"===c?0|e[r++]:"*"===c.charAt(1)?e[0|c.slice(2,-1)]:0|c.slice(1);var d=h.noValue?null:null===a?e[r++]:e[a];h.getv&&(d=h.getv(d,l));var p="";h.signed&&(d<0?(p="-",d=-d):/\+/.test(s)?p="+":/ /.test(s)&&(p=" ")),h.prefix&&0!=d&&(p+=h.prefix(s));var g,v=h.conv(d,s,c,l,o),m="",y="",b="";return(u-=p.length+v.length)>=1&&(/-/.test(s)?b=n(" ",u):!/0/.test(s)||h.integral&&null!=c?m=n(" ",u):y=n("0",u)),o+=(g=m+p+y+v+b).length,g}));return[o+=t.length-i,a]}t.sprintf=function(){var t=N.apply(this,arguments);return t[1]},t.vsprintf=function(t,e){return N.apply(this,[t].concat(e))[1]};var D=null;D=e.agh&&e.printh?function(t){printh(agh.Text.Escape(t,"html"))}:e.process&&e.process.stdout?function(t){process.stdout.write(t)}:e.console&&e.console.log?function(t){console.log(t)}:function(t){document.write(t)},t.printf=function(){var t=N.apply(this,arguments);return D(t[1]),t[0]}}(this)},211:(t,e,n)=>{var r;!function(){var i=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function a(t){t&&t.blur&&t!==document.body&&t.blur()}function s(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function u(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function c(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]});else{var e,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===t){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,i)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}a(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(t){}if(r)for(var i=0;i<r.length;++i){var o=r[i],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(t){}if(a&&s(a,t)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return!("absolute"!==window.getComputedStyle(t).position||"auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom||l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,r=0;e=t.removedNodes[r];++r)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),a(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e||(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var d=f.get;f.get=function(){return u(this)?"dialog":d.call(this)};var p=f.set;f.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):p.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",(function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&u(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}}),!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return g.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(u(e)){t.preventDefault();var n=o(e);if(n){var r=l.formSubmitter;r&&r.form===e?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(r=function(){return l}.call(e,n,e,t))||(t.exports=r):"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},503:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(983);r.Z.registerVersion("firebase","8.3.1","app")},771:(t,e,n)=>{"use strict";n.r(e),n.d(e,{auth:()=>s});var r=n(503),i=n(983);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=r.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=a(t),o=r.next();!o.done;o=r.next())i(o.value).Qa(e,n)}))},e.all=function(t){var n=a(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function I(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function S(t,e,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:I).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function k(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(t){return t}function A(t,e,n){this.code=D+t,this.message=e||x[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new A(e.substring(D.length),t.message,t.serverResponse):null}k(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var N,D="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function F(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function U(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}N=L("__EID__")?"__EID__":void 0,k(R,Error),R.prototype.name="CustomError",k(M,R),M.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new U((function(){return new K}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function K(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},K.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},K.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=G(t,e)}function J(t,e){var n;return(n=0<=(e=G(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function gt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Tt&&e||"",this.b=Et}function It(t){return t instanceof wt&&t.constructor===wt&&t.b===Et?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var St,Et={},Tt={};function kt(){if(void 0===St){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:_,createScript:_,createScriptURL:_})}catch(t){u.console&&u.console.error(t.message)}St=t}else St=t}return St}function _t(t,e){this.a=e===xt?t:""}function At(t){return t instanceof _t&&t.constructor===_t?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=It(t);if(!Dt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=kt();return new _t(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?It(t):encodeURIComponent(String(t))})))}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,Dt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Ot(t,e){this.a=e===jt?t:""}function Lt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Ot(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Pt.test(e[1])?new Ot(t,jt):null}return t}function Ut(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,jt))}var jt={},Vt=new Ot("about:invalid#zClosurez",jt);function Bt(t,e,n){this.a=n===qt?t:""}Bt.prototype.sa=!0,Bt.prototype.ra=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Kt(t,e,n,r){return t=t instanceof Ot?t:Ut(t),e=e||u,n=n instanceof wt?It(n):n||"",e.open(Lt(t),n,r,void 0)}function Gt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=f;var zt,Yt,Xt=dt("Opera"),Jt=dt("Trident")||dt("MSIE"),Zt=dt("Edge"),Qt=Zt||Jt,$t=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function ee(){var t=u.document;return t?t.documentMode:void 0}t:{var ne="",re=(Yt=tt,$t?/rv:([^\);]+)(\)|;)/.exec(Yt):Zt?/Edge\/([\d\.]+)/.exec(Yt):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt):te?/WebKit\/(\S+)/.exec(Yt):Xt?/(?:Version)[ \/]?(\S+)/.exec(Yt):void 0);if(re&&(ne=re?re[1]:""),Jt){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){zt=String(ie);break t}}zt=ne}var oe,ae={};function se(t){return function(t,e){var n=ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=et(String(zt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}u.document&&Jt?oe=ee()||parseInt(zt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Yt){}var ce=!Jt||9<=Number(ue);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ge(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(g(o)){a="function"==typeof o.item;break t}}a=!1}H(a?$(o):o,r)}}}function ve(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){u.setTimeout((function(){throw t}),0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(Ie)}}else de=function(){var t=Ie;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ve(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=S((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new V;function Ie(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){me(t)}j(B,t)}be=!1}function Se(t,e){if(this.a=Ee,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Me(n,Te,t)}),(function(t){if(!(t instanceof Ke))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Me(n,ke,t)}))}catch(t){Me(this,ke,t)}}var Ee=0,Te=2,ke=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ae=new U((function(){return new _e}),(function(t){t.reset()}));function Ce(t,e,n){var r=Ae.get();return r.g=t,r.b=e,r.f=n,r}function Ne(t){if(t instanceof Se)return t;var e=new Se(f);return Me(e,Te,t),e}function De(t){return new Se((function(e,n){n(t)}))}function xe(t,e,n){Fe(t,e,n,null)||ye(E(e,t))}function Oe(t){return new Se((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Le(t,e){if(t.a==Ee)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ee&&1==r?Le(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):je(n),Ve(n,i,ke,e)))}t.c=null}else Me(t,ke,e)}function Pe(t,e){t.b||t.a!=Te&&t.a!=ke||Ue(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Ce(null,null,null);return i.a=new Se((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ke?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Pe(t,i),i.a}function Me(t,e,n){t.a==Ee&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Fe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ue(t),e!=ke||n instanceof Ke||function(t,e){t.g=!0,ye((function(){t.g&&qe.call(null,e)}))}(t,n)))}function Fe(t,e,n,r){if(t instanceof Se)return Pe(t,Ce(e||f,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ue(t){t.h||(t.h=!0,ye(t.gc,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(t){qe.call(null,t)}j(Ae,e)}function Be(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Se.prototype.then=function(t,e,n){return Re(this,g(t)?t:null,g(e)?e:null,n)},Se.prototype.$goog_Thenable=!0,(t=Se.prototype).oa=function(t,e){return(t=Ce(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==Ee){var e=new Ke(t);ye((function(){Le(this,e)}),this)}},t.$c=function(t){this.a=Ee,Me(this,Te,t)},t.ad=function(t){this.a=Ee,Me(this,ke,t)},t.gc=function(){for(var t;t=je(this);)Ve(this,t,this.a,this.i);this.h=!1};var qe=me;function Ke(t){R.call(this,t)}function Ge(){0!=He&&(We[m(this)]=this),this.xa=this.xa,this.pa=this.pa}k(Ke,R),Ke.prototype.name="cancel";var He=0,We={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=He)){var e=m(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ye=Object.freeze||function(t){return t},Xe=!Jt||9<=Number(ue),Je=Jt&&!se("9"),Ze=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{Wt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},k($e,Qe);var tn=Ye({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Je)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},$e.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&J(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new rn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)dn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=Sn(n),t&&t[en]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=bn,e=Xe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ze||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=Sn(n),t&&t[en]?kn(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Sn(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&gn(n))}function gn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function vn(t){return t in ln?ln[t]:ln[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&gn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Xe){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return yn(t,new $e(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(t){return g(t)?t:(t[In]||(t[In]=function(e){return t.handleEvent(e)}),t[In])}function En(){Ge.call(this),this.v=new an(this),this.ac=this,this.gb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function kn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(t,e,n){if(g(t))n&&(t=S(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=S(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Cn(t){var e=null;return new Se((function(n,r){-1==(e=An((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Nn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Dn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ln(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ln(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(En,Ge),En.prototype[en]=!0,En.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){pn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;yt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=_n(a,r,!0,t)&&i}if(i=_n(a=t.b=n,r,!0,t)&&i,i=_n(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(a=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=xn.prototype).W=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ln(this.b,t)?this.b[t]:e},t.set=function(t,e){Ln(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Mn(this,t.c),this.l=t.l,this.a=t.a,Fn(this,t.g),this.f=t.f,Un(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=Kn(n[2]||""),this.a=Kn(n[3]||"",!0),Fn(this,n[4]),this.f=Kn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Kn(n[7]||"")):(this.i=!!e,this.b=new Zn(null,this.i))}function Mn(t,e,n){t.c=n?Kn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Fn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Un(t,e,n){e instanceof Zn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Gn(e,Xn)),t.b=new Zn(e,t.i))}function jn(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function Bn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function qn(t,e,n,r){var i=new Rn(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&Fn(i,n),r&&(i.f=r),i}function Kn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Gn(e,Wn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Gn(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gn(n,"/"==n.charAt(0)?Yn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Gn(n,Jn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Mn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Fn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Un(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Wn=/[#\/\?@]/g,zn=/[#\?:]/g,Yn=/[#\?]/g,Xn=/[#\?@]/g,Jn=/#/g;function Zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=Dn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Zn(null,void 0);t=Nn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Qn(t),e=ir(t,e),Ln(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ln((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function er(t,e){return Qn(t),e=ir(t,e),Ln(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),$(n)),t.b+=n.length)}function rr(t){var e=new Zn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Zn.prototype).add=function(t,e){Qn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Qn(this);var e=[];if("string"==typeof t)er(this,t)&&(e=Q(e,this.a.get(ir(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function hr(){var t=xr();return Jt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(t,e){e=e||u.window;var n="about:blank";t&&(n=Lt(Ft(t)||Vt)),e.location.href=n}function pr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function gr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function vr(t){t=t||u.window;try{t.close()}catch(t){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Cr(xr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Ft(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ve(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Ut(e),a.href=Lt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Kt("",r,n,a),t=Lt(e),a&&(Qt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Bt(t=(r=kt())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Kt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Se((function(e){"complete"==u.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw pn(window,"load",t),e}))}function Ir(t){return t=t||xr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Er(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Tr(){return i.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function kr(){var t=Tr();return"ReactNative"===t||"Node"===t}var _r="Firefox",Ar="Chrome";function Cr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?_r:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ar:"Safari"}var Nr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Dr(t,e){e=e||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=Cr(i=xr()):"Worker"===r&&(r=Cr(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return u.navigator&&u.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Lr(){try{var t=u.localStorage,e=Br();if(t)return t.setItem(e,"1"),t.removeItem(e),!hr()||!!u.indexedDB}catch(t){return Er()&&!!u.indexedDB}return!1}function Pr(){return(Rr()||"chrome-extension:"===Mr()||Ir())&&!kr()&&Lr()&&!Er()}function Rr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return u.location&&u.location.protocol||null}function Fr(t){return!gr(t=t||xr())&&Cr(t)!=_r}function Ur(t){return void 0===t?null:or(t)}function jr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vr(t){if(null!==t)return JSON.parse(t)}function Br(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=Cr(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Kr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Tr(),this.b=gr(t)||"ReactNative"===e}function Hr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function zr(){return!(!Or("fireauth.oauthhelper",u)&&!Or("fireauth.iframe",u))}Gr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Rr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Xr={};function Jr(t){Xr[t]||(Xr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Zr.abcd}catch(Yt){Yr=!1}function Qr(t,e,n){Yr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function ti(t){var e={};return $r(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ai]),Qr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(t){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Qr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[di],r=t[gi],i=t[vi];if(t=ri(t[pi]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==fi?(e[yi]=n||null,e[wi]=n||null,e[mi]=r):(e[yi]=r||null,e[wi]=r||null,e[mi]=n||null),e[bi]=t||null,Qr(this,Si,i),Qr(this,Ii,ei(e))}k(ui,ni),ui.prototype.w=function(){var t=ui.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",gi="newEmail",vi="requestType",mi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",Ii="data",Si="operation";function Ei(t){var e=Vn(t=Bn(t),Ti)||null,n=Vn(t,ki)||null,r=Vn(t,Ci)||null;if(r=r&&Di[r]||null,!e||!n||!r)throw new A("argument-error",Ti+", "+ki+"and "+Ci+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,_i)||null,languageCode:Vn(t,Ai)||null,tenantId:Vn(t,Ni)||null})}var Ti="apiKey",ki="oobCode",_i="continueUrl",Ai="languageCode",Ci="mode",Ni="tenantId",Di={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new Ei(t)}catch(t){return null}}function Oi(t){var e=t[Fi];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Li];if(n&&"object"==typeof n){e=n[Vi];var r=n[Ui];if(n=n[ji],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new A("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",Vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",Li+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[Bi])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",Bi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(e=t[Ri])&&"boolean"!=typeof e)throw new A("argument-error",Ri+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Pi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",Pi+" property must be a non empty string when specified.");this.i=t||null}var Li="android",Pi="dynamicLinkDomain",Ri="handleCodeInApp",Mi="iOS",Fi="url",Ui="installApp",ji="minimumVersion",Vi="packageName",Bi="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ki=null;function Gi(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new Gi(t)}catch(t){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ki){Ki={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Gi.prototype.T=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:zi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ji(t){for(var e in Xi)if(Xi[e].fa==t)return Xi[e];return null}function Zi(t){var e={};e["facebook.com"]=no,e["google.com"]=io,e["github.com"]=ro,e["twitter.com"]=oo;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new eo(t);if(void 0!==t[Qi])return new to(t)}catch(t){}return null}var Qi="idToken",$i="providerId";function to(t){var e=t[$i];if(!e&&t[Qi]){var n=Hi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function eo(t){to.call(this,t),Qr(this,"profile",ei((t=Vr(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function io(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function ao(t){var e=Bn(t),n=Vn(e,"link"),r=Vn(Bn(n),"link");return e=Vn(e,"deep_link_id"),Vn(Bn(e),"link")||e||r||n||t}function so(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}k(eo,to),k(no,eo),k(ro,eo),k(io,eo),k(oo,eo);var uo="enroll",co="signin";function lo(){}function ho(t,e){return t.then((function(t){if(t[$a]){var n=Hi(t[$a]);if(!n||e!=n.i)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==D+"user-not-found"?new A("user-mismatch"):t}))}function fo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function go(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new fo(t.providerId,t.pendingToken)}catch(t){}return null}function vo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function yo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new vo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Qc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ji(t)||{}).Ja||null,this.ob=null}function wo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function Io(t){bo.call(this,t,Yi),this.a=[]}function So(){Io.call(this,"facebook.com")}function Eo(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function To(){Io.call(this,"github.com")}function ko(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function _o(){Io.call(this,"google.com"),this.Ca("profile")}function Ao(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function Co(){bo.call(this,"twitter.com",zi)}function No(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new vo("twitter.com",n,"twitter.com")}function Do(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Do(t.email,t.password,t.signInMethod):null}function Oo(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Lo(t,e){if(!(e=Po(e)))throw new A("argument-error","Invalid email link!");return new Do(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Po(t){return(t=xi(t=ao(t)))&&t.operation===hi?t:null}function Ro(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new A("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Fo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Uo(t){try{this.a=t||i.Z.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function jo(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Ro({eb:t,cb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Ao(o,n);case"facebook.com":return Eo(n);case"github.com":return ko(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new fo(e,a):new vo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Io(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Bo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function qo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Ko(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Go(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Ne(this.a):Ne(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},fo.prototype.ka=function(t){return ws(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,Is(t,n)},fo.prototype.c=function(t,e){return ho(Ss(t,po(this)),e)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},vo.prototype.ka=function(t){return ws(t,mo(this))},vo.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Is(t,n)},vo.prototype.c=function(t,e){return ho(Ss(t,mo(this)),e)},vo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Ib=vt(t),this},k(wo,bo),k(Io,bo),Io.prototype.Ca=function(t){return X(this.a,t)||this.a.push(t),this},Io.prototype.Qb=function(){return $(this.a)},Io.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new vo(this.providerId,n,this.providerId)},k(So,Io),Qr(So,"PROVIDER_ID","facebook.com"),Qr(So,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(To,Io),Qr(To,"PROVIDER_ID","github.com"),Qr(To,"GITHUB_SIGN_IN_METHOD","github.com"),k(_o,Io),Qr(_o,"PROVIDER_ID","google.com"),Qr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Co,bo),Qr(Co,"PROVIDER_ID","twitter.com"),Qr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),Do.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ds,{email:this.a,oobCode:this.f}):ru(t,Qs,{email:this.a,password:this.f})},Do.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,xs,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Gs,{idToken:e,email:this.a,password:this.f})},Do.prototype.c=function(t,e){return ho(this.ka(t),e)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Oo,{PROVIDER_ID:"password"}),$r(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.fb(Fo(this))},Ro.prototype.b=function(t,e){var n=Fo(this);return n.idToken=e,ru(t,tu,n)},Ro.prototype.c=function(t,e){var n=Fo(this);return n.operation="REAUTH",ho(t=ru(t,eu,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Uo.prototype.fb=function(t,e){var n=this.a.a;return Ne(e.verify()).then((function(r){if("string"!=typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==uo?i.Ha().then((function(t){return function(t,e){return ru(t,Ws,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(e){return function(t,e){return ru(t,zs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,qs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Uo,{PROVIDER_ID:"phone"}),$r(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Wo=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Gt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Gt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Yo(t,e,n){A.call(this,t,n),(t=e||{}).Jb&&Qr(this,"email",t.Jb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Zb&&Qr(this,"tenantId",t.Zb)}function Xo(t){if(t.code){var e=t.code||"";0==e.indexOf(D)&&(e=e.substring(D.length));var n={credential:Vo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function Jo(){}function Zo(t){return t.c||(t.c=t.b())}function Qo(){}function $o(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ta(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.qc,this),this.a.onerror=S(this.Sb,this),this.a.onprogress=S(this.rc,this),this.a.ontimeout=S(this.vc,this)}function na(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ra(t,e,n){this.reset(t,e,n,void 0,void 0)}function ia(t){this.f=t,this.b=this.c=this.a=null}function oa(t,e){this.name=t,this.value=e}k(zo,A),k(Yo,A),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},Jo.prototype.c=null,k(Qo,Jo),Qo.prototype.a=function(){var t=$o(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return $o(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Qo,k(ta,Jo),ta.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(t=ea.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",na(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,na(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(t){return t.c?t.c:t.a?la(t.a):(F("Root logger has no level set."),null)}ia.prototype.log=function(t,e,n){if(t.value>=la(this).value)for(g(e)&&(e=e()),t=new ra(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ha={},fa=null;function da(t){var e;if(fa||(fa=new ia(""),ha[""]=fa,fa.c=ua),!(e=ha[t])){e=new ia(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=da(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ha[t]=e}return e}function pa(t,e){t&&t.log(ca,e,void 0)}function ga(t){this.f=t}function va(t){En.call(this),this.u=t,this.h=void 0,this.readyState=ma,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=da("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(ga,Jo),ga.prototype.a=function(){return new va(this.f)},ga.prototype.b=function(t){return function(){return t}}({}),k(va,En);var ma=0;function ya(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ba(t){t.readyState=4,t.g=null,t.c=null,t.m=null,wa(t)}function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ia(t){En.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Sa,this.u=this.S=!1}(t=va.prototype).open=function(t,e){if(this.readyState!=ma)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,wa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=ma},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ya(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this):wa(this),3==this.readyState&&ya(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ba(this))},t.sc=function(t){this.a&&(this.response=t,ba(this))},t.Ua=function(t){var e=this.i;e&&e.log(sa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ba(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(va.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),k(Ia,En);var Sa="";Ia.prototype.b=da("goog.net.XhrIo");var Ea=/^https?$/i,Ta=["POST","PUT"];function ka(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Aa(t),Na(t)}function Aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ca(t){if(t.c&&void 0!==s)if(t.C[1]&&4==xa(t)&&2==Oa(t))pa(t.b,La(t,"Local request error detected and ignored"));else if(t.i&&4==xa(t))An(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==xa(t)){pa(t.b,La(t,"Request complete")),t.c=!1;try{var e,n=Oa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xa(t)?t.a.statusText:""}catch(e){pa(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Oa(t)+"]",Aa(t)}}finally{Na(t)}}}function Na(t,e){if(t.a){Da(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(aa,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Da(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function xa(t){return t.a?t.a.readyState:0}function Oa(t){try{return 2<xa(t)?t.a.status:-1}catch(t){return-1}}function La(t,e){return e+" ["+t.R+" "+t.l+" "+Oa(t)+"]"}function Pa(t){var e=Ha;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(t,e,n){t.a=!0,t.c=n,t.f=!e,ja(t)}function Ma(t){if(t.a){if(!t.v)throw new Va(t);t.v=!1}}function Fa(t,e,n,r){t.g.push([e,n,r]),t.a&&ja(t)}function Ua(t){return Y(t.g,(function(t){return g(t[1])}))}function ja(t){if(t.h&&t.a&&Ua(t)){var e=t.h,n=Ka[e];n&&(u.clearTimeout(n.a),delete Ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(P(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ua(t)||(n=!0)}}t.c=e,r&&(s=S(t.m,t,!0),r=S(t.m,t,!1),e instanceof Pa?(Fa(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new qa(e),Ka[e.a]=e,t.h=e.a)}function Va(){R.call(this)}function Ba(){R.call(this)}function qa(t){this.a=u.setTimeout(S(this.c,this),0),this.b=t}(t=Ia.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(pa(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),Ia.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ca(this):this.Jc())},t.Jc=function(){Ca(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return pa(this.b,"Can not get response: "+t.message),null}},Pa.prototype.cancel=function(t){if(this.a)this.c instanceof Pa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ba(this),Ma(this),Ra(this,!1,t))}},Pa.prototype.m=function(t,e){this.i=!1,Ra(this,t,e)},Pa.prototype.then=function(t,e,n){var r,i,o=new Se((function(t,e){r=t,i=e}));return Fa(this,r,(function(t){t instanceof Ba?o.cancel():i(t)})),o.then(t,e,n)},Pa.prototype.$goog_Thenable=!0,k(Va,R),Va.prototype.message="Deferred has already fired",Va.prototype.name="AlreadyCalledError",k(Ba,R),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function Ga(t){var e={},n=e.document||document,r=At(t).toString(),i=ve(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Pa(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Wa(i,!0);var t=new Xa(Ya,"Timeout reached for loading script "+r);Ma(a),Ra(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Wa(i,e.xd||!1,s),Ma(a),Ra(a,!0,null))},i.onerror=function(){Wa(i,!0,s);var t=new Xa(za,"Error while loading script "+r);Ma(a),Ra(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=At(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ha(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Wa(t,!0,this.Ma)}}function Wa(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var za=0,Ya=1;function Xa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Ja(t){this.f=t}function Za(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ts,this.g=vt(t.secureTokenHeaders||es),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ns,this.a=vt(t.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=u.XMLHttpRequest||n&&i.Z.INTERNAL.node&&i.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new ga(self):kr()?this.f=new Ja(n):this.f=new ta,this.b=null}k(Xa,R),k(Ja,Jo),Ja.prototype.a=function(){return new this.f},Ja.prototype.b=function(){return{}};var Qa,$a="idToken",ts=new Gr(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ns=new Gr(3e4,6e4),rs={"Content-Type":"application/json"};function is(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function os(t,e){e&&(t.l=as("https://securetoken.googleapis.com/v1/token",e),t.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=as("https://identitytoolkit.googleapis.com/v2/",e))}function as(t,e){return t=Bn(t),e=Bn(e.url),t.f=t.a+t.f,Mn(t,e.c),t.a=e.a,Fn(t,e.g),t.toString()}function ss(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function us(t,e,n,r,i,o,a){(function(){var t=xr();return!((t=Cr(t)!=Ar?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Jt&&ue&&!(9<ue))})()||Er()?t=S(t.u,t):(Qa||(Qa=new Se((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[ls]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fa(t,null,e,void 0)}(Ga(Ct(cs,{onload:ls})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=S(t.s,t)),t(e,n,r,i,o,a)}Za.prototype.T=function(){return this.b},Za.prototype.u=function(t,e,n,r,i,o){if(Er()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ia(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return pa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),kn(a,"ready",(function(){s&&clearTimeout(s),ze(this)})),kn(a,"timeout",(function(){s&&clearTimeout(s),ze(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=t.D?Zo(t.D):Zo(Ho),t.a.onreadystatechange=S(t.Vb,t);try{pa(t.b,La(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return pa(t.b,La(t,"Error opening Xhr: "+e.message)),void _a(t,e)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Dn(t),r=Nn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ka,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!X(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Da(t),0<t.g&&(t.u=function(t){return Jt&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),pa(t.b,La(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=S(t.Ma,t)):t.s=An(t.Ma,t.g,t)),pa(t.b,La(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){pa(t.b,La(t,"Send error: "+e.message)),_a(t,e)}}(a,t,n,r,i)};var cs=new wt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new A("invalid-email")}function fs(t){"email"in t&&hs(t)}function ds(t){if(!t[$a]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,vt(t));throw new A("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}Za.prototype.s=function(t,e,n,r,i){var o=this;Qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Za.prototype.zb=function(){return ru(this,Hs,{})},Za.prototype.Bb=function(t,e){return ru(this,Ks,{idToken:t,email:e})},Za.prototype.Cb=function(t,e){return ru(this,Gs,{idToken:t,password:e})};var gs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&er(t=new Zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Xo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ds(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Ys,e)}function Is(t,e){return e.returnIdpCredential=!0,ru(t,Js,e)}function Ss(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Xs,e)}function Es(t){if(!t.oobCode)throw new A("invalid-action-code")}(t=Za.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(gs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ks,n)},t.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Us,t)},t.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Rs,t)},t.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ms,t)},t.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fs,t)},t.fb=function(t){return ru(this,$s,t)},t.nb=function(t,e){return ru(this,Bs,{oobCode:t,newPassword:e})},t.Ra=function(t){return ru(this,ks,{oobCode:t})},t.jb=function(t){return ru(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},ks={endpoint:"resetPassword",A:Es,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},B:!0},_s={endpoint:"signupNewUser",A:function(t){if(hs(t),!t.password)throw new A("weak-password")},G:ds,V:!0,B:!0},As={endpoint:"createAuthUri",B:!0},Cs={endpoint:"deleteAccount",N:["idToken"]},Ns={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},Ds={endpoint:"emailLinkSignin",N:["email","oobCode"],A:hs,G:ds,V:!0,B:!0},xs={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:hs,G:ds,V:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:vs,G:ds,B:!0,Na:!0},Ls={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:ds,B:!0,Na:!0},Ps={endpoint:"getAccountInfo"},Rs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");hs(t)},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");hs(t)},Z:"email",B:!0},js={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Vs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Bs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ks={endpoint:"setAccountInfo",N:["idToken"],A:fs,V:!0},Gs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(fs(t),!t.password)throw new A("weak-password")},G:ds,V:!0},Hs={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Ys={endpoint:"verifyAssertion",A:ms,Ya:ys,G:bs,V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:ms,Ya:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ds(t)},V:!0,B:!0},Js={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new A("internal-error")},Ya:ys,G:bs,V:!0},Zs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:ds,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(hs(t),!t.password)throw new A("wrong-password")},G:ds,V:!0,B:!0},$s={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Xo(t);ds(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$a]^!!t.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return De(new A("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ne(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Bn(e+n);jn(s,"key",t.c),a&&jn(s,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new Se((function(e,n){us(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new A("network-request-failed"))}),r,u?void 0:or(jr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new A("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=Ur(t)),new A("internal-error",e)}function au(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new Se((function(t,e){function n(){Kr(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Kr(),e(Error("Network Error"))},timeout:uu.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Or("gapi.load")?n():e(Error("Network Error"))},Ne(Ga(r=Ct(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new Se((function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new wt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Gr(3e4,6e4),cu=new Gr(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?qn((t=Bn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=t,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return i.Z.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function gu(t){var e=fr();return function(t){return ru(t,js,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(fr())}))}function vu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ko(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ne(n)}return n.status="ERROR",Ne(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Dr(t.c,du(t.b)):null,t.l=new Za(t.g,L(t.i),t.C),t.f&&os(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||i.Z.INTERNAL.reactNative&&i.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=S(this.c,this)}hu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Bn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(jn(t,"apiKey",this.s),jn(t,"appName",this.c),jn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.Z.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,jn(t,"providerId",this.a.providerId),e=jr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=vt(e);for(var o=0;o<r.length;o++){var a=r[o];a in e&&delete e[a]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),gt(e)||jn(t,"customParameters",Ur(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&jn(t,"scopes",n.join(",")),this.l?jn(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?jn(t,"eventId",this.g):tr(t.b,"eventId"),this.i?jn(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Vn(t,s)&&jn(t,s,this.b[s]);return this.h?jn(t,"tid",this.h):tr(t.b,"tid"),this.f?jn(t,"eid",this.f):tr(t.b,"eid"),(s=du(this.c)).length&&jn(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Ob=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.rb.then((function(){return new Se((function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&vr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Se((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Cn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=xr();return!Fr(t)&&!qr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return De(new A("popup-blocked"));if(a&&!Fr())return this.ma().o((function(e){vr(t),i(e)})),r(),Ne();this.a||(this.a=gu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw vr(t),i(e),e}));return r(),e})).then((function(){Bo(n),a||dr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=gu(mu(this)));var i=this;return this.a.then((function(){Bo(e),dr(yu(i.s,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return vu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new A("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Z(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ne(this.a.getItem(t)).then((function(t){return t&&Vr(t)}))},t.set=function(t,e){return Ne(this.a.setItem(t,Ur(e)))},t.U=function(t){return Ne(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Su=[];function Eu(t,e,n){gt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function ku(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return De(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Se((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Z(t.a,(function(t){return t==e}))}}function Cu(){if(!Ou())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Er()&&self?(this.v=function(){var t=Er()?self:null;if(H(Su,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Su.push(e)}return e}(),Eu(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:X(e,n.key)}}))})),Eu(this.v,"ping",(function(){return Ne(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ne().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ne(null)}().then((function(e){(t.h=e)&&(t.g=new ku(new Tu(e)),_u(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new Se((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Se((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=Nu(t)),t.i}function xu(t,e){var n=0;return new Se((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!u.indexedDB}catch(t){return!1}}function Lu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new Se((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?_u(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ne()}function Fu(t){return Du(t).then((function(t){var e=Lu(Pu(t,!1));return e.getAll?Ru(e.getAll()):new Se((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=pr(t.c,n),t.c=n}return r}))}function Uu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ju(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ne().then((function(){if(Ou()){var t=Br(),r="__sak"+t;return Iu||(Iu=new Cu),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==Tr();if(!(t=qu()||t&&i.Z.INTERNAL.node&&i.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=qu()||i.Z.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=u.localStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){this.type="nullStorage"}function Gu(){if(!function(){var t="Node"==Tr();if(!(t=Hu()||t&&i.Z.INTERNAL.node&&i.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Hu()||i.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=u.sessionStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Wu(){var t={};t.Browser=Xu,t.Node=Ju,t.ReactNative=Zu,t.Worker=Qu,this.a=t[Tr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Ne().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},ku.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Cu.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Ru((e=Lu(Pu(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Lu(Pu(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Ru(o.add(a))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Ru(Lu(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Ru(Lu(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Uu(t),function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Z(this.a,(function(e){return e==t})),0==this.a.length&&Uu(this)},(t=ju.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Z(this.a,(function(e){return e==t}))},(t=Vu.prototype).get=function(t){return Ne(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ne()},t.U=function(t){return delete this.a[t],Ne()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Ne().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&hn(u.window,"storage",t)},t.ia=function(t){u.window&&pn(u.window,"storage",t)},(t=Ku.prototype).get=function(){return Ne(null)},t.set=function(){return Ne()},t.U=function(){return Ne()},t.ca=function(){},t.ia=function(){},(t=Gu.prototype).get=function(t){var e=this;return Ne().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Yu,Xu={F:Bu,bb:Gu},Ju={F:Bu,bb:Gu},Zu={F:bu,bb:Ku},Qu={F:Bu,bb:Ku},$u={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(qr(xr())||!Sr()),e=Fr(),n=Lr();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Wu),t=zu;try{this.g=!hr()&&zr()||!u.indexedDB?new t.a.F:new ju(Er()?new Vu:new t.a.F)}catch(t){this.g=new Vu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Vu}this.v=new Vu,this.f=S(this.Yb,this),this.b={}}function ec(){return Yu||(Yu=new tc),Yu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),gt(this.a)&&(nc(this,"local").ca(this.f),this.h||(hr()||!zr())&&u.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(Z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),gt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},Jt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,S(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(yc):yc),this.reset()}k(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var gc=Q(128,dc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):$(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}k(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(t){return new A("invalid-cordova-configuration",t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new Se((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),kc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Vr(Vn(o=Bn(i),"firebaseError")||null))?C(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new qo("unknown",null,null,null,new A("no-auth-event")),r=!1,i=Cn(500).then((function(){return kc(t).then((function(){r||Ec(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Wo||(Wo=new Go),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Or("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function kc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return Ko(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function _c(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Ir(void 0)?wr().then((function(){return new Se((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):De(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Or("universalLinks.subscribe",u))throw Sc("cordova-universal-links-plugin-fix is not installed");if(void 0===Or("BuildInfo.packageName",u))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Or("cordova.plugins.browsertab.openUrl",u))throw Sc("cordova-plugin-browsertab is not installed");if("function"!=typeof Or("cordova.InAppBrowser.open",u))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},t.Ob=function(t,e){return e(new A("operation-not-supported-in-this-environment")),Ne()},t.Mb=function(){return De(new A("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return De(new A("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ne().then((function(){return Bo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new qo(e,r,null,o,new A("no-auth-event"),null,i),s=Or("BuildInfo.packageName",u);if("string"!=typeof s)throw new A("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",u),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!xr().toLowerCase().match(/android/))return De(new A("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,gc,56-e.c):mc(e,gc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Or("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Or("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Or("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Se((function(t,e){s=function(){var e=Or("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=Cn(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},l=function(){Hr()&&c()},o.addEventListener("resume",c,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return kc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new A("no-auth-event")),t(e))}))},t.Sa=function(t){Z(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",F:"session"};function Cc(t){return ic(t.b,Ac,t.a)}function Nc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=S(this.s,this),this.b=new Gc,this.C=new Xc,this.g=new _c(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,N,this.J)}function Dc(t,e,n,r,o){var a=i.Z.SDK_VERSION||null;return Ir()?new Ic(t,e,n,a,r,o):new pu(t,e,n,a,r,o)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Oc(t){t.a.Xb()&&xc(t).o((function(e){var n=new qo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Tb()||Hc(t.b)}function Lc(t,e){X(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Cc(t.g).then((function(){xc(t).o((function(e){var n=new qo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):Oc(t)})).o((function(){Oc(t)}))}function Pc(t,e){Z(t.h,(function(t){return t==e}))}Nc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=T()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=T())),e=!0;break}}return Hc(this.b),e};var Rc=new Gr(2e3,1e4),Mc=new Gr(3e4,6e4);function Fc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Uc(e))throw new A("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Se((function(){})):Cc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Rc.get())}Nc.prototype.qa=function(){return this.b.qa()};var Bc={};function qc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Kc(t,e,n,r){var i=qc(e,n,r);return Bc[i]||(Bc[i]=new Nc(t,e,n,r)),Bc[i]}function Gc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Yc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Yc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Ne(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Yc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return De(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Jc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Zc(t,e){this.a=e,Qr(this,"verificationId",t)}function Qc(t,e,n,r){return new Uo(t).fb(e,n).then((function(t){return new Zc(t,r)}))}function $c(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function tl(t,e,n){var r=e&&e[nl];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new so(null,r),this.b=[];var i=this;H(e[el]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Gc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Yc(this,!0,null,t.a),Ne()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Yc(t,s,e,null)})).o((function(e){Yc(t,s,null,e)}))}(this,t,e):De(new A("invalid-auth-event")):(Yc(this,!1,null,null),Ne())}else De(new A("invalid-auth-event"))},Gc.prototype.qa=function(){var t=this;return new Se((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=Cn(Mc.get()).then((function(){t.b||(t.g=!0,Yc(t,!0,null,e))}))}(t))}))},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ne()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):De(new A("invalid-auth-event"))}else De(new A("invalid-auth-event"))},Zc.prototype.confirm=function(t){return t=jo(this.verificationId,t),this.a(t)};var el="mfaInfo",nl="mfaPendingCredential";function rl(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new tl(t,e,n),Qr(this,"resolver",this.b)}function il(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rl(e,t.serverResponse,n,t.message)}catch(t){}return null}function ol(){}function al(t){Qr(this,"factorId",t.fa),this.a=t}function sl(t){if(al.call(this,t),this.a.fa!=Uo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=S(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(t,e){t.stop(),t.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Hr()||!t?Ne():new Se((function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fl(t,!0)})).o((function(e){t.i(e)&&fl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function gl(t,e){t.b=Hi(e[$a]||""),t.a=e.refreshToken,pl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function vl(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function ml(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function yl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=i.Z.SDK_VERSION?Dr(i.Z.SDK_VERSION):null;this.a=new Za(this.l,L(N),r),t.emulatorConfig&&os(this.a,t.emulatorConfig),this.b=new dl(this.a),_l(this,e[$a]),gl(this.b,e),Qr(this,"refreshToken",this.b.a),Nl(this,n||{}),En.call(this),this.R=!1,this.s&&Pr()&&(this.i=Kc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=S(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){os(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Il(o,t.f)},this.ba=null,this.O=new cl(this,n),Qr(this,"multiFactor",this.O)}function bl(t,e){t.ja&&pn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&hn(e,"languageCodeChanged",t.Oa)}function wl(t,e){t.X&&pn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&hn(e,"emulatorConfigChanged",t.Aa)}function Il(t,e){t.$=e,ss(t.a,i.Z.SDK_VERSION?Dr(i.Z.SDK_VERSION,t.$):null)}function Sl(t,e){t.ba&&pn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&hn(e,"frameworkChanged",t.Ba)}function El(t){try{return i.Z.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Tl(t){t.D||t.u.b||(t.u.start(),pn(t,"tokenChanged",t.aa),hn(t,"tokenChanged",t.aa))}function kl(t){pn(t,"tokenChanged",t.aa),t.u.stop()}function _l(t,e){t.za=e,Qr(t,"_lat",e)}function Al(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Oe(e).then((function(){return t}))}function Cl(t){t.i&&!t.R&&(t.R=!0,Lc(t.i,t))}function Nl(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new vl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Dl(){}function xl(t){return Ne().then((function(){if(t.D)throw new A("app-deleted")}))}function Ol(t){return z(t.providerData,(function(t){return t.providerId}))}function Ll(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))}function Pl(t,e){Z(t.providerData,(function(t){return t.providerId==e}))}function Rl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Ml(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new vl(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new vl),H(e.providerData,(function(e){Ll(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),ll(t.O,e.O.b))}function Fl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ps,{idToken:e}).then(S(t.Kc,t))}(t,e).then((function(){return n||Rl(t,"isAnonymous",!1),e}))}))}function Ul(t,e){e[$a]&&t.za!=e[$a]&&(gl(t.b,e),t.dispatchEvent(new ul("tokenChanged")),_l(t,e[$a]),Rl(t,"refreshToken",t.b.a))}function jl(t,e){return Fl(t).then((function(){if(X(Ol(t),e))return Al(t).then((function(){throw new A("provider-already-linked")}))}))}function Vl(t,e,n){return ti({user:t,credential:Vo(e),additionalUserInfo:e=Zi(e),operationType:n})}function Bl(t,e){return Ul(t,e),t.reload().then((function(){return t}))}function ql(t,e,n,r,o){if(!Pr())return De(new A("operation-not-supported-in-this-environment"));if(t.h&&!o)return De(t.h);var a=Ji(n.providerId),s=Br(t.uid+":::"),u=null;(!Fr()||Sr())&&t.s&&n.isOAuthProvider&&(u=yu(t.s,t.l,t.m,e,n,null,s,i.Z.SDK_VERSION||null,null,null,t.tenantId));var c=mr(u,a&&a.ua,a&&a.ta);return r=r().then((function(){if(Gl(t),!o)return t.I().then((function(){}))})).then((function(){return Fc(t.i,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Se((function(n,r){t.na(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Vc(t.i,t,e,c,s)}))})).then((function(t){return c&&vr(c),t?ti(t):null})).o((function(t){throw c&&vr(c),t})),Hl(t,r,o)}function Kl(t,e,n,r,i){if(!Pr())return De(new A("operation-not-supported-in-this-environment"));if(t.h&&!i)return De(t.h);var o=null,a=Br(t.uid+":::");return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Al(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return jc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xl(t.ha);throw o})).then((function(){if(o)throw o})),Hl(t,r,i)}function Gl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Hl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),De(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ul("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){J(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),El(t),S(t.jc,t))),n||e}))}function Wl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[$a]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yl(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Ll(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zl(t){this.a=t,this.b=ec()}tl.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[el],delete n[nl],yt(n,t),e.g(n)}))},k(rl,A),ol.prototype.sb=function(t,e,n){return e.type==uo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Fo(t.a)}),ru(e,Os,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(t.a)}),ru(e,Ls,n)}))}(this,t,e)},k(al,ol),k(sl,al),k(ul,Qe),(t=cl.prototype).yc=function(t){ll(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new so(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Ul(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return ll(e,r),Ul(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?De(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Se((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?us(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new A("internal-error"))}))}(t.f,e).then((function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ne(null):Ne({accessToken:this.b.toString(),refreshToken:this.a})},vl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(yl,En),yl.prototype.wa=function(t){this.ya=t,is(this.a,t)},yl.prototype.la=function(){return this.ya},yl.prototype.Ga=function(){return $(this.$)},yl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(yl.prototype,"providerId","firebase"),(t=yl.prototype).reload=function(){var t=this;return Hl(this,xl(this).then((function(){return Fl(t).then((function(){return Al(t)})).then(Dl)})))},t.oc=function(t){return this.I(t).then((function(t){return new $c(t)}))},t.I=function(t){var e=this;return Hl(this,xl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.za&&(_l(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Rl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");Nl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new ml(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ll(this,e[n]);Rl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:t}))},t.Lc=function(t){return Jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Hl(this,t.c(this.a,this.uid).then((function(t){return Ul(e,t),n=Vl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Hl(this,jl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vl(e,t,"link"),Bl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Hl(this,jl(this,"phone").then((function(){return Qc(El(n),t,e,S(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Hl(this,Ne().then((function(){return Qc(El(n),t,e,S(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Hl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.ed=function(t){var e=this;return Hl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ul(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Hl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xl(this);var e=this;return Hl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ul(e,t),Rl(e,"displayName",t.displayName||null),Rl(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),Al(e)})).then(Dl))},t.cd=function(t){var e=this;return Hl(this,Fl(this).then((function(n){return X(Ol(e),t)?function(t,e,n){return ru(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Ol(e),(function(t){n[t]||Pl(e,t)})),n[Uo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Al(e)})):Al(e).then((function(){throw new A("no-such-provider")}))})))},t.delete=function(){var t=this;return Hl(this,this.I().then((function(e){return ru(t.a,Cs,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");bl(t,null),wl(t,null),Sl(t,null),t.J=[],t.D=!0,kl(t),Qr(t,"refreshToken",null),t.i&&Pc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?S(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?S(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?S(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?S(this.Lb,this):null},t.Ec=function(t){var e=this;return ql(this,"linkViaPopup",t,(function(){return jl(e,t.providerId).then((function(){return Al(e)}))}),!1)},t.Nc=function(t){return ql(this,"reauthViaPopup",t,(function(){return Ne()}),!0)},t.Fc=function(t){var e=this;return Kl(this,"linkViaRedirect",t,(function(){return jl(e,t.providerId)}),!1)},t.Oc=function(t){return Kl(this,"reauthViaRedirect",t,(function(){return Ne()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then((function(n){return Is(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vl(i,t,"link"),Bl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,Ne().then((function(){return ho(Ss(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vl(i,t,"reauthenticate"),Ul(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Hl(this,this.I().then((function(e){return n=e,void 0===t||gt(t)?{}:qi(new Oi(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Hl(this,this.I().then((function(t){return r=t,void 0===e||gt(e)?{}:qi(new Oi(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Hl(this,t=ho(Ne(t),n.uid).then((function(t){return e=Vl(n,t,"reauthenticate"),Ul(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.O.w()),t};var Yl={name:"redirectUser",F:"session"};function Xl(t){return ic(t.b,Yl,t.a)}function Jl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=$l("local"),n=$l("session"),r=$l("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Vr(u.localStorage.getItem(r))}catch(t){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Ql,t.a).then((function(t){return t?$l(t):e}))}))}))})).then((function(e){return t.c=e,Zl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener($l("local"),this.a,S(this.g,this))}function Zl(t,e){var n,r=[];for(n in $u)$u[n]!==e&&r.push(ic(t.b,$l($u[n]),t.a));return r.push(ic(t.b,Ql,t.a)),function(t){return new Se((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)xe(t[s],E(o,s),a);else e(i)}))}(r)}Jl.prototype.g=function(){var t=this,e=$l("local");rh(this,(function(){return Ne().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zl(t,"local").then((function(){t.c=e}))}))}))};var Ql={name:"persistence",F:"session"};function $l(t){return{name:"authUser",F:t}}function th(t,e){return rh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function eh(t){return rh(t,(function(){return ic(t.b,t.c,t.a)}))}function nh(t,e,n){return rh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Wl(t||{})}))}))}function rh(t,e){return t.f=t.f.then(e,e),t.f}function ih(t){if(this.l=!1,Qr(this,"settings",new Jc),Qr(this,"app",t),!fh(this).options||!fh(this).options.apiKey)throw new A("invalid-api-key");t=i.Z.SDK_VERSION?Dr(i.Z.SDK_VERSION):null,this.a=new Za(fh(this).options&&fh(this).options.apiKey,L(N),t),this.R=[],this.s=[],this.O=[],this.hb=i.Z.INTERNAL.createSubscribe(S(this.zc,this)),this.X=void 0,this.bc=i.Z.INTERNAL.createSubscribe(S(this.Ac,this)),lh(this,null),this.i=new Jl(fh(this).options.apiKey+":"+fh(this).name),this.D=new zl(fh(this).options.apiKey+":"+fh(this).name),this.$=vh(this,function(t){var e=fh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Wl(t||{})}))}(t.D,fh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xl(t.D)}));return vh(t,e)}(t).then((function(){return nh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return th(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:eh(t.i)}))):null})).then((function(e){lh(t,e||null)}));return vh(t,n)}(this)),this.h=vh(this,function(t){return t.$.then((function(){return ch(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener($l("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=S(this.Zc,this),this.Ba=S(this.da,this),this.ya=S(this.mc,this),this.za=S(this.wc,this),this.Aa=S(this.xc,this),this.b=null,function(t){var e=fh(t).options.authDomain,n=fh(t).options.apiKey;e&&Pr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Kc(e,n,fh(t).name,t.P),Lc(t.b,t),dh(t)&&Cl(dh(t)),t.m){Cl(t.m);var r=t.m;r.wa(t.la()),bl(r,t),Il(r=t.m,t.J),Sl(r,t),os((r=t.m).a,t.P),wl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Bn(this.P.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function oh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function ah(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function sh(t){Qe.call(this,"frameworkChanged"),this.f=t}function uh(t){return t.Oa||De(new A("auth-domain-config-required"))}function ch(t){if(!Pr())return De(new A("operation-not-supported-in-this-environment"));var e=uh(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return vh(t,e)}function lh(t,e){dh(t)&&(function(t,e){Z(t.S,(function(t){return t==e}))}(dh(t),t.Ba),pn(dh(t),"tokenChanged",t.ya),pn(dh(t),"userDeleted",t.za),pn(dh(t),"userInvalidated",t.Aa),kl(dh(t))),e&&(e.S.push(t.Ba),hn(e,"tokenChanged",t.ya),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Tl(e)),Qr(t,"currentUser",e),e&&(e.wa(t.la()),bl(e,t),Il(e,t.J),Sl(e,t),os(e.a,t.P),wl(e,t))}function hh(t,e){var n=null,r=null;return vh(t,e.then((function(e){return n=Vo(e),r=Zi(e),function(t,e){var n={};return n.apiKey=fh(t).options.apiKey,n.authDomain=fh(t).options.authDomain,n.appName=fh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new yl(t,e);return n&&(i.ha=n),r&&Il(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return dh(t)&&e.uid==dh(t).uid?(Ml(dh(t),e),t.da(e)):(lh(t,e),Cl(e),t.da(e))})).then((function(){gh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),t,S(t.kc,t))),n||e})).then((function(){return ti({user:dh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function fh(t){return t.app}function dh(t){return t.currentUser}function ph(t){return dh(t)&&dh(t)._lat||null}function gh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ph(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ph(t))}}function vh(t,e){return t.R.push(e),e.oa((function(){J(t.R,e)})),e}function mh(){}function yh(){this.a={},this.b=1e12}Jl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in $u)if($u[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!Lr()&&"none"!==t)throw n}}(t),rh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zl(n,t)})).then((function(){if(n.c=$l(t),e)return n.b.set(n.c,e,n.a)})):Ne()}))},k(ih,En),k(oh,Qe),k(ah,Qe),k(sh,Qe),(t=ih.prototype).xb=function(t){return vh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,is(this.a,this.aa),this.dispatchEvent(new oh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,os(this.a,this.P),this.dispatchEvent(new ah(this.P))}},t.Gc=function(t){this.J.push(t),ss(this.a,i.Z.SDK_VERSION?Dr(i.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new sh(this.J))},t.Ga=function(){return $(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:fh(this).options.apiKey,authDomain:fh(this).options.authDomain,appName:fh(this).name,currentUser:dh(this)&&dh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?S(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return hh(i,ws(i.a,o))}))},t.Xc=function(t){if(!Pr())return De(new A("operation-not-supported-in-this-environment"));var e=this,n=Ji(t.providerId),r=Br(),o=null;(!Fr()||Sr())&&fh(this).options.authDomain&&t.isOAuthProvider&&(o=yu(fh(this).options.authDomain,fh(this).options.apiKey,fh(this).name,"signInViaPopup",t,null,r,i.Z.SDK_VERSION||null,null,null,this.T(),this.P));var a=mr(o,n&&n.ua,n&&n.ta);return vh(this,n=uh(this).then((function(n){return Fc(n,a,"signInViaPopup",t,r,!!o,e.T())})).then((function(){return new Se((function(t,n){e.na("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Vc(e.b,e,"signInViaPopup",a,r)}))})).then((function(t){return a&&vr(a),t?ti(t):null})).o((function(t){throw a&&vr(a),t})))},t.Yc=function(t){if(!Pr())return De(new A("operation-not-supported-in-this-environment"));var e=this;return vh(this,uh(this).then((function(){return function(t){return rh(t,(function(){return t.b.set(Ql,t.c.F,t.a)}))}(e.i)})).then((function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return ch(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return De(new A("null-user"));if(this.S!=t.tenantId)return De(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=fh(this).options.apiKey,n.authDomain=fh(this).options.authDomain,n.appName=fh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[$a]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new yl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Il(e,r),Ml(e,t),e}(t,n,e.D,e.Ga());return vh(this,this.h.then((function(){if(fh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return dh(e)&&t.uid==dh(e).uid?(Ml(dh(e),t),e.da(t)):(lh(e,r),Cl(r),e.da(r))})).then((function(){gh(e)})))},t.Ab=function(){var t=this;return vh(this,this.h.then((function(){return t.b&&Wc(t.b.b),dh(t)?(lh(t,null),eh(t.i).then((function(){gh(t)}))):Ne()})))},t.Zc=function(){var t=this;return nh(this.i,fh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=dh(t)&&e){n=dh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ml(dh(t),e),dh(t).I();(dh(t)||e)&&(lh(t,e),e&&(Cl(e),e.ha=t.D),t.b&&Lc(t.b,t),gh(t))}}))},t.da=function(t){return th(this.i,t)},t.mc=function(){gh(this),this.da(dh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return hh(e,Ne(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(dh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),vh(t,t.h.then((function(){!t.l&&X(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(ph(t)))})))}(this,(function(){t.next(dh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(dh(r)):"function"==typeof t.next&&t.next(dh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(dh(r)):"function"==typeof t.next&&t.next(dh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return vh(this,this.h.then((function(){return dh(e)?dh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return hh(e,ru(e.a,Zs,{token:t}))})).then((function(t){var n=t.user;return Rl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return hh(n,ru(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return hh(n,ru(n.a,_s,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return hh(e,t.ka(e.a))}))},t.Sc=function(t){return Jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=dh(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return hh(t,t.a.zb()).then((function(e){var n=e.user;return Rl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return dh(this)&&dh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&dh(this)&&Tl(dh(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&dh(this)&&kl(dh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),vh(this,this.h.then((function(){e.l||X(e.s,t)&&t(ph(e))})))},t.removeAuthTokenListener=function(t){Z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener($l("local"),t.a,this.ja),this.b&&(Pc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return vh(this,function(t,e){return ru(t,As,{identifier:e,continueUri:Rr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Po(t)},t.wb=function(t,e){var n=this;return vh(this,Ne().then((function(){var t=new Oi(e);if(!t.c)throw new A("argument-error",Ri+" must be true when sending sign in link to email");return qi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return vh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return vh(this,this.a.Ra(t).then((function(t){return new ci(t)})))},t.jb=function(t){return vh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return vh(this,Ne().then((function(){return void 0===e||gt(e)?{}:qi(new Oi(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return vh(this,Qc(this,t,e,S(this.$a,this)))},t.Vc=function(t,e){var n=this;return vh(this,Ne().then((function(){var r=e||fr(),i=Lo(t,r);if(!(r=Po(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.$a(i)})))},mh.prototype.render=function(){},mh.prototype.reset=function(){},mh.prototype.getResponse=function(){},mh.prototype.execute=function(){};var bh=null;function wh(t,e){return(e=Ih(e))&&t.a[e]||null}function Ih(t){return(t=void 0===t?1e12:t)?t.toString():null}function Sh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Eh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Th(){}function kh(){}yh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sh(t,e),this.b++},yh.prototype.reset=function(t){var e=wh(this,t);t=Ih(t),e&&t&&(e.delete(),delete this.a[t])},yh.prototype.getResponse=function(t){return(t=wh(this,t))?t.getResponse():null},yh.prototype.execute=function(t){(t=wh(this,t))&&t.execute()},Sh.prototype.getResponse=function(){return Eh(this),this.b},Sh.prototype.execute=function(){Eh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Sh.prototype.delete=function(){Eh(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Qr(Th,"FACTOR_ID","phone"),kh.prototype.g=function(){return bh||(bh=new yh),Ne(bh)},kh.prototype.c=function(){};var _h=null;function Ah(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new wt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nh=new Gr(3e4,6e4);Ah.prototype.g=function(t){var e=this;return new Se((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),Nh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete u[e.a]},Ne(Ga(Ct(Ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ah.prototype.c=function(){this.b--};var Dh=null;function xh(t,e,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(_h||(_h=new kh),a=_h):(Dh||(Dh=new Ah),a=Dh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rh],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Za(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(t){if(Mh(s,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Or(c,u);"function"==typeof e&&e(t)}};var l=this.a[Lh];this.a[Lh]=function(){if(Mh(s,null),"function"==typeof l)l();else if("string"==typeof l){var t=Or(l,u);"function"==typeof t&&t()}}}var Oh="callback",Lh="expired-callback",Ph="sitekey",Rh="size";function Mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fh(t,e){return t.h.push(e),e.oa((function(){J(t.h,e)})),e}function Uh(t){if(t.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(t,e,n){var r=!1;try{this.b=n||i.Z.app()}catch(t){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=i.Z.SDK_VERSION?Dr(i.Z.SDK_VERSION,a):null,xh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,L(N),r)}function Vh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Bh.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(t=xh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fh(this,Ne().then((function(){if(Rr()&&!Er())return wr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Vs,{})})).then((function(e){t.a[Ph]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Uh(this);var t=this;return Fh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ve(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&ge(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Uh(this);var t=this;return Fh(this,this.render().then((function(e){return new Se((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Uh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Uh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},k(jh,xh);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Gh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Hh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function zh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xh(t){return v(t)&&"string"==typeof t.uid}function Jh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Zh(t,e){for(var n in e){var r=e[n].name;t[r]=tf(r,t[n],e[n].j)}}function Qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Vh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function $h(t,e,n,r){t[e]=tf(e,n,r)}function tf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Vh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Zh(ih.prototype,{jb:{name:"applyActionCode",j:[qh("code")]},Ra:{name:"checkActionCode",j:[qh("code")]},nb:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jh(Gh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jh(Gh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[qh("email"),Jh(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[qh("email"),Gh("actionCodeSettings")]},xb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof yl)}},Wh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Gh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Qh(ih.prototype,{lc:{name:"languageCode",kb:Jh(qh(),Wh(),"languageCode")},ti:{name:"tenantId",kb:Jh(qh(),Wh(),"tenantId")}}),ih.Persistence=$u,ih.Persistence.LOCAL="local",ih.Persistence.SESSION="session",ih.Persistence.NONE="none",Zh(yl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},qb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},tb:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jh(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Bb:{name:"updateEmail",j:[qh("email")]},Cb:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Db:{name:"updateProfile",j:[Gh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Jh(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),Zh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(Se.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qh(Jc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Kh("appVerificationDisabledForTesting")}}),Zh(Zc.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),$h(lo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[yo,xo,Mo,go],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jh(qh(),Gh(),"json")]),$h(Oo,"credential",(function(t,e){return new Do(t,e)}),[qh("email"),qh("password")]),Zh(Do.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Zh(So.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),$h(So,"credential",Eo,[Jh(qh(),Gh(),"token")]),$h(Oo,"credentialWithLink",Lo,[qh("email"),qh("emailLink")]),Zh(To.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),$h(To,"credential",ko,[Jh(qh(),Gh(),"token")]),Zh(_o.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),$h(_o,"credential",Ao,[Jh(qh(),Jh(Gh(),Wh()),"idToken"),Jh(qh(),Wh(),"accessToken",!0)]),Zh(Co.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),$h(Co,"credential",No,[Jh(qh(),Gh(),"token"),qh("secret",!0)]),Zh(Io.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Jh(qh(),Jh(Gh(),Wh()),"optionsOrIdToken"),Jh(qh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(vo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Zh(fo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(Uo,"credential",jo,[qh("verificationId"),qh("verificationCode")]),Zh(Uo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yh(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yh(t.session,co)&&Xh(t.multiFactorHint):t.session&&t.multiFactorUid?Yh(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Zh(Ro.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Zh(A.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Zh(Yo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Zh(zo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Zh(rl.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Zh(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Zh(cl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Jh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xh},qh(),"multiFactorInfoIdentifier")]}}),Zh(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$h(Ei,"parseLink",xi,[qh("link")]),$h(Th,"assertion",(function(t){return new sl(t)}),[zh("phone")]),function(){if(void 0===i.Z||!i.Z.INTERNAL||!i.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ih,AuthCredential:lo,Error:A};$h(t,"EmailAuthProvider",Oo,[]),$h(t,"FacebookAuthProvider",So,[]),$h(t,"GithubAuthProvider",To,[]),$h(t,"GoogleAuthProvider",_o,[]),$h(t,"TwitterAuthProvider",Co,[]),$h(t,"OAuthProvider",Io,[qh("providerId")]),$h(t,"SAMLAuthProvider",wo,[qh("providerId")]),$h(t,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ih)}}]),$h(t,"RecaptchaVerifier",jh,[Jh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.Z.app.App)}}]),$h(t,"ActionCodeURL",Ei,[]),$h(t,"PhoneMultiFactorGenerator",Th,[]),i.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ih(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:S((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:S(t.nc,t),addAuthTokenListener:S(t.cc,t),removeAuthTokenListener:S(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.Z.registerVersion("@firebase/auth","0.16.4"),i.Z.INTERNAL.extendNamespace({User:yl})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var o=n(211),a=n.n(o);n(544),n(997),n(210),n(634),n(573),function(){(function(){var t,e,i="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var o;t:{var a={};try{a.__proto__={xb:!0},o=a.xb;break t}catch(Zt){}o=!1}e=o?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var s=e;function u(t,e){if(t.prototype=i(e.prototype),t.prototype.constructor=t,s)s(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.K=e.prototype}var c="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},l="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function h(t,e){if(e){var n=l;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&c(n,t,{configurable:!0,writable:!0,value:e})}}h("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),h("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}}));var f=this;function d(t){return void 0!==t}function p(t){return"string"==typeof t}var g=/^[\w+/_-]+[=]{0,2}$/,v=null;function m(){}function y(t){t.W=void 0,t.Xa=function(){return t.W?t.W:t.W=new t}}function b(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function w(t){return"array"==b(t)}function I(t){var e=b(t);return"array"==e||"object"==e&&"number"==typeof t.length}function S(t){return"function"==b(t)}function E(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var T="closure_uid_"+(1e9*Math.random()>>>0),k=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function A(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:A).apply(null,arguments)}function N(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function D(t,e){for(var n in e)t[n]=e[n]}var x,O=Date.now||function(){return+new Date};function L(t,e){t=t.split(".");var n,r=f;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&d(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function P(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.vc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function F(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}P(R,Error),R.prototype.name="CustomError",P(M,R),M.prototype.name="AssertionError";var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(p(t))return p(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=p(t)?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=p(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=p(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=U(t,e)}function G(t,e){var n;return(n=0<=(e=U(t,e)))&&H(t,e),n}function H(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function W(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Y(t,e,n,r){return Array.prototype.splice.apply(t,X(arguments,1))}function X(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,Q=/</g,$=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return t<e?-1:t>e?1:0}function ot(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Q,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace($,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function at(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function st(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ut.length;o++)n=ut[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}var lt="StopIteration"in f?f.StopIteration:{message:"StopIteration",stack:""};function ht(){}function ft(t){if(t instanceof ht)return t;if("function"==typeof t.ha)return t.ha(!1);if(I(t)){var e=0,n=new ht;return n.next=function(){for(;;){if(e>=t.length)throw lt;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function dt(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof dt)for(n=t.ja(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pt(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gt(t.g,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.h!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gt(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}ht.prototype.next=function(){throw lt},ht.prototype.ha=function(){return this},(t=dt.prototype).la=function(){pt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},t.ja=function(){return pt(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0},t.get=function(t,e){return gt(this.g,t)?this.g[t]:e},t.set=function(t,e){gt(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},t.forEach=function(t,e){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.ha=function(t){pt(this);var e=0,n=this.j,r=this,i=new ht;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(e>=r.a.length)throw lt;var i=r.a[e++];return t?i:r.g[i]},i};var vt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mt(t,e,n,r){for(var i=n.length;0<=(e=t.indexOf(n,e))&&e<r;){var o=t.charCodeAt(e-1);if(!(38!=o&&63!=o||(o=t.charCodeAt(e+i))&&61!=o&&38!=o&&35!=o))return e;e+=i+1}return-1}var yt=/#|$/;function bt(t,e){var n=t.search(yt),r=mt(t,0,e,n);if(0>r)return null;var i=t.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=e.length+1,decodeURIComponent(t.substr(r,i-r).replace(/\+/g," "))}var wt=/[?&]($|#)/;function It(t,e){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,t instanceof It?(this.i=d(e)?e:t.i,St(this,t.j),this.A=t.A,this.h=t.h,Et(this,t.C),this.g=t.g,Tt(this,Ut(t.a)),this.s=t.s):t&&(n=String(t).match(vt))?(this.i=!!e,St(this,n[1]||"",!0),this.A=_t(n[2]||""),this.h=_t(n[3]||"",!0),Et(this,n[4]),this.g=_t(n[5]||"",!0),Tt(this,n[6]||"",!0),this.s=_t(n[7]||"")):(this.i=!!e,this.a=new Pt(null,this.i))}function St(t,e,n){t.j=n?_t(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Et(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function Tt(t,e,n){e instanceof Pt?(t.a=e,function(t,e){e&&!t.j&&(Rt(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Mt(this,e),Mt(this,n),0<t.length&&(this.h=null,this.a.set(jt(this,n),z(t)),this.g+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=At(e,Ot)),t.a=new Pt(e,t.i))}function kt(t){return t instanceof It?new It(t):new It(t,void 0)}function _t(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function At(t,e,n){return p(t)?(t=encodeURI(t).replace(e,Ct),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ct(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}It.prototype.toString=function(){var t=[],e=this.j;e&&t.push(At(e,Nt,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.A)&&t.push(At(e,Nt,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(At(n,"/"==n.charAt(0)?xt:Dt,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.s)&&t.push("#",At(n,Lt)),t.join("")};var Nt=/[#\/\?@]/g,Dt=/[#\?:]/g,xt=/[#\?]/g,Ot=/[#\?@]/g,Lt=/#/g;function Pt(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function Rt(t){t.a||(t.a=new dt,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Mt(t,e){Rt(t),e=jt(t,e),gt(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,gt((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&pt(t)))}function Ft(t,e){return Rt(t),e=jt(t,e),gt(t.a.g,e)}function Ut(t){var e=new Pt;return e.h=t.h,t.a&&(e.a=new dt(t.a),e.g=t.g),e}function jt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Vt(t){this.a=kt(t)}function Bt(t){return t.a.a.get(Gt.Pa)||null}function qt(t,e){e?t.a.a.set(Gt.PROVIDER_ID,e):Mt(t.a.a,Gt.PROVIDER_ID)}(t=Pt.prototype).add=function(t,e){Rt(this),this.h=null,t=jt(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},t.clear=function(){this.a=this.h=null,this.g=0},t.forEach=function(t,e){Rt(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.ja=function(){Rt(this);for(var t=this.a.la(),e=this.a.ja(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.la=function(t){Rt(this);var e=[];if(p(t))Ft(this,t)&&(e=W(e,this.a.get(jt(this,t))));else{t=this.a.la();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Rt(this),this.h=null,Ft(this,t=jt(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},t.get=function(t,e){return t&&0<(t=this.la(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ja(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.la(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.h=t.join("&")},Vt.prototype.toString=function(){return this.a.toString()};var Kt,Gt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};t:{var Ht=f.navigator;if(Ht){var Wt=Ht.userAgent;if(Wt){Kt=Wt;break t}}Kt=""}function zt(t){return-1!=Kt.indexOf(t)}function Yt(){return(zt("Chrome")||zt("CriOS"))&&!zt("Edge")}function Xt(t){return Xt[" "](t),t}Xt[" "]=m;var Jt,Zt,Qt=zt("Opera"),$t=zt("Trident")||zt("MSIE"),te=zt("Edge"),ee=te||$t,ne=zt("Gecko")&&!(-1!=Kt.toLowerCase().indexOf("webkit")&&!zt("Edge"))&&!(zt("Trident")||zt("MSIE"))&&!zt("Edge"),re=-1!=Kt.toLowerCase().indexOf("webkit")&&!zt("Edge"),ie=re&&zt("Mobile"),oe=zt("Macintosh");function ae(){var t=f.document;return t?t.documentMode:void 0}t:{var se="",ue=(Zt=Kt,ne?/rv:([^\);]+)(\)|;)/.exec(Zt):te?/Edge\/([\d\.]+)/.exec(Zt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zt):re?/WebKit\/(\S+)/.exec(Zt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Zt):void 0);if(ue&&(se=ue?ue[1]:""),$t){var ce=ae();if(null!=ce&&ce>parseFloat(se)){Jt=String(ce);break t}}Jt=se}var le,he={};function fe(t){return function(t,e){var n=he;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=J(String(Jt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=it(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==a[2].length,0==s[2].length)||it(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var de=f.document;function pe(t,e){this.a=t===ve&&e||"",this.g=ge}le=de&&$t?ae()||("CSS1Compat"==de.compatMode?parseInt(Jt,10):5):void 0,pe.prototype.ma=!0,pe.prototype.ka=function(){return this.a},pe.prototype.toString=function(){return"Const{"+this.a+"}"};var ge={},ve={};function me(){this.a="",this.h=be}function ye(t){return t instanceof me&&t.constructor===me&&t.h===be?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+b(t)),"type_error:TrustedResourceUrl")}me.prototype.ma=!0,me.prototype.ka=function(){return this.a.toString()},me.prototype.g=function(){return 1},me.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var be={};function we(){this.a="",this.h=ke}function Ie(t){return t instanceof we&&t.constructor===we&&t.h===ke?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+b(t)),"type_error:SafeUrl")}we.prototype.ma=!0,we.prototype.ka=function(){return this.a.toString()},we.prototype.g=function(){return 1},we.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Se=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ee(t){return t instanceof we?t:(t="object"==typeof t&&t.ma?t.ka():String(t),Se.test(t)||(t="about:invalid#zClosurez"),_e(t))}function Te(t){return t instanceof we?t:(t="object"==typeof t&&t.ma?t.ka():String(t),Se.test(t)||(t="about:invalid#zClosurez"),_e(t))}var ke={};function _e(t){var e=new we;return e.a=t,e}function Ae(){this.a="",this.g=Ce}_e("about:blank"),Ae.prototype.ma=!0;var Ce={};function Ne(){this.a="",this.j=xe,this.h=null}function De(t){return t instanceof Ne&&t.constructor===Ne&&t.j===xe?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+b(t)),"type_error:SafeHtml")}Ae.prototype.ka=function(){return this.a},Ae.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Ne.prototype.g=function(){return this.h},Ne.prototype.ma=!0,Ne.prototype.ka=function(){return this.a.toString()},Ne.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xe={};function Oe(t,e){var n=new Ne;return n.a=t,n.h=e,n}Oe("<!DOCTYPE html>",0);var Le=Oe("",0);Oe("<br>",0);var Pe,Re,Me=(Re=!1,function(){return Re||(Pe=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=De(Le),!e.parentElement)}(),Re=!0),Pe});function Fe(t,e){e=e instanceof we?e:Te(e),t.assign(Ie(e))}function Ue(t,e){this.a=d(t)?t:0,this.g=d(e)?e:0}function je(t,e){this.width=t,this.height=e}function Ve(t){return t?new Je(ze(t)):x||(x=new Je)}function Be(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):Ke(document,t,e)}function qe(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var r=e||n;t=r.querySelectorAll&&r.querySelector&&t?r.querySelector(t?"."+t:""):Ke(n,t,e)[0]||null}return t||null}function Ke(t,e,n){var r;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var i=t.getElementsByClassName(e);return i}if(i=t.getElementsByTagName("*"),e){var o={};for(n=r=0;t=i[n];n++){var a=t.className;"function"==typeof a.split&&K(a.split(/\s+/),e)&&(o[r++]=t)}return o.length=r,o}return i}Ue.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Ue.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Ue.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Ue.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(t=je.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ge={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function He(t){return t.scrollingElement?t.scrollingElement:(re||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function We(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ze(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function Ye(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(ze(t).createTextNode(String(e)))}}function Xe(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||p(t.className)&&K(t.className.split(/\s+/),e)})):null}function Je(t){this.a=t||f.document||document}Je.prototype.N=function(){return p(void 0)?this.a.getElementById(void 0):void 0};var Ze={Fc:!0},Qe={Hc:!0},$e={Ec:!0},tn={Gc:!0};function en(){throw Error("Do not instantiate directly")}function nn(t,e,n,r){if(t=t(e||on,void 0,n),r=(r||Ve()).a.createElement("DIV"),(t=function(t){if(!E(t))return ot(String(t));if(t instanceof en){if(t.fa===Ze)return t.content;if(t.fa===tn)return ot(t.content)}return F("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(rn),t=Oe(t,null),Me())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=De(t),1==r.childNodes.length&&1==(t=r.firstChild).nodeType&&(r=t),r}en.prototype.va=null,en.prototype.toString=function(){return this.content};var rn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,on={};function an(){en.call(this)}function sn(t){return null!=t&&t.fa===Ze?t:t instanceof Ne?hn(De(t).toString(),t.g()):hn(ot(String(String(t))),function(t){if(null!=t)switch(t.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function un(){en.call(this)}function cn(t,e){this.content=String(t),this.va=null!=e?e:null}function ln(t){return new cn(t,void 0)}P(an,en),an.prototype.fa=Ze,P(un,en),un.prototype.fa=Qe,un.prototype.va=1,P(cn,en),cn.prototype.fa=tn;var hn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.va=n),t}}(an),fn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(un);function dn(t){return(t=String(t))?new cn(t,void 0):""}var pn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.va=n),t):""}}(an);function gn(t){return null!=t&&t.fa===Ze?String(String(t.content).replace(_n,"").replace(An,"&lt;")).replace(Sn,bn):ot(String(t))}function vn(t){return null!=t&&t.fa===Qe?t=String(t).replace(En,In):t instanceof we?t=String(Ie(t).toString()).replace(En,In):(t=String(t),kn.test(t)?t=t.replace(En,In):(F("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function mn(t){return null!=t&&t.fa===$e?t=t.content:null==t?t="":t instanceof Ae?t instanceof Ae&&t.constructor===Ae&&t.g===Ce?t=t.a:(F("expected object of type SafeStyle, got '"+t+"' of type "+b(t)),t="type_error:SafeStyle"):(t=String(t),Tn.test(t)||(F("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var yn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function bn(t){return yn[t]}var wn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function In(t){return wn[t]}var Sn=/[\x00\x22\x27\x3c\x3e]/g,En=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Tn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,kn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,_n=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,An=/</g;function Cn(){return ln("Enter a valid phone number")}function Nn(){return ln("Unable to send password reset code to specified email")}function Dn(){return ln("Something went wrong. Please try again.")}function xn(){return ln("This email already exists without any means of sign-in. Please reset the password to recover.")}function On(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return ln(e)}function Ln(){return ln("Please login again to perform this operation")}function Pn(t,e,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Rn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=Dn()}t=ln(t).toString()}this.message=t||"",this.credential=n||null}u(Pn,Error),Pn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Rn="firebaseui/";function Mn(){0!=Fn&&(Un[this[T]||(this[T]=++k)]=this),this.T=this.T,this.C=this.C}var Fn=0,Un={};function jn(t,e){t.T?d(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(d(void 0)?C(e,void 0):e))}function Vn(t){t&&"function"==typeof t.o&&t.o()}Mn.prototype.T=!1,Mn.prototype.o=function(){if(!this.T&&(this.T=!0,this.m(),0!=Fn)){var t=this[T]||(this[T]=++k);if(0!=Fn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Un[t]}},Mn.prototype.m=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Bn=Object.freeze||function(t){return t},qn=!$t||9<=Number(le),Kn=$t&&!fe("9"),Gn=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",m,e),f.removeEventListener("test",m,e)}catch(t){}return t}();function Hn(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.qb=!0}function Wn(t,e){if(Hn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ne){t:{try{Xt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=p(t.pointerType)?t.pointerType:zn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Hn.prototype.stopPropagation=function(){this.h=!0},Hn.prototype.preventDefault=function(){this.qb=!1},P(Wn,Hn);var zn=Bn({2:"touch",3:"pen",4:"mouse"});Wn.prototype.stopPropagation=function(){Wn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Wn.prototype.preventDefault=function(){Wn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Kn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Yn="closure_listenable_"+(1e6*Math.random()|0),Xn=0;function Jn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++Xn,this.sa=this.Ia=!1}function Zn(t){t.sa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Qn(t){this.src=t,this.a={},this.g=0}function $n(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(Zn(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function tr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.sa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}Qn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var a=tr(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Jn(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var er="closure_lm_"+(1e6*Math.random()|0),nr={};function rr(t,e,n,r,i){if(r&&r.once)return or(t,e,n,r,i);if(w(e)){for(var o=0;o<e.length;o++)rr(t,e[o],n,r,i);return null}return n=pr(n),t&&t[Yn]?t.J.add(String(e),n,!1,E(r)?!!r.capture:!!r,i):ir(t,e,n,!1,r,i)}function ir(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=E(i)?!!i.capture:!!i,s=fr(t);if(s||(t[er]=s=new Qn(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=hr,e=qn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ur(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function or(t,e,n,r,i){if(w(e)){for(var o=0;o<e.length;o++)or(t,e[o],n,r,i);return null}return n=pr(n),t&&t[Yn]?t.J.add(String(e),n,!0,E(r)?!!r.capture:!!r,i):ir(t,e,n,!0,r,i)}function ar(t,e,n,r,i){if(w(e))for(var o=0;o<e.length;o++)ar(t,e[o],n,r,i);else r=E(r)?!!r.capture:!!r,n=pr(n),t&&t[Yn]?(t=t.J,(e=String(e).toString())in t.a&&-1<(n=tr(o=t.a[e],n,r,i))&&(Zn(o[n]),H(o,n),0==o.length&&(delete t.a[e],t.g--))):t&&(t=fr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=tr(e,n,r,i)),(n=-1<t?e[t]:null)&&sr(n))}function sr(t){if("number"!=typeof t&&t&&!t.sa){var e=t.src;if(e&&e[Yn])$n(e.J,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ur(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fr(e))?($n(n,t),0==n.g&&(n.src=null,e[er]=null)):Zn(t)}}}function ur(t){return t in nr?nr[t]:nr[t]="on"+t}function cr(t,e,n,r){var i=!0;if((t=fr(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.sa&&(o=lr(o,r),i=i&&!1!==o)}return i}function lr(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&sr(t),n.call(r,e)}function hr(t,e){if(t.sa)return!0;if(!qn){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Wn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.g;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.h&&0<=i;i--){e.g=r[i];var o=cr(r[i],t,!0,e);n=n&&o}for(i=0;!e.h&&i<r.length;i++)e.g=r[i],o=cr(r[i],t,!1,e),n=n&&o}return n}return lr(t,new Wn(e,this))}function fr(t){return(t=t[er])instanceof Qn?t:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function pr(t){return S(t)?t:(t[dr]||(t[dr]=function(e){return t.handleEvent(e)}),t[dr])}function gr(){Mn.call(this),this.J=new Qn(this),this.wb=this,this.Ha=null}function vr(t,e){var n,r=t.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(t=t.wb,r=e.type||e,p(e))e=new Hn(e,t);else if(e instanceof Hn)e.target=e.target||t;else{var i=e;ct(e=new Hn(r,t),i)}if(i=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var a=e.g=n[o];i=mr(a,r,!0,e)&&i}if(e.h||(i=mr(a=e.g=t,r,!0,e)&&i,e.h||(i=mr(a,r,!1,e)&&i)),n)for(o=0;!e.h&&o<n.length;o++)i=mr(a=e.g=n[o],r,!1,e)&&i;return i}function mr(t,e,n,r){if(!(e=t.J.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.sa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&$n(t.J,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.qb}P(gr,Mn),gr.prototype[Yn]=!0,gr.prototype.Za=function(t){this.Ha=t},gr.prototype.removeEventListener=function(t,e,n,r){ar(this,t,e,n,r)},gr.prototype.m=function(){if(gr.K.m.call(this),this.J){var t,e=this.J;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Zn(n[r]);delete e.a[t],e.g--}}this.Ha=null};var yr={},br=0;function wr(t,e){if(!t)throw Error("Event target element must be provided!");if(t=Ir(t),yr[t]&&yr[t].length)for(var n=0;n<yr[t].length;n++)vr(yr[t][n],e)}function Ir(t){return void 0===t.a&&(t.a=br,br++),t.a}function Sr(t){if(!t)throw Error("Event target element must be provided!");gr.call(this),this.a=t}function Er(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function Tr(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function kr(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function _r(){this.g=this.a=null}u(Sr,gr),Sr.prototype.N=function(){return this.a},Sr.prototype.register=function(){var t=Ir(this.N());yr[t]?K(yr[t],this)||yr[t].push(this):yr[t]=[this]},Tr.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var Ar,Cr,Nr=new Tr((function(){return new xr}),(function(t){t.reset()}));function Dr(){var t=Rr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function xr(){this.next=this.g=this.a=null}function Or(t){f.setTimeout((function(){throw t}),0)}function Lr(t,e){Cr||function(){if(f.Promise&&f.Promise.resolve){var t=f.Promise.resolve(void 0);Cr=function(){t.then(Mr)}}else Cr=function(){var t=Mr;!S(f.setImmediate)||f.Window&&f.Window.prototype&&!zt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Ar||(Ar=function(){var t=f.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!zt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!zt("Trident")&&!zt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(d(n.next)){var t=(n=n.next).gb;n.gb=null,t()}},function(t){r.next={gb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){f.setTimeout(t,0)}}()),Ar(t)):f.setImmediate(t)}}(),Pr||(Cr(),Pr=!0),Rr.add(t,e)}_r.prototype.add=function(t,e){var n=Nr.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},xr.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},xr.prototype.reset=function(){this.next=this.g=this.a=null};var Pr=!1,Rr=new _r;function Mr(){for(var t;t=Dr();){try{t.a.call(t.g)}catch(t){Or(t)}kr(Nr,t)}Pr=!1}function Fr(t){if(this.a=Ur,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,t!=m)try{var e=this;t.call(void 0,(function(t){Xr(e,jr,t)}),(function(t){if(!(t instanceof ei))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Xr(e,Vr,t)}))}catch(t){Xr(this,Vr,t)}}var Ur=0,jr=2,Vr=3;function Br(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Br.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var qr=new Tr((function(){return new Br}),(function(t){t.reset()}));function Kr(t,e,n){var r=qr.get();return r.s=t,r.g=e,r.j=n,r}function Gr(t){if(t instanceof Fr)return t;var e=new Fr(m);return Xr(e,jr,t),e}function Hr(t){return new Fr((function(e,n){n(t)}))}function Wr(t,e){if(t.a==Ur)if(t.h){var n=t.h;if(n.g){for(var r=0,i=null,o=null,a=n.g;a&&(a.h||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ur&&1==r?Wr(n,e):(o?((r=o).next==n.j&&(n.j=r),r.next=r.next.next):Zr(n),Qr(n,i,Vr,e)))}t.h=null}else Xr(t,Vr,e)}function zr(t,e){t.g||t.a!=jr&&t.a!=Vr||Jr(t),t.j?t.j.next=e:t.g=e,t.j=e}function Yr(t,e,n,r){var i=Kr(null,null,null);return i.a=new Fr((function(t,o){i.s=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.g=n?function(e){try{var i=n.call(r,e);!d(i)&&e instanceof ei?o(e):t(i)}catch(t){o(t)}}:o})),i.a.h=t,zr(t,i),i.a}function Xr(t,e,n){if(t.a==Ur){t===n&&(e=Vr,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var r=n,i=t.hc,o=t.ic;if(r instanceof Fr){zr(r,Kr(i||m,o||null,t));var a=!0}else if(Er(r))r.then(i,o,t),a=!0;else{if(E(r))try{var s=r.then;if(S(s)){!function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(r,s,i,o,t),a=!0;break t}}catch(e){o.call(t,e),a=!0;break t}a=!1}}a||(t.A=n,t.a=e,t.h=null,Jr(t),e!=Vr||n instanceof ei||function(t,e){t.s=!0,Lr((function(){t.s&&ti.call(null,e)}))}(t,n))}}function Jr(t){t.i||(t.i=!0,Lr(t.Hb,t))}function Zr(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),e}function Qr(t,e,n,r){if(n==Vr&&e.g&&!e.h)for(;t&&t.s;t=t.h)t.s=!1;if(e.a)e.a.h=null,$r(e,n,r);else try{e.h?e.s.call(e.j):$r(e,n,r)}catch(t){ti.call(null,t)}kr(qr,e)}function $r(t,e,n){e==jr?t.s.call(t.j,n):t.g&&t.g.call(t.j,n)}Fr.prototype.then=function(t,e,n){return Yr(this,S(t)?t:null,S(e)?e:null,n)},Fr.prototype.$goog_Thenable=!0,(t=Fr.prototype).fc=function(t,e){return(t=Kr(t,t,e)).h=!0,zr(this,t),this},t.Ca=function(t,e){return Yr(this,null,t,e)},t.cancel=function(t){this.a==Ur&&Lr((function(){Wr(this,new ei(t))}),this)},t.hc=function(t){this.a=Ur,Xr(this,jr,t)},t.ic=function(t){this.a=Ur,Xr(this,Vr,t)},t.Hb=function(){for(var t;t=Zr(this);)Qr(this,t,this.a,this.A);this.i=!1};var ti=Or;function ei(t){R.call(this,t)}function ni(t,e,n){e||(e={}),n=n||window;var r=t instanceof we?t:Ee(void 0!==t.href?t.href:String(t));t=e.target||t.target;var i=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");return(zt("iPhone")&&!zt("iPod")&&!zt("iPad")||zt("iPad")||zt("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),r=r instanceof we?r:Te(r),o.href=Ie(r),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=Ie(r).toString(),n&&(ee&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ot(e)+'">',null),n.document.write(De(e)),n.document.close())):(n=n.open(Ie(r).toString(),t,o))&&e.noopener&&(n.opener=null),n}function ri(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(t){}return!1}function ii(t){ni(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function oi(t,e){if(null==(t=E(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function ai(){return window.location.href}function si(t){var e=mi;this.s=[],this.T=e,this.O=t||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function ui(t,e,n){t.a=!0,t.h=n,t.j=!e,fi(t)}function ci(t){if(t.a){if(!t.J)throw new di(t);t.J=!1}}function li(t,e,n){t.s.push([e,n,void 0]),t.a&&fi(t)}function hi(t){return q(t.s,(function(t){return S(t[1])}))}function fi(t){if(t.i&&t.a&&hi(t)){var e=t.i,n=vi[e];n&&(f.clearTimeout(n.a),delete vi[e]),t.i=0}t.g&&(t.g.C--,delete t.g),e=t.h;for(var r=n=!1;t.s.length&&!t.A;){var i=t.s.shift(),o=i[0],a=i[1];if(i=i[2],o=t.j?a:o)try{var s=o.call(i||t.O,e);d(s)&&(t.j=t.j&&(s==e||s instanceof Error),t.h=e=s),(Er(e)||"function"==typeof f.Promise&&e instanceof f.Promise)&&(r=!0,t.A=!0)}catch(r){e=r,t.j=!0,hi(t)||(n=!0)}}t.h=e,r&&(s=C(t.L,t,!0),r=C(t.L,t,!1),e instanceof si?(li(e,s,r),e.l=!0):e.then(s,r)),n&&(e=new gi(e),vi[e.a]=e,t.i=e.a)}function di(){R.call(this)}function pi(){R.call(this)}function gi(t){this.a=f.setTimeout(C(this.h,this),0),this.g=t}P(ei,R),ei.prototype.name="cancel",si.prototype.cancel=function(t){if(this.a)this.h instanceof si&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(t=new pi(this),ci(this),ui(this,!1,t))}},si.prototype.L=function(t,e){this.A=!1,ui(this,t,e)},si.prototype.callback=function(t){ci(this),ui(this,!0,t)},si.prototype.then=function(t,e,n){var r,i,o=new Fr((function(t,e){r=t,i=e}));return li(this,r,(function(t){t instanceof pi?o.cancel():i(t)})),o.then(t,e,n)},si.prototype.$goog_Thenable=!0,P(di,R),di.prototype.message="Deferred has already fired",di.prototype.name="AlreadyCalledError",P(pi,R),pi.prototype.message="Deferred was canceled",pi.prototype.name="CanceledError",gi.prototype.h=function(){throw delete vi[this.a],this.g};var vi={};function mi(){if(this&&this.rb){var t=this.rb;t&&"SCRIPT"==t.tagName&&yi(t,!0,this.sb)}}function yi(t,e,n){null!=n&&f.clearTimeout(n),t.onload=m,t.onerror=m,t.onreadystatechange=m,e&&window.setTimeout((function(){We(t)}),0)}var bi=0,wi=1;function Ii(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Si(){return f.google&&f.google.accounts&&f.google.accounts.id||null}function Ei(t){this.a=t||Si(),this.h=!1,this.g=null}function Ti(t,e,n){return t.a&&e?(t.h=!0,new Fr((function(r){t.g=r,t.a.initialize({client_id:e,callback:r,auto_select:!n}),t.a.prompt()}))):Gr(e?_i.Xa().load().then((function(){return t.a=Si(),Ti(t,e,n)})).Ca((function(){return null})):null)}P(Ii,R),Ei.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},y(Ei);var ki=new pe(ve,"https://accounts.google.com/gsi/client");function _i(){this.a=null}function Ai(t,e){this.a=t,this.g=e||function(t){throw t}}function Ci(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ni(t){this.s=t,this.a=this.h=this.j=this.g=null}function Di(t,e){this.name=t,this.value=e}_i.prototype.load=function(){var t=this;if(this.a)return this.a;var e=function(){var t=ki;t instanceof pe&&t.constructor===pe&&t.g===ge?t=t.a:(F("expected object of type Const, got '"+t+"'"),t="type_error:Const");var e=new me;return e.a=t,e}();return Si()?Gr():this.a=function(){var t=null;return new Fr((function(e){"complete"==f.document.readyState?e():(t=function(){e()},or(window,"load",t))})).Ca((function(e){throw ar(window,"load",t),e}))}().then((function(){if(!Si())return new Fr((function(n,r){var i=setTimeout((function(){t.a=null,r(Error("Network error!"))}),1e4);f.onGoogleLibraryLoad=function(){clearTimeout(i),n()},Gr(function(t){var e={},n=e.document||document,r=ye(t).toString(),i=document.createElement("SCRIPT"),o={rb:i,sb:void 0},a=new si(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){yi(i,!0);var t=new Ii(wi,"Timeout reached for loading script "+r);ci(a),ui(a,!1,t)}),u),o.sb=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(yi(i,e.xc||!1,s),a.callback(null))},i.onerror=function(){yi(i,!0,s);var t=new Ii(bi,"Error while loading script "+r);ci(a),ui(a,!1,t)},ct(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){at(e,(function(e,n){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ge.hasOwnProperty(n)?t.setAttribute(Ge[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(i,o),function(t,e){t.src=ye(e),null===v&&(v=(e=(e=f.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&g.test(e)?e:""),(e=v)&&t.setAttribute("nonce",e)}(i,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}(e)).then((function(){Si()&&n()})).Ca((function(e){clearTimeout(i),t.a=null,r(e)}))}))}))},y(_i),Ai.prototype.confirm=function(t){return Gr(this.a.confirm(t)).Ca(this.g)},Ci.prototype.a=null,Ci.prototype.reset=function(t,e,n,r,i){this.h=r||O(),this.j=t,this.s=e,this.g=n,delete this.a},Di.prototype.toString=function(){return this.name};var xi=new Di("SEVERE",1e3),Oi=new Di("WARNING",900),Li=new Di("CONFIG",700);function Pi(t){return t.j?t.j:t.g?Pi(t.g):(F("Root logger has no level set."),null)}Ni.prototype.log=function(t,e,n){if(t.value>=Pi(this).value)for(S(e)&&(e=e()),t=new Ci(t,String(e),this.s),n&&(t.a=n),n=this;n;){var r=n,i=t;if(r.a)for(var o=0;e=r.a[o];o++)e(i);n=n.g}};var Ri={},Mi=null;function Fi(){Mi||(Mi=new Ni(""),Ri[""]=Mi,Mi.j=Li)}function Ui(){this.a=O()}var ji=null;function Vi(t){this.j=t||"",ji||(ji=new Ui),this.s=ji}function Bi(t){return 10>t?"0"+t:String(t)}function qi(t){Vi.call(this,t)}function Ki(){this.s=C(this.h,this),this.a=new qi,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Ui.prototype.set=function(t){this.a=t},Ui.prototype.reset=function(){this.set(O())},Ui.prototype.get=function(){return this.a},Vi.prototype.a=!0,Vi.prototype.g=!0,Vi.prototype.h=!1,P(qi,Vi),Ki.prototype.h=function(t){if(!this.j[t.g]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.g){var r=new Date(e.h);n.push("[",Bi(r.getFullYear()-2e3)+Bi(r.getMonth()+1)+Bi(r.getDate())+" "+Bi(r.getHours())+":"+Bi(r.getMinutes())+":"+Bi(r.getSeconds())+"."+Bi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.s.get()),"s] "),n.push("[",e.g,"] "),n.push(e.s),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);Hi&&function(t,e,n,r){t[e]?t[e](n,r||""):t.log(n,r||"")}(Hi,function(t){if(t){if(t.value>=xi.value)return"error";if(t.value>=Oi.value)return"warn";if(t.value>=Li.value)return"log"}return"debug"}(t.j),e,t.a)}};var Gi,Hi=f.console;function Wi(t,e){Gi&&Gi.log(xi,t,e)}Gi=function t(e){var n;if(Fi(),!(n=Ri[e])){n=new Ni(e);var r=e.lastIndexOf("."),i=e.substr(r+1);(r=t(e.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Ri[e]=n}return n}("firebaseui");var zi=new Ki;if(1!=zi.g){var Yi;Fi(),Yi=Mi;var Xi=zi.s;Yi.a||(Yi.a=[]),Yi.a.push(Xi),zi.g=!0}function Ji(t){Gi&&Gi.log(Oi,t,void 0)}function Zi(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Qi(t){t=(t.a.cookie||"").split(";");for(var e,n,r=[],i=[],o=0;o<t.length;o++)-1==(e=(n=J(t[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,e)),i.push(n.substring(e+1)));return{keys:r,values:i}}(t=Zi.prototype).set=function(t,e,n,r,i,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');d(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(O()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+i+r+n+o},t.get=function(t,e){for(var n,r=t+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=J(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==t)return""}return e},t.ja=function(){return Qi(this).keys},t.la=function(){return Qi(this).values},t.clear=function(){for(var t=Qi(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var $i=new Zi;function to(){}function eo(t,e,n,r){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!r}function no(t,e){this.g=t,this.a=e||null}function ro(t){return{email:t.g,credential:t.a&&t.a.toJSON()}}function io(t){if(t&&t.email){var e=t.credential&&r.Z.auth.AuthCredential.fromJSON(t.credential);return new no(t.email,e)}return null}function oo(t){this.a=t||null}function ao(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);255<i&&(e[n++]=255&i,i>>=8),e[n++]=i}return e}function so(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function uo(t){for(this.i=t,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(co*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.g;t<co*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,mo(e),e[0]^=wo[t/this.g][0],e[1]^=wo[t/this.g][1],e[2]^=wo[t/this.g][2],e[3]^=wo[t/this.g][3]}else 6<this.g&&4==t%this.g&&mo(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}u(eo,to),eo.prototype.set=function(t,e){$i.set(t,e,this.h,this.g,this.a,this.j)},eo.prototype.get=function(t){return $i.get(t)||null},eo.prototype.ra=function(t){var e=this.g,n=this.a;$i.get(t),$i.set(t,"",0,e,n)},uo.prototype.A=16;var co=uo.prototype.A/4;function lo(t,e){for(var n,r=0;r<co;r++)for(var i=0;4>i;i++)n=e[n=4*i+r],t.h[r][i]=n}function ho(t){for(var e=[],n=0;n<co;n++)for(var r=0;4>r;r++)e[4*r+n]=t.h[n][r];return e}function fo(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]^=t.a[4*e+r][n]}function po(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]=e[t.h[n][r]]}function go(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][(n+e)%co]}function vo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][(n+e)%co]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][n]}function mo(t){t[0]=yo[t[0]],t[1]=yo[t[1]],t[2]=yo[t[2]],t[3]=yo[t[3]]}var yo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],bo=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],wo=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Io=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],So=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Eo=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],To=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],ko=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],_o=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Ao(t,e){t=new uo(No(t));for(var n,r=Y(e=ao(e),0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(lo(n=t,r),fo(n,0),r=1;r<n.j;++r){po(n,yo),go(n),o=n.h;for(var a=n.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=Io[a[0]]^So[a[1]]^a[2]^a[3],o[1][s]=a[0]^Io[a[1]]^So[a[2]]^a[3],o[2][s]=a[0]^a[1]^Io[a[2]]^So[a[3]],o[3][s]=So[a[0]]^a[1]^a[2]^Io[a[3]];fo(n,r)}po(n,yo),go(n),fo(n,n.j),i+=so(ho(n)),r=Y(e,0,16)}return i}function Co(t,e){t=new uo(No(t));for(var n=[],r=0;r<e.length;r+=2)n.push(parseInt(e.substring(r,r+2),16));var i=Y(n,0,16);for(e="";i.length;){for(lo(r=t,i),fo(r,r.j),i=1;i<r.j;++i){vo(r),po(r,bo),fo(r,r.j-i);for(var o=r.h,a=r.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=_o[a[0]]^To[a[1]]^ko[a[2]]^Eo[a[3]],o[1][s]=Eo[a[0]]^_o[a[1]]^To[a[2]]^ko[a[3]],o[2][s]=ko[a[0]]^Eo[a[1]]^_o[a[2]]^To[a[3]],o[3][s]=To[a[0]]^ko[a[1]]^Eo[a[2]]^_o[a[3]]}if(vo(r),po(r,bo),fo(r,0),8192>=(r=ho(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,X(r,o,o+8192));r=i}e+=r,i=Y(n,0,16)}return e.replace(/(\x00)+$/,"")}function No(t){for(var e=32-(t=ao(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function Do(t){var e=[];return Oo(new xo,t,e),e.join("")}function xo(){}function Oo(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(w(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Oo(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),Ro(r,n),n.push(":"),Oo(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ro(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}var Lo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Po=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ro(t,e){e.push('"',t.replace(Po,(function(t){var e=Lo[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Lo[t]=e),e})),'"')}function Mo(t){this.a=t}function Fo(){}function Uo(t){this.a=t}function jo(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(t){return!1}}function Vo(){var t=null;try{t=window.localStorage||null}catch(t){}this.a=t}function Bo(){var t=null;try{t=window.sessionStorage||null}catch(t){}this.a=t}function qo(t,e){this.g=t,this.a=e+"::"}Mo.prototype.set=function(t,e){d(e)?this.a.set(t,Do(e)):this.a.ra(t)},Mo.prototype.get=function(t){try{var e=this.a.get(t)}catch(t){return}if(null!==e)try{return JSON.parse(e)}catch(t){throw"Storage: Invalid value was encountered"}},P(Fo,to),Fo.prototype.clear=function(){var t=function(t){if(I(t))return z(t);t=ft(t);var e=[];return function(t,e){if(I(t))try{j(t,e,void 0)}catch(t){if(t!==lt)throw t}else{t=ft(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(t){if(t!==lt)throw t}}}(t,(function(t){e.push(t)})),e}(this.ha(!0)),e=this;j(t,(function(t){e.ra(t)}))},P(Uo,Fo),(t=Uo.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(t){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!p(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ra=function(t){this.a.removeItem(t)},t.ha=function(t){var e=0,n=this.a,r=new ht;return r.next=function(){if(e>=n.length)throw lt;var r=n.key(e++);if(t)return r;if(!p(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},P(Vo,Uo),P(Bo,Uo),P(qo,Fo),qo.prototype.set=function(t,e){this.g.set(this.a+t,e)},qo.prototype.get=function(t){return this.g.get(this.a+t)},qo.prototype.ra=function(t){this.g.ra(this.a+t)},qo.prototype.ha=function(t){var e=this.g.ha(!0),n=this,r=new ht;return r.next=function(){for(var r=e.next();r.substr(0,n.a.length)!=n.a;)r=e.next();return t?r.substr(n.a.length):n.g.get(r)},r},jo(new Vo);var Ko=new Bo,Go=new Mo(jo(Ko)?new qo(Ko,"firebaseui"):null),Ho={name:"pendingEmailCredential",storage:Go},Wo={name:"redirectStatus",storage:Go},zo={name:"redirectUrl",storage:Go},Yo={name:"emailForSignIn",storage:new Mo(new eo(3600,"/"))},Xo={name:"pendingEncryptedCredential",storage:new Mo(new eo(3600,"/"))};function Jo(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function Zo(t,e){t.storage.a.ra(e?t.name+":"+e:t.name)}function Qo(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function $o(t){return Jo(zo,t)||null}function ta(t){return io(t=Jo(Ho,t)||null)}function ea(t){Zo(Ho,t)}function na(t,e){Qo(Ho,ro(t),e)}function ra(t){return(t=Jo(Wo,t)||null)&&void 0!==t.tenantId?new oo(t.tenantId):null}function ia(){this.W={}}function oa(t,e,n){if(e.toLowerCase()in t.W)throw Error("Configuration "+e+" has already been defined.");t.W[e.toLowerCase()]=n}function aa(t,e,n){if(!(e.toLowerCase()in t.W))throw Error("Configuration "+e+" is not defined.");t.W[e.toLowerCase()]=n}function sa(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function ua(){this.g=void 0,this.a={}}function ca(t,e,n,r){for(var i=0;i<e.length;i++){var o=e.charAt(i);t.a[o]||(t.a[o]=new ua),t=t.a[o]}if(r&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function la(t,e){for(var n in void 0!==t.g&&e.push(t.g),t.a)la(t.a[n],e)}function ha(t,e,n){for(var r in void 0!==t.g&&n.push(e),t.a)ha(t.a[r],e+r,n)}function fa(t){for(this.a=t,this.g=new ua,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function da(t,e){var n={},r=0;for(void 0!==(t=t.g).g&&(n[r]=t.g);r<e.length;r++){var i=e.charAt(r);if(!(i in t.a))break;void 0!==(t=t.a[i]).g&&(n[r]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function pa(t){for(var e=0;e<ya.length;e++)if(ya[e].c===t)return ya[e];return null}function ga(t){t=t.toUpperCase();for(var e=[],n=0;n<ya.length;n++)ya[n].f===t&&e.push(ya[n]);return e}function va(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<ya.length;n++)ya[n].b==t&&e.push(ya[n]);t=e}else t=ga(t);return t}function ma(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}ia.prototype.get=function(t){if(!(t.toLowerCase()in this.W))throw Error("Configuration "+t+" is not defined.");return this.W[t.toLowerCase()]},(t=ua.prototype).set=function(t,e){ca(this,t,e,!1)},t.add=function(t,e){ca(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},t.la=function(){var t=[];return la(this,t),t},t.ja=function(){var t=[];return ha(this,"",t),t},t.clear=function(){this.a={},this.g=void 0};var ya=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ma(ya);var ba=new fa(ya);function wa(t,e){this.a=t,this.Aa=e}function Ia(t){t=J(t);var e=da(ba,t);return 0<e.length?new wa("1"==e[0].b?"1-US-0":e[0].c,J(t.substr(e[0].b.length+1))):null}function Sa(t){var e=pa(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.Aa}function Ea(t,e){for(var n=0;n<t.length;n++)if(!K(Ta,t[n])&&(null!==ka&&t[n]in ka||K(e,t[n])))return t[n];return null}var Ta=["emailLink","password","phone"],ka={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function _a(){this.a=new ia,oa(this.a,"acUiConfig"),oa(this.a,"autoUpgradeAnonymousUsers"),oa(this.a,"callbacks"),oa(this.a,"credentialHelper",ts),oa(this.a,"immediateFederatedRedirect",!1),oa(this.a,"popupMode",!1),oa(this.a,"privacyPolicyUrl"),oa(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),oa(this.a,"queryParameterForWidgetMode","mode"),oa(this.a,"signInFlow"),oa(this.a,"signInOptions"),oa(this.a,"signInSuccessUrl"),oa(this.a,"siteName"),oa(this.a,"tosUrl"),oa(this.a,"widgetUrl")}function Aa(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!Wa(t)&&Wi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function Ca(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var r=t[n];(r=E(r)?r:{provider:r}).provider&&e.push(r)}return e}function Na(t,e){t=Ca(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function Da(t){return B(Ca(t),(function(t){return t.provider}))}function xa(t,e){t=Oa(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function Oa(t){return B(Ca(t),(function(t){if(ka[t.provider]||K(os,t.provider)){for(var e in t={providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?Ie(Ee(t.iconUrl)).toString():null})null===t[e]&&delete t[e];return t}return{providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?Ie(Ee(t.iconUrl)).toString():null,Ob:t.loginHintKey||null}}))}function La(t){var e=Na(t,r.Z.auth.GoogleAuthProvider.PROVIDER_ID);return e&&e.clientId&&function(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return ts;if((t=t.a.get("credentialHelper"))===Qa)return ts;for(var e in es)if(es[e]===t)return es[e];return ts}(t)===$a&&e.clientId||null}function Pa(t,e){return t=(t=Na(t,e))&&t.scopes,Array.isArray(t)?t:[]}function Ra(t,e){return E(t=(t=Na(t,e))&&t.customParameters)?(t=st(t),e===r.Z.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===r.Z.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function Ma(t){if(!(t=Na(t,r.Z.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!Array.isArray(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return ya;if(t=[],e){n={};for(var i=0;i<e.length;i++)for(var o=va(e[i]),a=0;a<o.length;a++)n[o[a].c]=o[a];for(var s in n)n.hasOwnProperty(s)&&t.push(n[s])}else{for(s={},e=0;e<n.length;e++)for(o=va(n[e]),i=0;i<o.length;i++)s[o[i].c]=o[i];for(o=0;o<ya.length;o++)null!==s&&ya[o].c in s||t.push(ya[o])}return t}function Fa(t){return sa(t.a,"queryParameterForWidgetMode")}function Ua(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Ji("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ii(e)}}return null}function ja(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Ji("Term of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ii(n)}}return null}function Va(t){return!(t=Na(t,r.Z.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Ba(t){return!(!(t=Na(t,r.Z.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==r.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function qa(t){var e=!!t.a.get("immediateFederatedRedirect"),n=Da(t);return t=Ka(t),e&&1==n.length&&!K(Ta,n[0])&&t==ns}function Ka(t){for(var e in t=t.a.get("signInFlow"),rs)if(rs[e]==t)return rs[e];return ns}function Ga(t){return za(t).signInSuccess||null}function Ha(t){return za(t).signInSuccessWithAuthResult||null}function Wa(t){return za(t).signInFailure||null}function za(t){return t.a.get("callbacks")||{}}var Ya,Xa,Ja,Za,Qa="accountchooser.com",$a="googleyolo",ts="none",es={kc:Qa,nc:$a,NONE:ts},ns="redirect",rs={qc:"popup",rc:ns},is={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},os=["anonymous"],as=["sitekey","tabindex","callback","expired-callback"],ss={};function us(t,e,n,r){ss[t].apply(null,Array.prototype.slice.call(arguments,1))}function cs(t){return t.classList?t.classList:p(t=t.className)&&t.match(/\S+/g)||[]}function ls(t,e){return t.classList?t.classList.contains(e):K(cs(t),e)}function hs(t,e){t.classList?t.classList.add(e):ls(t,e)||(t.className+=0<t.className.length?" "+e:e)}function fs(t,e){t.classList?t.classList.remove(e):ls(t,e)&&(t.className=V(cs(t),(function(t){return t!=e})).join(" "))}function ds(t){var e=t.type;switch(p(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,r=0;n=t.options[r];r++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function ps(t,e){var n=t.type;switch(p(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,p(e))for(var r=0;n=t.options[r];r++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(p(e)&&(e=[e]),r=0;n=t.options[r];r++)if(n.selected=!1,e)for(var i,o=0;i=e[o];o++)n.value==i&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function gs(t,e,n,r,i,o){if(re&&!fe("525"))return!0;if(oe&&i)return vs(t);if(i&&!r)return!1;if(!ne&&("number"==typeof e&&(e=ms(e)),(!n||oe)&&(17==e||18==e||oe&&91==e)||oe&&16==e&&(r||o)))return!1;if((re||te)&&r&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if($t&&r&&e==t)return!1;switch(t){case 13:return!(ne&&(o||i||n&&r));case 27:return!(re||te||ne)}return(!ne||!(r||i||o))&&vs(t)}function vs(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(re||te)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ne;default:return!1}}function ms(t){if(ne)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(oe&&re)switch(t){case 93:t=91}return t}function ys(t){gr.call(this),this.a=t,rr(t,"keydown",this.g,!1,this),rr(t,"click",this.h,!1,this)}function bs(t,e){var n=new Is(e);if(vr(t,n)){n=new ws(e);try{vr(t,n)}finally{e.stopPropagation()}}}function ws(t){Wn.call(this,t.a),this.type="action"}function Is(t){Wn.call(this,t.a),this.type="beforeaction"}function Ss(t){gr.call(this),this.a=t,t=$t?"focusout":"blur",this.g=rr(this.a,$t?"focusin":"focus",this,!$t),this.h=rr(this.a,t,this,!$t)}function Es(t,e){gr.call(this),this.g=t||1,this.a=e||f,this.h=C(this.gc,this),this.j=O()}function Ts(t){t.Ka=!1,t.aa&&(t.a.clearTimeout(t.aa),t.aa=null)}function ks(t){Mn.call(this),this.g=t,this.a={}}P(ys,gr),ys.prototype.g=function(t){(13==t.keyCode||re&&3==t.keyCode)&&bs(this,t)},ys.prototype.h=function(t){bs(this,t)},ys.prototype.m=function(){ys.K.m.call(this),ar(this.a,"keydown",this.g,!1,this),ar(this.a,"click",this.h,!1,this),delete this.a},P(ws,Wn),P(Is,Wn),P(Ss,gr),Ss.prototype.handleEvent=function(t){var e=new Wn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",vr(this,e)},Ss.prototype.m=function(){Ss.K.m.call(this),sr(this.g),sr(this.h),delete this.a},P(Es,gr),(t=Es.prototype).Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var t=O()-this.j;0<t&&t<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-t):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),vr(this,"tick"),this.Ka&&(Ts(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=O())},t.m=function(){Es.K.m.call(this),Ts(this),delete this.a},P(ks,Mn);var _s=[];function As(t,e,n,r){w(n)||(n&&(_s[0]=n.toString()),n=_s);for(var i=0;i<n.length;i++){var o=rr(e,n[i],r||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function Cs(t){at(t.a,(function(t,e){this.a.hasOwnProperty(e)&&sr(t)}),t),t.a={}}function Ns(t){gr.call(this),this.a=null,this.g=t,t=$t||te||re&&!fe("531")&&"TEXTAREA"==t.tagName,this.h=new ks(this),As(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function Ds(t){null!=t.a&&(f.clearTimeout(t.a),t.a=null)}function xs(t){return(t=new Wn(t.a)).type="input",t}function Os(t,e){gr.call(this),t&&(this.Oa&&Fs(this),this.qa=t,this.Na=rr(this.qa,"keypress",this,e),this.Ya=rr(this.qa,"keydown",this.Jb,e,this),this.Oa=rr(this.qa,"keyup",this.Kb,e,this))}ks.prototype.m=function(){ks.K.m.call(this),Cs(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P(Ns,gr),Ns.prototype.handleEvent=function(t){if("input"==t.type)$t&&fe(10)&&0==t.keyCode&&0==t.j||(Ds(this),vr(this,xs(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(vs(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ne;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;$t&&229==t.keyCode&&(e=null);var n=xs(t);Ds(this),this.a=function(t,e){if(S(t))e&&(t=C(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(0)?-1:f.setTimeout(t,0)}((function(){this.a=null,this.g.value!=e&&vr(this,n)}),this)}},Ns.prototype.m=function(){Ns.K.m.call(this),this.h.o(),Ds(this),delete this.g},P(Os,gr),(t=Os.prototype).qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Ls={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Ps={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Rs=!re||fe("525"),Ms=oe&&ne;function Fs(t){t.Na&&(sr(t.Na),sr(t.Ya),sr(t.Oa),t.Na=null,t.Ya=null,t.Oa=null),t.qa=null,t.R=-1,t.X=-1}function Us(t,e,n,r){Wn.call(this,r),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function js(t,e,n,r){this.top=t,this.right=e,this.bottom=n,this.left=r}function Vs(t,e){var n=ze(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function Bs(t){try{var e=t.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}return $t&&t.ownerDocument.body&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function qs(t){var e=ze(t),n=new Ue(0,0),r=e?ze(e):document;return t==(r=!$t||9<=Number(le)||"CSS1Compat"==Ve(r).a.compatMode?r.documentElement:r.body)||(t=Bs(t),e=He(r=Ve(e).a),r=r.parentWindow||r.defaultView,e=$t&&fe("10")&&r.pageYOffset!=e.scrollTop?new Ue(e.scrollLeft,e.scrollTop):new Ue(r.pageXOffset||e.scrollLeft,r.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g),n}(t=Os.prototype).Jb=function(t){(re||te)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||oe&&91==this.R&&!t.metaKey)&&(this.X=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),Rs&&!gs(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.X=ms(t.keyCode),Ms&&(this.Ua=t.altKey))},t.Kb=function(t){this.X=this.R=-1,this.Ua=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if($t&&"keypress"==t.type)var r=this.X,i=13!=r&&27!=r?e.keyCode:0;else(re||te)&&"keypress"==t.type?(r=this.X,i=0<=e.charCode&&63232>e.charCode&&vs(r)?e.charCode:0):Qt&&!re?i=vs(r=this.X)?e.keyCode:0:("keypress"==t.type?(Ms&&(n=this.Ua),e.keyCode==e.charCode?32>e.keyCode?(r=e.keyCode,i=0):(r=this.X,i=e.charCode):(r=e.keyCode||this.X,i=e.charCode||0)):(r=e.keyCode||this.X,i=e.charCode||0),oe&&63==i&&224==r&&(r=191));var o=r=ms(r);r?63232<=r&&r in Ls?o=Ls[r]:25==r&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in Ps&&(o=Ps[e.keyIdentifier]),ne&&Rs&&"keypress"==t.type&&!gs(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new Us(o,i,t,e)).altKey=n,vr(this,e))},t.N=function(){return this.qa},t.m=function(){Os.K.m.call(this),Fs(this)},P(Us,Wn),js.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},js.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},js.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},js.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Ks={thin:2,medium:4,thick:6};function Gs(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in Ks)t=Ks[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=r,t=+n}return t}function Hs(){}function Ws(t){gr.call(this),this.s=t||Ve(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function zs(t,e){return t.g?qe(e,t.g||t.s.a):null}function Ys(t){return t.L||(t.L=new ks(t)),t.L}function Xs(t,e){t.Ea&&j(t.Ea,e,void 0)}function Js(t,e){var n=Xe(t,"firebaseui-textfield");e?(fs(t,"firebaseui-input-invalid"),hs(t,"firebaseui-input"),n&&fs(n,"firebaseui-textfield-invalid")):(fs(t,"firebaseui-input"),hs(t,"firebaseui-input-invalid"),n&&hs(n,"firebaseui-textfield-invalid"))}function Zs(t,e,n){jn(t,N(Vn,e=new Ns(e))),As(Ys(t),e,"input",n)}function Qs(t,e,n){jn(t,N(Vn,e=new Os(e))),As(Ys(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function $s(t,e,n){jn(t,N(Vn,e=new ys(e))),As(Ys(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function tu(t){hs(t,"firebaseui-hidden")}function eu(t,e){e&&Ye(t,e),fs(t,"firebaseui-hidden")}function nu(t){return!ls(t,"firebaseui-hidden")&&"none"!=t.style.display}function ru(t){var e=(t=t||{}).email,n=t.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=t.wc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+gn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',hn(r)}function iu(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Next",hn(e+"</button>")}function ou(){var t=""+iu({label:dn("Sign In")});return hn(t)}function au(){var t=""+iu({label:dn("Save")});return hn(t)}function su(){var t=""+iu({label:dn("Continue")});return hn(t)}function uu(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Choose password",hn(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function cu(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return hn((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function lu(){return hn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function hu(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Cancel",hn(e+"</button>")}function fu(t){var e="";return t.F&&t.D&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),hn(e)}function du(t){var e="";return t.F&&t.D&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),hn(e)}function pu(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+sn(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',hn(t)}function gu(t){var e=t.content;return t=t.Ab,hn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(t?" "+gn(t):"")+'">'+sn(e)+"</dialog>")}function vu(t){var e=t.message;return hn(gu({content:pn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+gn(t.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+sn(e)+"</div>")}))}function mu(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,r=0;r<n;r++){var i=t[r];e+='<button type="button" data-listboxid="'+gn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+gn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+sn(i.label)+"</div></button>"}return e=""+gu({Ab:dn("firebaseui-list-box-dialog"),content:pn(e+"</div>")}),hn(e)}function yu(t){return hn((t=t||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function bu(t,e){return ln((t=(t=t||{}).ga).S?t.S:e.hb[t.providerId]?""+e.hb[t.providerId]:t.providerId&&0==t.providerId.indexOf("saml.")||t.providerId&&0==t.providerId.indexOf("oidc.")?t.providerId.substring(5):""+t.providerId)}function wu(t){Eu(t,"upgradeElement")}function Iu(t){Eu(t,"downgradeElements")}y(Hs),Hs.prototype.a=0,P(Ws,gr),(t=Ws.prototype).Lb=Hs.Xa(),t.N=function(){return this.g},t.Za=function(t){if(this.Y&&this.Y!=t)throw Error("Method not supported");Ws.K.Za.call(this,t)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(t){if(this.na)throw Error("Component already rendered");this.g||this.kb(),t?t.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Xs(this,(function(t){!t.na&&t.N()&&t.v()}))},t.ya=function(){Xs(this,(function(t){t.na&&t.ya()})),this.L&&Cs(this.L),this.na=!1},t.m=function(){this.na&&this.ya(),this.L&&(this.L.o(),delete this.L),Xs(this,(function(t){t.o()})),this.g&&We(this.g),this.Y=this.g=this.oa=this.Ea=null,Ws.K.m.call(this)},t.removeChild=function(t,e){if(t){var n=p(t)?t:t.cb||(t.cb=":"+(t.Lb.a++).toString(36));if(t=this.oa&&n&&(null!==(t=this.oa)&&n in t?t[n]:void 0)||null,n&&t){var r=this.oa;if(n in r&&delete r[n],G(this.Ea,t),e&&(t.ya(),t.g&&We(t.g)),null==(e=t))throw Error("Unable to set parent component");e.Y=null,Ws.K.Za.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},pu.a="firebaseui.auth.soy2.element.infoBar",vu.a="firebaseui.auth.soy2.element.progressDialog",mu.a="firebaseui.auth.soy2.element.listBoxDialog",yu.a="firebaseui.auth.soy2.element.busyIndicator";var Su=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Eu(t,e){t&&window.componentHandler&&window.componentHandler[e]&&j(Su,(function(n){ls(t,n)&&window.componentHandler[e](t),j(Be(n,t),(function(t){window.componentHandler[e](t)}))}))}function Tu(t,e,n){if(ku.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),wu(t),e&&$s(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&ku.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(t.open){var e=t.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=t.getBoundingClientRect().width,u=r.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",e=a+(u-s)/2,t.style.left=e.toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-s).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function ku(){var t=_u.call(this);t&&(Iu(t),t.open&&t.close(),We(t),this.da&&window.removeEventListener("resize",this.da))}function _u(){return qe("firebaseui-id-dialog")}function Au(){We(Cu.call(this))}function Cu(){return zs(this,"firebaseui-id-info-bar")}function Nu(){return zs(this,"firebaseui-id-dismiss-info-bar")}var Du={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function xu(t,e,n){for(var r in Hn.call(this,t,e),n)this[r]=n[r]}function Ou(t,e,n,r,i){Ws.call(this,n),this.fb=t,this.eb=e,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=st(Du),ct(this.Z,i||{})}function Lu(t){return t.N().parentElement||t.N().parentNode}function Pu(t,e,n){Qs(t,e,(function(){n.focus()}))}function Ru(t,e,n){Qs(t,e,(function(){n()}))}function Mu(t,e,n){e=(t=t||{}).Va;var r=t.ia;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?hu(null):"")+iu(null)+'</div></div><div class="firebaseui-card-footer">'+(r?du(n):fu(n))+"</div></form></div>",hn(t)}function Fu(t,e,n){return e=(t=t||{}).ia,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ru(t)+cu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+lu()+'</div><div class="firebaseui-form-actions">'+ou()+'</div></div><div class="firebaseui-card-footer">'+(e?du(n):fu(n))+"</div></form></div>",hn(t)}function Uu(t,e,n){var r=(t=t||{}).Tb;e=t.Ta;var i=t.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ru(t);return r?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+gn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=hn(t)):t="",n=o+t+uu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?hu(null):"")+au()+'</div></div><div class="firebaseui-card-footer">'+(i?du(n):fu(n))+"</div></form></div>",hn(n)}function ju(t,e,n){return e=(t=t||{}).Ta,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ru(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?hu(null):"")+iu({label:dn("Send")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(t)}function Vu(t,e,n){e=t.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+sn(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(r+='<div class="firebaseui-form-actions">'+iu({label:dn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+fu(n)+"</div></div>",hn(r)}function Bu(t,e,n){return hn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+yu(null)+"</div></div>")}function qu(t,e,n){return hn('<div class="firebaseui-container firebaseui-id-page-spinner">'+yu({tb:!0})+"</div>")}function Ku(){return hn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Gu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+sn(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+hu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(e)}function Hu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+hu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(t)}function Wu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ru(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hu(null)+iu(null)+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(t)}function zu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hu({label:dn("Dismiss")})+"</div></div></div>";return hn(t)}function Yu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hu({label:dn("Dismiss")})+"</div></div></div>";return hn(t)}function Xu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="Youve already used <strong>"+sn(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+cu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+lu()+'</div><div class="firebaseui-form-actions">'+ou()+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(e)}function Ju(t,e,n){var r=t.email;return e="",t=dn(t=""+bu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="Youve already used <strong>"+sn(r)+"</strong>. You can connect your <strong>"+sn(t)+"</strong> account with <strong>"+sn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+sn(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou()+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(e)}function Zu(t,e,n){e="";var r=""+bu(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+sn(r=dn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+sn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+su()+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(e)}function Qu(t,e,n){var r=t.email;return e="",t=dn(t=""+bu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="Youve already used <strong>"+sn(r)+"</strong>. Sign in with "+sn(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+iu({label:dn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(e)}function $u(t,e,n){var r=(t=t||{}).email;e=t.yb,t=t.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i+=r?r="<strong>"+sn(r)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",i+="</p>",e&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(e="Please contact <strong>"+sn(e)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',t&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+hu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(i)}function tc(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+sn(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hu(null)+iu({label:dn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(e)}function ec(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+sn(t.email)+"</strong></p>"+uu(function(t){function e(){}var n={label:dn("New password")};for(var r in e.prototype=t,t=new e,n)t[r]=n[r];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+au()+"</div></div></form></div>",hn(e)}function nc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(t)}function rc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(t)}function ic(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+sn(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></form></div>",hn(n)}function oc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(t)}function ac(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(t)}function sc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(t)}function uc(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="You can now sign in with your new email <strong>"+sn(t.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(n)}function cc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(t)}function lc(t){var e=t.factorId,n=t.phoneNumber;t=t.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(e){case"phone":r+=e="The <strong>"+sn(e)+" "+sn(n)+"</strong> was removed as a second authentication step.";break;default:r+="The device or app was removed as a second authentication step."}return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></form></div>",hn(r)}function hc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",hn(t)}function fc(t){var e=t.zb;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=iu({label:dn("Retry")})),hn(t+"</div></div></div>")}function dc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(t.errorMessage)+"</p></div></div>",hn(t)}function pc(t,e,n){var r=t.Qb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+sn(t.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+sn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hu(null)+iu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",hn(e)}function gc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Sb).length;for(var i=0;i<e;i++){var o={ga:t[i]},a=n,s=(o=o||{}).ga,u=o,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+gn(ln(c))+' firebaseui-id-idp-button" data-provider-id="'+gn(s.providerId)+'" style="background-color:')+gn(mn(ln((c=(c=(c=o)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;c=a,l=(l=l||{}).ga,c=fn(l.za?vn(l.za):c.xa[l.providerId]?vn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?vn(c.xa.saml):0==l.providerId.indexOf("oidc.")?vn(c.xa.oidc):vn(c.xa.password)),u=u+gn(vn(c))+'"></span>',"password"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(bu(o,a)):u+="Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Email",u+="</span>"):"phone"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(bu(o,a)):u+="Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Phone",u+="</span>"):"anonymous"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(bu(o,a)):u+="Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):u+=c="Sign in with "+sn(bu(o,a)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(s.S?sn(s.S):sn(bu(o,a)))+"</span>"),r+='<li class="firebaseui-list-item">'+(s=hn(u+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+du(n)+"</div></div>",hn(r)}function vc(t,e,n){var r,i=(t=t||{}).Gb,o=t.Va;return e=t.ia,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+gn(null!=(t=(t=t||{}).Aa)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+hn(t))+(r=i?hn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?hu(null):"")+iu({label:dn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',e=n.F&&n.D?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=hn(e+"</p>")):n=hn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+fu(n),hn(r+n+"</div></form></div>")}function mc(t,e,n){var r="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+sn(e=(t=t||{}).phoneNumber)+"</a>",sn(e),e=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(r=hn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hu(null)+iu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form>",t=hn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),hn(e+(n+t+"</div>"))}function yc(){return hn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function bc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.ec).length;for(var i=0;i<e;i++){var o=t[i],a="",s=sn(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+gn(u=dn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+gn(o.tenantId)+'"':"")+'style="background-color:'+gn(mn(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+gn(vn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?a+=sn(o.V):a+=o="Sign in to "+sn(o.displayName),r+='<li class="firebaseui-list-item">'+(a=hn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+s+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+du(n)+"</div></div>",hn(r)}function wc(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+iu(null)+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",hn(t)}function Ic(){return zs(this,"firebaseui-id-submit")}function Sc(){return zs(this,"firebaseui-id-secondary-link")}function Ec(t,e){$s(this,Ic.call(this),(function(e){t(e)}));var n=Sc.call(this);n&&e&&$s(this,n,(function(t){e(t)}))}function Tc(){return zs(this,"firebaseui-id-password")}function kc(){return zs(this,"firebaseui-id-password-error")}function _c(){var t=Tc.call(this),e=kc.call(this);Zs(this,t,(function(){nu(e)&&(Js(t,!0),tu(e))}))}function Ac(){var t=Tc.call(this),e=kc.call(this);return ds(t)?(Js(t,!0),tu(e),e=!0):(Js(t,!1),eu(e,ln("Enter your password").toString()),e=!1),e?ds(t):null}function Cc(t,e,n,r,i,o){Ou.call(this,Xu,{email:t},o,"passwordLinking",{F:r,D:i}),this.w=e,this.H=n}P(xu,Hn),P(Ou,Ws),(t=Ou.prototype).kb=function(){var t=nn(this.fb,this.eb,this.Z,this.s);wu(t),this.g=t},t.v=function(){if(Ou.K.v.call(this),wr(Lu(this),new xu("pageEnter",Lu(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var t=this.Z.F;$s(this,this.bb(),(function(){t()}))}if(this.ab()&&this.Z.D){var e=this.Z.D;$s(this,this.ab(),(function(){e()}))}},t.ya=function(){wr(Lu(this),new xu("pageExit",Lu(this),{pageId:this.Ga})),Ou.K.ya.call(this)},t.m=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Iu(this.N()),Ou.K.m.call(this)},t.I=function(t,e,n,r){function i(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(Iu(o.A),We(o.A),o.A=null)}var o=this;return o.Fa?null:(function(t){t.Fa=!0;var e=ls(t.N(),"firebaseui-use-spinner");t.ca=window.setTimeout((function(){t.N()&&null===t.A&&(t.A=nn(yu,{tb:e},null,t.s),t.N().appendChild(t.A),wu(t.A))}),500)}(o),t.apply(null,e).then(n,r).then(i,i))},D(Ou.prototype,{a:function(t){Au.call(this);var e=nn(pu,{message:t},null,this.s);this.N().appendChild(e),$s(this,Nu.call(this),(function(){We(e)}))},yc:Au,Ac:Cu,zc:Nu,$:function(t,e){t=nn(vu,{Ma:t,message:e},null,this.s),Tu.call(this,t)},h:ku,Cb:_u,Cc:function(){return zs(this,"firebaseui-tos")},bb:function(){return zs(this,"firebaseui-tos-link")},ab:function(){return zs(this,"firebaseui-pp-link")},Dc:function(){return zs(this,"firebaseui-tos-list")}}),Mu.a="firebaseui.auth.soy2.page.signIn",Fu.a="firebaseui.auth.soy2.page.passwordSignIn",Uu.a="firebaseui.auth.soy2.page.passwordSignUp",ju.a="firebaseui.auth.soy2.page.passwordRecovery",Vu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Bu.a="firebaseui.auth.soy2.page.callback",qu.a="firebaseui.auth.soy2.page.spinner",Ku.a="firebaseui.auth.soy2.page.blank",Gu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Hu.a="firebaseui.auth.soy2.page.emailNotReceived",Wu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",zu.a="firebaseui.auth.soy2.page.differentDeviceError",Yu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Xu.a="firebaseui.auth.soy2.page.passwordLinking",Ju.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Zu.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Qu.a="firebaseui.auth.soy2.page.federatedLinking",$u.a="firebaseui.auth.soy2.page.unauthorizedUser",tc.a="firebaseui.auth.soy2.page.unsupportedProvider",ec.a="firebaseui.auth.soy2.page.passwordReset",nc.a="firebaseui.auth.soy2.page.passwordResetSuccess",rc.a="firebaseui.auth.soy2.page.passwordResetFailure",ic.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",oc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",ac.a="firebaseui.auth.soy2.page.emailVerificationSuccess",sc.a="firebaseui.auth.soy2.page.emailVerificationFailure",uc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",cc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",lc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",hc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",fc.a="firebaseui.auth.soy2.page.recoverableError",dc.a="firebaseui.auth.soy2.page.unrecoverableError",pc.a="firebaseui.auth.soy2.page.emailMismatch",gc.a="firebaseui.auth.soy2.page.providerSignIn",vc.a="firebaseui.auth.soy2.page.phoneSignInStart",mc.a="firebaseui.auth.soy2.page.phoneSignInFinish",yc.a="firebaseui.auth.soy2.page.signOut",bc.a="firebaseui.auth.soy2.page.selectTenant",wc.a="firebaseui.auth.soy2.page.providerMatchByEmail",u(Cc,Ou),Cc.prototype.v=function(){this.P(),this.M(this.w,this.H),Ru(this,this.i(),this.w),this.i().focus(),Ou.prototype.v.call(this)},Cc.prototype.m=function(){this.w=null,Ou.prototype.m.call(this)},Cc.prototype.j=function(){return ds(zs(this,"firebaseui-id-email"))},D(Cc.prototype,{i:Tc,B:kc,P:_c,u:Ac,ea:Ic,ba:Sc,M:Ec});var Nc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Dc(){return zs(this,"firebaseui-id-email")}function xc(){return zs(this,"firebaseui-id-email-error")}function Oc(t){var e=Dc.call(this),n=xc.call(this);Zs(this,e,(function(){nu(n)&&(Js(e,!0),tu(n))})),t&&Qs(this,e,(function(){t()}))}function Lc(){return J(ds(Dc.call(this))||"")}function Pc(){var t=Dc.call(this),e=xc.call(this),n=ds(t)||"";return n?Nc.test(n)?(Js(t,!0),tu(e),e=!0):(Js(t,!1),eu(e,ln("That email address isn't correct").toString()),e=!1):(Js(t,!1),eu(e,ln("Enter your email address to continue").toString()),e=!1),e?J(ds(t)):null}function Rc(t,e,n,r,i,o,a){Ou.call(this,Fu,{email:n,ia:!!o},a,"passwordSignIn",{F:r,D:i}),this.w=t,this.H=e}function Mc(t,e,n,r,i,o){Ou.call(this,t,e,r,i||"notice",o),this.i=n||null}function Fc(t,e,n,r,i){Mc.call(this,Vu,{email:t,G:!!e},e,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Uc(t,e){Mc.call(this,ac,{G:!!t},t,e,"emailVerificationSuccess")}function jc(t,e){Mc.call(this,sc,{G:!!t},t,e,"emailVerificationFailure")}function Vc(t,e,n){Mc.call(this,uc,{email:t,G:!!e},e,n,"verifyAndChangeEmailSuccess")}function Bc(t,e){Mc.call(this,cc,{G:!!t},t,e,"verifyAndChangeEmailFailure")}function qc(t,e){Mc.call(this,hc,{G:!!t},t,e,"revertSecondFactorAdditionFailure")}function Kc(t){Mc.call(this,yc,void 0,void 0,t,"signOut")}function Gc(t,e){Mc.call(this,nc,{G:!!t},t,e,"passwordResetSuccess")}function Hc(t,e){Mc.call(this,rc,{G:!!t},t,e,"passwordResetFailure")}function Wc(t,e){Mc.call(this,oc,{G:!!t},t,e,"emailChangeRevokeFailure")}function zc(t,e,n){Mc.call(this,fc,{errorMessage:t,zb:!!e},e,n,"recoverableError")}function Yc(t,e){Mc.call(this,dc,{errorMessage:t},void 0,e,"unrecoverableError")}function Xc(t){if("auth/invalid-credential"===t.code&&t.message&&-1!==t.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(t.message&&-1!==t.message.indexOf("HTTP Cloud Function returned an error:")){var e=JSON.parse(t.message.substring(t.message.indexOf("{"),t.message.lastIndexOf("}")+1));return{code:t.code,message:e&&e.error&&e.error.message||t.message}}return t}function Jc(t,e,n,r){function i(n){if(!n.name||"cancel"!=n.name){t:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break t}}catch(t){}o=!1}if(o)n=Lu(e),e.o(),rl(t,n,void 0,ln("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=$c(n)}e.a(o)}}}if(Ah(t),r)return Zc(t,n),Gr();if(!n.credential)throw Error("No credential found!");if(!mh(t).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(t,e){return Dh(t),Th(t,(function(n){if(t.j&&!t.j.isAnonymous&&Aa(Nh(t))&&!mh(t).currentUser)return Oh(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return Oh(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Lh(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Oh(t).then((function(){return yh(t).updateCurrentUser(e.user)})).then((function(){return e.user=yh(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(t){return Wi(t.code||t.message,t),e.a(t.code||t.message),Gr()}return n=o.then((function(e){Zc(t,e)}),i).then(void 0,i),_h(t,o),Gr(n)}function Zc(t,e){if(!e.user)throw Error("No user found");var n=Ha(Nh(t));if(Ga(Nh(t))&&n&&Ji("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Ha(Nh(t));var r=$o(bh(t))||void 0;Zo(zo,bh(t));var i=!1;ri()?(n&&!n(e,r)||(i=!0,Fe(window.opener.location,Qc(t,r))),n||window.close()):n&&!n(e,r)||(i=!0,Fe(window.location,Qc(t,r))),i||t.reset()}else{n=e.user,e=e.credential,r=Ga(Nh(t)),i=$o(bh(t))||void 0,Zo(zo,bh(t));var o=!1;ri()?(r&&!r(n,e,i)||(o=!0,Fe(window.opener.location,Qc(t,i))),r||window.close()):r&&!r(n,e,i)||(o=!0,Fe(window.location,Qc(t,i))),o||t.reset()}}function Qc(t,e){if(!(t=e||Nh(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function $c(t){var e={code:t.code},n="";switch((e=e||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Ln();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Ln();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Cn();break;case"auth/invalid-verification-code":n+=ln("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=ln(n).toString())return e;try{return JSON.parse(t.message),Wi("Internal error: "+t.message,void 0),Dn().toString()}catch(e){return t.message}}function tl(t,e,n,i){function o(){!function(t,e){Qo(Wo,{tenantId:t.a},e)}(new oo(t.h.tenantId||null),bh(t)),_h(t,e.I(C(t.dc,t),[c],(function(){if("file:"===(window.location&&window.location.protocol))return _h(t,ph(t).then((function(n){e.o(),Zo(Wo,bh(t)),us("callback",t,u,Gr(n))}),a))}),s))}function a(n){if(Zo(Wo,bh(t)),!n.name||"cancel"!=n.name)switch(n=Xc(n),n.code){case"auth/popup-blocked":o();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a($c(n));break;default:e.o(),us("callback",t,u,Hr(n))}}function s(n){Zo(Wo,bh(t)),n.name&&"cancel"==n.name||(Wi("signInWithRedirect: "+n.code,void 0),n=$c(n),"blank"==e.Ga&&qa(Nh(t))?(e.o(),us("providerSignIn",t,u,n)):e.a(n))}var u=Lu(e),c=function(t,e,n){var i=ka[e]&&r.Z.auth[ka[e]]?new r.Z.auth[ka[e]]:0==e.indexOf("saml.")?new r.Z.auth.SAMLAuthProvider(e):new r.Z.auth.OAuthProvider(e);if(!i)throw Error("Invalid Firebase Auth provider!");var o=Pa(Nh(t),e);if(i.addScope)for(var a=0;a<o.length;a++)i.addScope(o[a]);return o=Ra(Nh(t),e)||{},n&&(t=e==r.Z.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==r.Z.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=xa(Nh(t),e))&&t.Ob)&&(o[t]=n),i.setCustomParameters&&i.setCustomParameters(o),i}(t,n,i);Ka(Nh(t))==ns?o():_h(t,function(t,e){return Dh(t),Th(t,(function(n){return n&&!ta(bh(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Lh(t,e)})):mh(t).signInWithPopup(e)}))}(t,c).then((function(n){e.o(),us("callback",t,u,Gr(n))}),a))}function el(t){return 1==(t=Da(Nh(t))).length&&t[0]==r.Z.auth.EmailAuthProvider.PROVIDER_ID}function nl(t){return 1==(t=Da(Nh(t))).length&&t[0]==r.Z.auth.PhoneAuthProvider.PROVIDER_ID}function rl(t,e,n,r){el(t)?r?us("signIn",t,e,n,r):sl(t,e,n):t&&nl(t)&&!r?us("phoneSignInStart",t,e):t&&qa(Nh(t))&&!r?us("federatedRedirect",t,e,n):us("providerSignIn",t,e,r,n)}function il(t,e,n,r){var i=Lu(e);_h(t,e.I(C(mh(t).fetchSignInMethodsForEmail,mh(t)),[n],(function(o){e.o(),ol(t,i,o,n,r)}),(function(t){t=$c(t),e.a(t)})))}function ol(t,e,n,i,o,a){n.length||Ba(Nh(t))&&!Ba(Nh(t))?K(n,r.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?us("passwordSignIn",t,e,i,a):1==n.length&&n[0]===r.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ba(Nh(t))?us("sendEmailLinkForSignIn",t,e,i,(function(){us("signIn",t,e)})):us("unsupportedProvider",t,e,i):(n=Ea(n,Da(Nh(t))))?(na(new no(i),bh(t)),us("federatedSignIn",t,e,i,n,o)):us("unsupportedProvider",t,e,i):function(t){return!!((t=Na(t,r.Z.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.status)}(Nh(t))?us("handleUnauthorizedUser",t,e,i,r.Z.auth.EmailAuthProvider.PROVIDER_ID):Ba(Nh(t))?us("sendEmailLinkForSignIn",t,e,i,(function(){us("signIn",t,e)})):us("passwordSignUp",t,e,i,void 0,void 0,a)}function al(t,e,n,r,i,o){var a=Lu(e);_h(t,e.I(C(t.Ib,t),[n,o],(function(){e.o(),us("emailLinkSignInSent",t,a,n,r,o)}),i))}function sl(t,e,n){n?us("prefilledEmailSignIn",t,e,n):us("signIn",t,e)}function ul(){return bt(ai(),"oobCode")}function cl(){var t=bt(ai(),"continueUrl");return t?function(){Fe(window.location,t)}:null}function ll(t,e){Ou.call(this,Yu,void 0,e,"anonymousUserMismatch"),this.i=t}function hl(t){Ou.call(this,Bu,void 0,t,"callback")}function fl(t,e,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=ta(bh(t)),o=i&&i.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var r=Lu(e);_h(t,Oh(t).then((function(){e.o(),us("emailMismatch",t,r,n)}),(function(t){t.name&&"cancel"==t.name||(t=$c(t.code),e.a(t))})))}(t,e,r);else{var a=i&&i.a;a?_h(t,n.user.linkWithCredential(a).then((function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},dl(t,e,r)}),(function(n){pl(t,e,n)}))):dl(t,e,r)}}else n=Lu(e),e.o(),ea(bh(t)),rl(t,n)}function dl(t,e,n){ea(bh(t)),Jc(t,e,n)}function pl(t,e,n){var r=Lu(e);ea(bh(t)),n=$c(n),e.o(),rl(t,r,void 0,n)}function gl(t,e,n,i){var o=Lu(e);_h(t,mh(t).fetchSignInMethodsForEmail(n).then((function(a){e.o(),a.length?K(a,r.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?us("passwordLinking",t,o,n):1==a.length&&a[0]===r.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?us("emailLinkSignInLinking",t,o,n):(a=Ea(a,Da(Nh(t))))?us("federatedLinking",t,o,n,a,i):(ea(bh(t)),us("unsupportedProvider",t,o,n)):(ea(bh(t)),us("passwordRecovery",t,o,n,!1,xn().toString()))}),(function(n){pl(t,e,n)})))}function vl(t,e){Ou.call(this,zu,void 0,e,"differentDeviceError"),this.i=t}function ml(t,e,n,r){Ou.call(this,ic,{email:t,G:!!n},r,"emailChangeRevoke"),this.l=e,this.i=n||null}function yl(){return zs(this,"firebaseui-id-new-password")}function bl(){return zs(this,"firebaseui-id-password-toggle")}function wl(){this.Ra=!this.Ra;var t=bl.call(this),e=yl.call(this);this.Ra?(e.type="text",hs(t,"firebaseui-input-toggle-off"),fs(t,"firebaseui-input-toggle-on")):(e.type="password",hs(t,"firebaseui-input-toggle-on"),fs(t,"firebaseui-input-toggle-off")),e.focus()}function Il(){return zs(this,"firebaseui-id-new-password-error")}function Sl(){this.Ra=!1;var t=yl.call(this);t.type="password";var e=Il.call(this);Zs(this,t,(function(){nu(e)&&(Js(t,!0),tu(e))}));var n=bl.call(this);hs(n,"firebaseui-input-toggle-on"),fs(n,"firebaseui-input-toggle-off"),function(t,e,n){jn(t,N(Vn,e=new Ss(e))),As(Ys(t),e,"focusin",n)}(this,t,(function(){hs(n,"firebaseui-input-toggle-focus"),fs(n,"firebaseui-input-toggle-blur")})),function(t,e,n){jn(t,N(Vn,e=new Ss(e))),As(Ys(t),e,"focusout",n)}(this,t,(function(){hs(n,"firebaseui-input-toggle-blur"),fs(n,"firebaseui-input-toggle-focus")})),$s(this,n,C(wl,this))}function El(){var t=yl.call(this),e=Il.call(this);return ds(t)?(Js(t,!0),tu(e),e=!0):(Js(t,!1),eu(e,ln("Enter your password").toString()),e=!1),e?ds(t):null}function Tl(t,e,n){Ou.call(this,ec,{email:t},n,"passwordReset"),this.l=e}function kl(t,e,n,r,i){Ou.call(this,lc,{factorId:t,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=e,this.i=r||null}function _l(t,e,n,r){"auth/weak-password"==(r&&r.code)?(t=$c(r),Js(n.i(),!1),eu(n.w(),t),n.i().focus()):(n&&n.o(),(n=new Hc).render(e),gh(t,n))}function Al(t,e){try{var n="number"==typeof t.selectionStart}catch(t){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):$t&&!fe("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function Cl(t,e,n,r,i,o){Ou.call(this,Wu,{email:n},o,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=t,this.u=e}function Nl(t,e,n,r,i){Ou.call(this,Zu,{ga:t},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=e}function Dl(t){Ou.call(this,Ku,void 0,t,"blank")}function xl(t,e,n,i,o){var a=new Dl,s=new Vt(n),u=s.a.a.get(Gt.$a)||"",c=s.a.a.get(Gt.Sa)||"",l="1"===s.a.a.get(Gt.Qa),h=Bt(s),f=s.a.a.get(Gt.PROVIDER_ID)||null;s=s.a.a.get(Gt.vb)||null,Ch(t,s);var d=!Jo(Yo,bh(t)),p=i||function(t,e){var n=null;if(e=Jo(Yo,e))try{var r=Co(t,e),i=JSON.parse(r);n=i&&i.email||null}catch(t){}return n}(c,bh(t)),g=(i=function(t,e){var n=null;if(e=Jo(Xo,e))try{var r=Co(t,e);n=JSON.parse(r)}catch(t){}return io(n||null)}(c,bh(t)))&&i.a;f&&g&&g.providerId!==f&&(g=null),a.render(e),gh(t,a),_h(t,a.I((function(){var e=Gr(null);e=h&&d||d&&l?Hr(Error("anonymous-user-not-found")):function(t,e){var n=Bt(new Vt(e));return n?(e=new Fr((function(e,r){var i=yh(t).onAuthStateChanged((function(t){i(),t&&t.isAnonymous&&t.uid===n?e(t):t&&t.isAnonymous&&t.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))}));_h(t,i)})),_h(t,e),e):Gr(null)}(t,n).then((function(t){if(f&&!g)throw Error("pending-credential-not-found");return t}));var r=null;return e.then((function(e){return r=e,o?null:mh(t).checkActionCode(u)})).then((function(){return r}))}),[],(function(i){p?function(t,e,n,i,o,a){var s=Lu(e);e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Signing in...").toString());var u=null;o=(a?function(t,e,n,i,o){Dh(t);var a=o||null,s=r.Z.auth.EmailAuthProvider.credentialWithLink(n,i);return n=a?mh(t).signInWithEmailLink(n,i).then((function(t){return t.user.linkWithCredential(a)})).then((function(){return Oh(t)})).then((function(){return Lh(t,{code:"auth/email-already-in-use"},a)})):mh(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Lh(t,{code:"auth/email-already-in-use"},s):e.linkWithCredential(s)})),_h(t,n),n}(t,a,n,i,o):function(t,e,n,r){Dh(t);var i,o=r||null;return e=mh(t).signInWithEmailLink(e,n).then((function(t){if(i={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){i={user:t.user,credential:o,operationType:i.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){Oh(t)})).then((function(){return yh(t).updateCurrentUser(i.user)})).then((function(){return i.user=yh(t).currentUser,i})),_h(t,e),e}(t,n,i,o)).then((function(n){Zo(Xo,bh(t)),Zo(Yo,bh(t)),e.h(),e.$("firebaseui-icon-done",ln("Signed in!").toString()),u=setTimeout((function(){e.h(),Jc(t,e,n,!0)}),1e3),_h(t,(function(){e&&(e.h(),e.o()),clearTimeout(u)}))}),(function(r){if(e.h(),e.o(),!r.name||"cancel"!=r.name){var o=$c(r=Xc(r));"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(Zo(Xo,bh(t)),Zo(Yo,bh(t))):"auth/invalid-email"==r.code?(o=ln("The email provided does not match the current sign-in session.").toString(),us("emailLinkConfirmation",t,s,i,Ol,null,o)):rl(t,s,n,o)}})),_h(t,o)}(t,a,p,n,g,i):l?(a.o(),us("differentDeviceError",t,e)):(a.o(),us("emailLinkConfirmation",t,e,n,Ol))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(a.o(),r&&r.message){case"anonymous-user-not-found":us("differentDeviceError",t,e);break;case"anonymous-user-mismatch":us("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":us("emailLinkNewDeviceLinking",t,e,n,Ll);break;default:r&&(i=$c(r)),rl(t,e,void 0,i)}})))}function Ol(t,e,n,r){xl(t,e,r,n,!0)}function Ll(t,e,n){xl(t,e,n)}function Pl(t,e,n,r,i,o){Ou.call(this,Ju,{email:t,ga:e},o,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function Rl(t,e,n,r,i,o){Ou.call(this,Gu,{email:t},o,"emailLinkSignInSent",{F:r,D:i}),this.u=e,this.i=n}function Ml(t,e,n,r,i,o,a){Ou.call(this,pc,{jc:t,Qb:e},a,"emailMismatch",{F:i,D:o}),this.l=n,this.i=r}function Fl(t,e,n,r,i){Ou.call(this,Hu,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=t,this.i=e}function Ul(t,e,n,r,i,o){Ou.call(this,Qu,{email:t,ga:e},o,"federatedLinking",{F:r,D:i}),this.i=n}function jl(t,e,n,r,i,o){Ou.call(this,ju,{email:n,Ta:!!e},o,"passwordRecovery",{F:r,D:i}),this.l=t,this.u=e}function Vl(){return zs(this,"firebaseui-id-name")}function Bl(){return zs(this,"firebaseui-id-name-error")}function ql(t,e,n,r,i,o,a,s,u){Ou.call(this,Uu,{email:r,Tb:t,name:i,Ta:!!n,ia:!!s},u,"passwordSignUp",{F:o,D:a}),this.w=e,this.H=n,this.B=t}function Kl(){return zs(this,"firebaseui-id-phone-confirmation-code")}function Gl(){return zs(this,"firebaseui-id-phone-confirmation-code-error")}function Hl(){return zs(this,"firebaseui-id-resend-countdown")}function Wl(t,e,n,r,i,o,a,s,u){Ou.call(this,mc,{phoneNumber:i},u,"phoneSignInFinish",{F:a,D:s}),this.jb=o,this.i=new Es(1e3),this.B=o,this.P=t,this.l=e,this.H=n,this.M=r}u(Rc,Ou),Rc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Pu(this,this.l(),this.i()),Ru(this,this.i(),this.w),ds(this.l())?this.i().focus():this.l().focus(),Ou.prototype.v.call(this)},Rc.prototype.m=function(){this.H=this.w=null,Ou.prototype.m.call(this)},D(Rc.prototype,{l:Dc,U:xc,P:Oc,M:Lc,j:Pc,i:Tc,B:kc,ea:_c,u:Ac,ua:Ic,pa:Sc,ba:Ec}),P(Mc,Ou),Mc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Mc.K.v.call(this)},Mc.prototype.m=function(){this.i=null,Mc.K.m.call(this)},D(Mc.prototype,{l:Ic,w:Sc,u:Ec}),P(Fc,Mc),P(Uc,Mc),P(jc,Mc),P(Vc,Mc),P(Bc,Mc),P(qc,Mc),P(Kc,Mc),P(Gc,Mc),P(Hc,Mc),P(Wc,Mc),P(zc,Mc),P(Yc,Mc),u(ll,Ou),ll.prototype.v=function(){var t=this;$s(this,this.l(),(function(){t.i()})),this.l().focus(),Ou.prototype.v.call(this)},ll.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(ll.prototype,{l:Sc}),ss.anonymousUserMismatch=function(t,e){var n=new ll((function(){n.o(),rl(t,e)}));n.render(e),gh(t,n)},u(hl,Ou),hl.prototype.I=function(t,e,n,r){return t.apply(null,e).then(n,r)},ss.callback=function(t,e,n){var r=new hl;r.render(e),gh(t,r),e=n||ph(t),_h(t,e.then((function(e){fl(t,r,e)}),(function(e){if((e=Xc(e))&&("auth/account-exists-with-different-credential"==e.code||"auth/email-already-in-use"==e.code)&&e.email&&e.credential)na(new no(e.email,e.credential),bh(t)),gl(t,r,e.email);else if(e&&"auth/user-cancelled"==e.code){var n=ta(bh(t)),i=$c(e);n&&n.a?gl(t,r,n.g,i):n?il(t,r,n.g,i):pl(t,r,e)}else e&&"auth/credential-already-in-use"==e.code||(e&&"auth/operation-not-supported-in-this-environment"==e.code&&el(t)?fl(t,r,{user:null,credential:null}):pl(t,r,e))})))},u(vl,Ou),vl.prototype.v=function(){var t=this;$s(this,this.l(),(function(){t.i()})),this.l().focus(),Ou.prototype.v.call(this)},vl.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(vl.prototype,{l:Sc}),ss.differentDeviceError=function(t,e){var n=new vl((function(){n.o(),rl(t,e)}));n.render(e),gh(t,n)},u(ml,Ou),ml.prototype.v=function(){var t=this;$s(this,zs(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Ou.prototype.v.call(this)},ml.prototype.m=function(){this.l=this.i=null,Ou.prototype.m.call(this)},D(ml.prototype,{u:Ic,B:Sc,w:Ec}),u(Tl,Ou),Tl.prototype.v=function(){this.H(),this.B(this.l),Ru(this,this.i(),this.l),this.i().focus(),Ou.prototype.v.call(this)},Tl.prototype.m=function(){this.l=null,Ou.prototype.m.call(this)},D(Tl.prototype,{i:yl,w:Il,M:bl,H:Sl,u:El,U:Ic,P:Sc,B:Ec}),u(kl,Ou),kl.prototype.v=function(){var t=this;$s(this,zs(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Ou.prototype.v.call(this)},kl.prototype.m=function(){this.l=this.i=null,Ou.prototype.m.call(this)},D(kl.prototype,{u:Ic,B:Sc,w:Ec}),ss.passwordReset=function(t,e,n,r){_h(t,mh(t).verifyPasswordResetCode(n).then((function(i){var o=new Tl(i,(function(){!function(t,e,n,r,i){var o=n.u();o&&_h(t,n.I(C(mh(t).confirmPasswordReset,mh(t)),[r,o],(function(){n.o();var r=new Gc(i);r.render(e),gh(t,r)}),(function(r){_l(t,e,n,r)})))}(t,e,o,n,r)}));o.render(e),gh(t,o)}),(function(){_l(t,e)})))},ss.emailChangeRevocation=function(t,e,n){var r=null;_h(t,mh(t).checkActionCode(n).then((function(e){return r=e.data.email,mh(t).applyActionCode(n)})).then((function(){!function(t,e,n){var r=new ml(n,(function(){_h(t,r.I(C(mh(t).sendPasswordResetEmail,mh(t)),[n],(function(){r.o(),(r=new Fc(n,void 0,Ua(Nh(t)),ja(Nh(t)))).render(e),gh(t,r)}),(function(){r.a(Nn().toString())})))}));r.render(e),gh(t,r)}(t,e,r)}),(function(){var n=new Wc;n.render(e),gh(t,n)})))},ss.emailVerification=function(t,e,n,r){_h(t,mh(t).applyActionCode(n).then((function(){var n=new Uc(r);n.render(e),gh(t,n)}),(function(){var n=new jc;n.render(e),gh(t,n)})))},ss.revertSecondFactorAddition=function(t,e,n){var r=null,i=null;_h(t,mh(t).checkActionCode(n).then((function(e){return r=e.data.email,i=e.data.multiFactorInfo,mh(t).applyActionCode(n)})).then((function(){!function(t,e,n,r){var i=new kl(r.factorId,(function(){i.I(C(mh(t).sendPasswordResetEmail,mh(t)),[n],(function(){i.o(),(i=new Fc(n,void 0,Ua(Nh(t)),ja(Nh(t)))).render(e),gh(t,i)}),(function(){i.a(Nn().toString())}))}),r.phoneNumber);i.render(e),gh(t,i)}(t,e,r,i)}),(function(){var n=new qc;n.render(e),gh(t,n)})))},ss.verifyAndChangeEmail=function(t,e,n,r){var i=null;_h(t,mh(t).checkActionCode(n).then((function(e){return i=e.data.email,mh(t).applyActionCode(n)})).then((function(){var n=new Vc(i,r);n.render(e),gh(t,n)}),(function(){var n=new Bc;n.render(e),gh(t,n)})))},u(Cl,Ou),Cl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Al(this.i(),(this.i().value||"").length),Ou.prototype.v.call(this)},Cl.prototype.m=function(){this.u=this.l=null,Ou.prototype.m.call(this)},D(Cl.prototype,{i:Dc,M:xc,w:Oc,H:Lc,j:Pc,U:Ic,P:Sc,B:Ec}),ss.emailLinkConfirmation=function(t,e,n,r,i,o){var a=new Cl((function(){var i=a.j();i?(a.o(),r(t,e,i,n)):a.i().focus()}),(function(){a.o(),rl(t,e,i||void 0)}),i||void 0,Ua(Nh(t)),ja(Nh(t)));a.render(e),gh(t,a),o&&a.a(o)},u(Nl,Ou),Nl.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},Nl.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(Nl.prototype,{l:Ic,u:Ec}),ss.emailLinkNewDeviceLinking=function(t,e,n,r){var i=new Vt(n);if(n=i.a.a.get(Gt.PROVIDER_ID)||null,qt(i,null),n){var o=new Nl(xa(Nh(t),n),(function(){o.o(),r(t,e,i.toString())}),Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o)}else rl(t,e)},u(Dl,Ou),ss.emailLinkSignInCallback=xl,u(Pl,Ou),Pl.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},Pl.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(Pl.prototype,{l:Ic,u:Ec}),ss.emailLinkSignInLinking=function(t,e,n){var r=ta(bh(t));if(ea(bh(t)),r){var i=r.a.providerId,o=new Pl(n,xa(Nh(t),i),(function(){!function(t,e,n,r){var i=Lu(e);al(t,e,n,(function(){rl(t,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=$c(r);r&&"auth/network-request-failed"==r.code?e.a(o):(e.o(),rl(t,i,n,o))}}),r)}(t,o,n,r)}),Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o)}else rl(t,e)},u(Rl,Ou),Rl.prototype.v=function(){var t=this;$s(this,this.l(),(function(){t.i()})),$s(this,zs(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),Ou.prototype.v.call(this)},Rl.prototype.m=function(){this.i=this.u=null,Ou.prototype.m.call(this)},D(Rl.prototype,{l:Sc}),ss.emailLinkSignInSent=function(t,e,n,r,i){var o=new Rl(n,(function(){o.o(),us("emailNotReceived",t,e,n,r,i)}),(function(){o.o(),r()}),Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o)},u(Ml,Ou),Ml.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Ou.prototype.v.call(this)},Ml.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(Ml.prototype,{u:Ic,B:Sc,w:Ec}),ss.emailMismatch=function(t,e,n){var r=ta(bh(t));if(r){var i=new Ml(n.user.email,r.g,(function(){var e=i;ea(bh(t)),Jc(t,e,n)}),(function(){var e=n.credential.providerId,o=Lu(i);i.o(),r.a?us("federatedLinking",t,o,r.g,e):us("federatedSignIn",t,o,r.g,e)}),Ua(Nh(t)),ja(Nh(t)));i.render(e),gh(t,i)}else rl(t,e)},u(Fl,Ou),Fl.prototype.v=function(){var t=this;$s(this,this.u(),(function(){t.i()})),$s(this,this.Da(),(function(){t.l()})),this.u().focus(),Ou.prototype.v.call(this)},Fl.prototype.Da=function(){return zs(this,"firebaseui-id-resend-email-link")},Fl.prototype.m=function(){this.i=this.l=null,Ou.prototype.m.call(this)},D(Fl.prototype,{u:Sc}),ss.emailNotReceived=function(t,e,n,r,i){var o=new Fl((function(){al(t,o,n,r,(function(t){t=$c(t),o.a(t)}),i)}),(function(){o.o(),rl(t,e,n)}),Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o)},u(Ul,Ou),Ul.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},Ul.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(Ul.prototype,{l:Ic,u:Ec}),ss.federatedLinking=function(t,e,n,r,i){var o=ta(bh(t));if(o&&o.a){var a=new Ul(n,xa(Nh(t),r),(function(){tl(t,a,r,n)}),Ua(Nh(t)),ja(Nh(t)));a.render(e),gh(t,a),i&&a.a(i)}else rl(t,e)},ss.federatedRedirect=function(t,e,n){var r=new Dl;r.render(e),gh(t,r),tl(t,r,e=Da(Nh(t))[0],n)},ss.federatedSignIn=function(t,e,n,r,i){var o=new Ul(n,xa(Nh(t),r),(function(){tl(t,o,r,n)}),Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o),i&&o.a(i)},ss.passwordLinking=function(t,e,n){var r=ta(bh(t));ea(bh(t));var i=r&&r.a;if(i){var o=new Cc(n,(function(){!function(t,e,n,r){var i=e.u();i?_h(t,e.I(C(t.Xb,t),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return Jc(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),_h(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":Js(e.i(),!1),eu(e.B(),$c(t));break;case"auth/too-many-requests":e.a($c(t));break;default:Wi("signInWithEmailAndPassword: "+t.message,void 0),e.a($c(t))}}))):e.i().focus()}(t,o,n,i)}),(function(){o.o(),us("passwordRecovery",t,e,n)}),Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o)}else rl(t,e)},u(jl,Ou),jl.prototype.v=function(){this.B(),this.H(this.l,this.u),ds(this.i())||this.i().focus(),Ru(this,this.i(),this.l),Ou.prototype.v.call(this)},jl.prototype.m=function(){this.u=this.l=null,Ou.prototype.m.call(this)},D(jl.prototype,{i:Dc,w:xc,B:Oc,M:Lc,j:Pc,U:Ic,P:Sc,H:Ec}),ss.passwordRecovery=function(t,e,n,r,i){var o=new jl((function(){!function(t,e){var n=e.j();if(n){var r=Lu(e);_h(t,e.I(C(mh(t).sendPasswordResetEmail,mh(t)),[n],(function(){e.o();var i=new Fc(n,(function(){i.o(),rl(t,r)}),Ua(Nh(t)),ja(Nh(t)));i.render(r),gh(t,i)}),(function(t){Js(e.i(),!1),eu(e.w(),$c(t))})))}else e.i().focus()}(t,o)}),r?void 0:function(){o.o(),rl(t,e)},n,Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o),i&&o.a(i)},ss.passwordSignIn=function(t,e,n,i){var o=new Rc((function(){!function(t,e){var n=e.j(),i=e.u();if(n)if(i){var o=r.Z.auth.EmailAuthProvider.credential(n,i);_h(t,e.I(C(t.bc,t),[n,i],(function(n){return Jc(t,e,{user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":Js(e.l(),!1),eu(e.U(),$c(t));break;case"auth/too-many-requests":case"auth/wrong-password":Js(e.i(),!1),eu(e.B(),$c(t));break;default:Wi("verifyPassword: "+t.message,void 0),e.a($c(t))}})))}else e.i().focus();else e.l().focus()}(t,o)}),(function(){var n=o.M();o.o(),us("passwordRecovery",t,e,n)}),n,Ua(Nh(t)),ja(Nh(t)),i);o.render(e),gh(t,o)},u(ql,Ou),ql.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Pu(this,this.i(),this.u()),Pu(this,this.u(),this.l())):Pu(this,this.i(),this.l()),this.w&&Ru(this,this.l(),this.w),ds(this.i())?this.B&&!ds(this.u())?this.u().focus():this.l().focus():this.i().focus(),Ou.prototype.v.call(this)},ql.prototype.m=function(){this.H=this.w=null,Ou.prototype.m.call(this)},D(ql.prototype,{i:Dc,U:xc,ea:Oc,jb:Lc,j:Pc,u:Vl,Bc:Bl,Ja:function(){var t=Vl.call(this),e=Bl.call(this);Zs(this,t,(function(){nu(e)&&(Js(t,!0),tu(e))}))},M:function(){var t=Vl.call(this),e=Bl.call(this),n=ds(t);return Js(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(tu(e),e=!0):(eu(e,ln("Enter your account name").toString()),e=!1),e?J(ds(t)):null},l:yl,ba:Il,lb:bl,ua:Sl,P:El,Nb:Ic,Mb:Sc,pa:Ec}),ss.passwordSignUp=function(t,e,n,i,o,a){var s=new ql(Va(Nh(t)),(function(){!function(t,e){var n=Va(Nh(t)),i=e.j(),o=null;n&&(o=e.M());var a=e.P();if(i){if(n){if(!o)return void e.u().focus();o=ot(o)}if(a){var s=r.Z.auth.EmailAuthProvider.credential(i,a);_h(t,e.I(C(t.Yb,t),[i,a],(function(r){var i={user:r.user,credential:s,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:o}).then((function(){return Jc(t,e,i)})),_h(t,r),r):Jc(t,e,i)}),(function(n){if(!n.name||"cancel"!=n.name){var r=Xc(n);switch(n=$c(r),r.code){case"auth/email-already-in-use":return function(t,e,n,r){function i(){var t=$c(r);Js(e.i(),!1),eu(e.U(),t),e.i().focus()}var o=mh(t).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=Lu(e),e.o(),us("passwordRecovery",t,r,n,!1,xn().toString()))}),(function(){i()}));return _h(t,o),o}(t,e,i,r);case"auth/too-many-requests":n=ln("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Js(e.l(),!1),eu(e.ba(),n);break;default:Wi(r="setAccountInfo: "+Do(r),void 0),e.a(n)}}})))}else e.l().focus()}else e.i().focus()}(t,s)}),o?void 0:function(){s.o(),rl(t,e)},n,i,Ua(Nh(t)),ja(Nh(t)),a);s.render(e),gh(t,s)},u(Wl,Ou),Wl.prototype.v=function(){var t=this;this.U(this.jb),rr(this.i,"tick",this.w,!1,this),this.i.start(),$s(this,zs(this,"firebaseui-id-change-phone-number-link"),(function(){t.P()})),$s(this,this.Da(),(function(){t.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Ou.prototype.v.call(this)},Wl.prototype.m=function(){this.M=this.H=this.l=this.P=null,Ts(this.i),ar(this.i,"tick",this.w),this.i=null,Ou.prototype.m.call(this)},Wl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Ts(this.i),ar(this.i,"tick",this.w),this.ua(),this.lb())},D(Wl.prototype,{u:Kl,pa:Gl,Ja:function(t){var e=Kl.call(this),n=Gl.call(this);Zs(this,e,(function(){nu(n)&&(Js(e,!0),tu(n))})),t&&Qs(this,e,(function(){t()}))},ba:function(){var t=J(ds(Kl.call(this))||"");return/^\d{6}$/.test(t)?t:null},Fb:Hl,U:function(t){Ye(Hl.call(this),ln("Resend code in "+(9<t?"0:":"0:0")+t).toString())},ua:function(){tu(this.Fb())},Da:function(){return zs(this,"firebaseui-id-resend-link")},lb:function(){eu(this.Da())},Nb:Ic,Mb:Sc,ea:Ec}),ss.phoneSignInFinish=function(t,e,n,r,i,o){var a=new Wl((function(){a.o(),us("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,r){function i(t){e.u().focus(),Js(e.u(),!1),eu(e.pa(),t)}var o=e.ba();o?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),_h(t,e.I(C(r.confirm,r),[o],(function(n){e.h(),e.$("firebaseui-icon-done",ln("Verified!").toString());var r=setTimeout((function(){e.h(),e.o();var r={user:yh(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Jc(t,e,r,!0)}),1e3);_h(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)e.h();else{var o=Xc(r);switch(r=$c(o),o.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":o=Lu(e),e.h(),e.o(),us("phoneSignInStart",t,o,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),i(r);break;default:e.h(),e.a(r)}}})))):i(ln("Wrong code. Try again.").toString())}(t,a,n,i)}),(function(){a.o(),rl(t,e)}),(function(){a.o(),us("phoneSignInStart",t,e,n)}),Sa(n),r,Ua(Nh(t)),ja(Nh(t)));a.render(e),gh(t,a),o&&a.a(o)};var zl=!($t||zt("Safari")&&!(Yt()||zt("Coast")||zt("Opera")||zt("Edge")||zt("Firefox")||zt("FxiOS")||zt("Silk")||zt("Android")));function Yl(t,e){return/-[a-z]/.test(e)?null:zl&&t.dataset?!zt("Android")||Yt()||zt("Firefox")||zt("FxiOS")||zt("Opera")||zt("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function Xl(t,e,n){var r=this;t=nn(mu,{items:t},null,this.s),Tu.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(Yl(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||He(document))||He(document),r=qs(t),i=qs(n);if(!$t||9<=Number(le)){a=Vs(n,"borderLeftWidth");var o=Vs(n,"borderRightWidth");s=Vs(n,"borderTopWidth"),u=Vs(n,"borderBottomWidth"),o=new js(parseFloat(s),parseFloat(o),parseFloat(u),parseFloat(a))}else{var a=Gs(n,"borderLeft");o=Gs(n,"borderRight");var s=Gs(n,"borderTop"),u=Gs(n,"borderBottom");o=new js(s,o,u,a)}n==He(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!$t||10<=Number(le)||(a+=o.left,r+=o.top)):(a=r.a-i.a-o.left,r=r.g-i.g-o.top),i=t.offsetWidth,o=t.offsetHeight,s=re&&!i&&!o,t=d(i)&&!s||!t.getBoundingClientRect?new je(i,o):new je((t=Bs(t)).right-t.left,t.bottom-t.top),i=n.clientHeight-t.height,o=n.scrollLeft,s=n.scrollTop,n=new Ue(o+=Math.min(a,Math.max(a-(n.clientWidth-t.width),0)),s+=Math.min(r,Math.max(r-i,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),$s(this,t,(function(t){(t=(t=Xe(t.target,"firebaseui-id-list-box-dialog-button"))&&Yl(t,"listboxid"))&&(ku.call(r),e(t))}))}function Jl(){return zs(this,"firebaseui-id-phone-number")}function Zl(){return zs(this,"firebaseui-id-country-selector")}function Ql(){return zs(this,"firebaseui-id-phone-number-error")}function $l(t,e){var n,r=t.a,i=th("1-US-0",r);if(!(n=e&&th(e,r)?e:i?"1-US-0":0<r.length?r[0].c:null))throw Error("No available default country");rh.call(this,n,t)}function th(t,e){return!(!(t=pa(t))||!K(e,t))}function eh(t){return"firebaseui-flag-"+t.f}function nh(t){var e=this;Xl.call(this,function(t){return B(t,(function(t){return{id:t.c,Ma:"firebaseui-flag "+eh(t),label:t.name+" +"+t.b}}))}(t.a),(function(n){rh.call(e,n,t,!0),e.O().focus()}),this.Ba)}function rh(t,e,n){var r=pa(t);r&&(n&&(e=da(e,n=J(ds(Jl.call(this))||""))).length&&e[0].b!=r.b&&(n="+"+r.b+n.substr(e[0].b.length+1),ps(Jl.call(this),n)),e=pa(this.Ba),this.Ba=t,t=zs(this,"firebaseui-id-country-selector-flag"),e&&fs(t,eh(e)),hs(t,eh(r)),Ye(zs(this,"firebaseui-id-country-selector-code"),"+"+r.b))}function ih(t,e,n,r,i,o,a,s,u,c){Ou.call(this,vc,{Gb:e,Aa:u||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:r,D:i}),this.H=s||null,this.M=e,this.l=t,this.w=n||null,this.pa=a||null}function oh(t,e,n,r){try{var i=e.U(Ja)}catch(t){return}i?Ya?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),_h(t,e.I(C(t.cc,t),[Sa(i),n],(function(n){var r=Lu(e);e.$("firebaseui-icon-done",ln("Code sent!").toString());var o=setTimeout((function(){e.h(),e.o(),us("phoneSignInFinish",t,r,i,15,n)}),1e3);_h(t,(function(){e&&e.h(),clearTimeout(o)}))}),(function(t){if(e.h(),!t.name||"cancel"!=t.name){grecaptcha.reset(Za),Ya=null;var n=t&&t.message||"";if(t.code)switch(t.code){case"auth/too-many-requests":n=ln("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.O().focus(),void eu(e.B(),Cn().toString());default:n=$c(t)}e.a(n)}})))):Xa?eu(e.u(),ln("Solve the reCAPTCHA").toString()):!Xa&&r&&e.i().click():(e.O().focus(),eu(e.B(),Cn().toString()))}function ah(t,e,n,r,i){Ou.call(this,gc,{Sb:e},i,"providerSignIn",{F:n,D:r}),this.i=t}function sh(t,e,n,r,i,o,a){Ou.call(this,Mu,{email:n,Va:!!e,ia:!!o},a,"signIn",{F:r,D:i}),this.i=t,this.u=e}function uh(t,e,n,r,i,o,a){Ou.call(this,$u,{email:t,yb:n,Eb:!!r},a,"unauthorizedUser",{F:i,D:o}),this.l=e,this.i=r}function ch(t,e,n,r,i,o){Ou.call(this,tc,{email:t},o,"unsupportedProvider",{F:r,D:i}),this.l=e,this.i=n}function lh(t,e){this.$=!1;var n=dh(e);if(fh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');fh[n]=this,this.a=t,this.u=null,this.Y=!1,hh(this.a),this.h=r.Z.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),(t=t.emulatorConfig)&&(n=t.port,this.h.useEmulator(t.protocol+"://"+t.host+(null===n?"":":"+n),t.options)),hh(this.h),this.h.setPersistence&&this.h.setPersistence(r.Z.auth.Auth.Persistence.SESSION),this.oa=e,this.ca=new _a,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Ei.Xa(),this.j=this.C=null,this.da=this.A=!1}function hh(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}u(ih,Ou),ih.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Pu(this,this.O(),this.i()),Ru(this,this.i(),this.l),this.O().focus(),Al(this.O(),(this.O().value||"").length),Ou.prototype.v.call(this)},ih.prototype.m=function(){this.w=this.l=null,Ou.prototype.m.call(this)},D(ih.prototype,{Cb:_u,O:Jl,B:Ql,ea:function(t,e,n){var r=this,i=Jl.call(this),o=Zl.call(this),a=Ql.call(this),s=t||ba,u=s.a;if(0==u.length)throw Error("No available countries provided.");$l.call(r,s,e),$s(this,o,(function(){nh.call(r,s)})),Zs(this,i,(function(){nu(a)&&(Js(i,!0),tu(a));var t=J(ds(i)||""),e=pa(this.Ba),n=da(s,t);t=th("1-US-0",u),n.length&&n[0].b!=e.b&&(e=n[0],rh.call(r,"1"==e.b&&t?"1-US-0":e.c,s))})),n&&Qs(this,i,(function(){n()}))},U:function(t){var e=J(ds(Jl.call(this))||""),n=(t=t||ba).a,r=da(ba,e);if(r.length&&!K(n,r[0]))throw ps(Jl.call(this)),Jl.call(this).focus(),eu(Ql.call(this),ln("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=pa(this.Ba),r.length&&r[0].b!=n.b&&rh.call(this,r[0].c,t),r.length&&(e=e.substr(r[0].b.length+1)),e?new wa(this.Ba,e):null},Ja:Zl,ba:function(){return zs(this,"firebaseui-recaptcha-container")},u:function(){return zs(this,"firebaseui-id-recaptcha-error")},i:Ic,ua:Sc,P:Ec}),ss.phoneSignInStart=function(t,e,n,i){var o=function(t){var e=null;if(j(Ca(t),(function(t){t.provider==r.Z.auth.PhoneAuthProvider.PROVIDER_ID&&E(t.recaptchaParameters)&&!Array.isArray(t.recaptchaParameters)&&(e=st(t.recaptchaParameters))})),e){var n=[];j(as,(function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&Ji('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(Nh(t))||{};Ya=null,Xa=!(o&&"invisible"===o.size);var a=nl(t),s=function(t){var e=(t=Na(t,r.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&ga(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=Ia(t.loginHint)),e&&e[0]||n&&pa(n.a)||null}(Nh(t)),u=a?function(t){var e=null;return(t=Na(t,r.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=Ia(t.loginHint)),t&&t.defaultNationalNumber||e&&e.Aa||null}(Nh(t)):null;s=n&&n.a||s&&s.c||null,n=n&&n.Aa||u,(u=Ma(Nh(t)))&&ma(u),Ja=u?new fa(Ma(Nh(t))):ba;var c=new ih((function(e){oh(t,c,l,!(!e||!e.keyCode))}),Xa,a?null:function(){l.clear(),c.o(),rl(t,e)},Ua(Nh(t)),ja(Nh(t)),a,Ja,s,n);c.render(e),gh(t,c),i&&c.a(i),o.callback=function(e){c.u()&&tu(c.u()),Ya=e,Xa||oh(t,c,l)},o["expired-callback"]=function(){Ya=null};var l=new r.Z.auth.RecaptchaVerifier(Xa?c.ba():c.i(),o,yh(t).app);_h(t,c.I(C(l.render,l),[],(function(t){Za=t}),(function(n){n.name&&"cancel"==n.name||(n=$c(n),c.o(),rl(t,e,void 0,n))})))},ss.prefilledEmailSignIn=function(t,e,n){var r=new Dl;r.render(e),gh(t,r),_h(t,r.I(C(mh(t).fetchSignInMethodsForEmail,mh(t)),[n],(function(i){r.o();var o=!(!el(t)||!wh(t));ol(t,e,i,n,void 0,o)}),(function(i){i=$c(i),r.o(),us("signIn",t,e,n,i)})))},u(ah,Ou),ah.prototype.v=function(){this.l(this.i),Ou.prototype.v.call(this)},ah.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(ah.prototype,{l:function(t){function e(e){t(e)}for(var n=this.g?Be("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];$s(this,i,N(e,Yl(i,"providerId")))}}}),ss.providerSignIn=function(t,e,n,i){var o=new ah((function(n){n==r.Z.auth.EmailAuthProvider.PROVIDER_ID?(o.o(),sl(t,e,i)):n==r.Z.auth.PhoneAuthProvider.PROVIDER_ID?(o.o(),us("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){_h(t,e.I(C(t.$b,t),[],(function(n){return e.o(),Jc(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Wi("ContinueAsGuest: "+t.code,void 0),t=$c(t),e.a(t))})))}(t,o):tl(t,o,n,i),Dh(t),t.l.cancel()}),Oa(Nh(t)),Ua(Nh(t)),ja(Nh(t)));o.render(e),gh(t,o),n&&o.a(n),function(t){Dh(t);try{Ti(t.l,La(Nh(t)),function(t){var e;return Dh(t),(e=t.Z)||(e=!(!(t=Ra(t=Nh(t),r.Z.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.g&&function(t,e,n){if(n&&n.credential&&n.clientId===La(Nh(t))){if(Pa(Nh(t),r.Z.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var i=JSON.parse(atob(n.credential.split(".")[1])).email}catch(o){}return tl(t,e,r.Z.auth.GoogleAuthProvider.PROVIDER_ID,i),Gr(!0)}return o=r.Z.auth.GoogleAuthProvider.credential(n.credential),a=!1,o=e.I(C(t.ac,t),[o],(function(n){var r=Lu(e);e.o(),us("callback",t,r,Gr(n)),a=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Lu(e);e.o(),us("callback",t,r,Hr(n))}else n=$c(n),e.a(n)})),_h(t,o),o.then((function(){return a}),(function(){return!1}))}var o,a;return n&&e.a(ln("The selected credential for the authentication provider is not supported!").toString()),Gr(!1)}(t,t.g,e)}))}catch(t){}}(t)},ss.sendEmailLinkForSignIn=function(t,e,n,r){var i=new hl;i.render(e),gh(t,i),al(t,i,n,r,(function(r){i.o(),r=$c(r),us("signIn",t,e,n,r)}))},u(sh,Ou),sh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Al(this.l(),(this.l().value||"").length),Ou.prototype.v.call(this)},sh.prototype.m=function(){this.u=this.i=null,Ou.prototype.m.call(this)},D(sh.prototype,{l:Dc,M:xc,w:Oc,H:Lc,j:Pc,U:Ic,P:Sc,B:Ec}),ss.signIn=function(t,e,n,r){var i=el(t),o=new sh((function(){var e=o,n=e.j()||"";n&&il(t,e,n)}),i?null:function(){o.o(),rl(t,e,n)},n,Ua(Nh(t)),ja(Nh(t)),i);o.render(e),gh(t,o),r&&o.a(r)},u(uh,Ou),uh.prototype.v=function(){var t=this,e=zs(this,"firebaseui-id-unauthorized-user-help-link");this.i&&e&&$s(this,e,(function(){t.i()})),$s(this,this.u(),(function(){t.l()})),this.u().focus(),Ou.prototype.v.call(this)},uh.prototype.m=function(){this.i=this.l=null,Ou.prototype.m.call(this)},D(uh.prototype,{u:Sc}),ss.handleUnauthorizedUser=function(t,e,n,i){function o(){rl(t,e)}i===r.Z.auth.EmailAuthProvider.PROVIDER_ID&&(o=function(){sl(t,e)});var a=new uh(n||null,(function(){a.o(),o()}),function(t){return(t=Na(t,r.Z.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.adminEmail||null}(Nh(t)),function(t){if((t=Na(t,r.Z.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp){var e=t.disableSignUp.helpLink||null;if(e&&"string"==typeof e)return function(){ii(e)}}return null}(Nh(t)),Ua(Nh(t)),ja(Nh(t)));a.render(e),gh(t,a)},u(ch,Ou),ch.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Ou.prototype.v.call(this)},ch.prototype.m=function(){this.i=this.l=null,Ou.prototype.m.call(this)},D(ch.prototype,{u:Ic,B:Sc,w:Ec}),ss.unsupportedProvider=function(t,e,n){var r=new ch(n,(function(){r.o(),us("passwordRecovery",t,e,n)}),(function(){r.o(),rl(t,e,n)}),Ua(Nh(t)),ja(Nh(t)));r.render(e),gh(t,r)};var fh={};function dh(t){return t||"[DEFAULT]"}function ph(t){return Dh(t),t.i||(t.i=Th(t,(function(e){return e&&!ta(bh(t))?Gr(yh(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Lh(t,e)}))):Gr(mh(t).getRedirectResult().then((function(e){return Aa(Nh(t))&&!e.user&&t.j&&!t.j.isAnonymous?yh(t).getRedirectResult():e})))}))),t.i}function gh(t,e){Dh(t),t.g=e}var vh=null;function mh(t){return Dh(t),t.h}function yh(t){return Dh(t),t.a}function bh(t){return Dh(t),t.oa}function wh(t){return Dh(t),t.O?t.O.emailHint:void 0}function Ih(t){return"signIn"===((t=new Vt(t)).a.a.get(Gt.ub)||null)&&!!t.a.a.get(Gt.$a)}function Sh(t,e,n,r){Dh(t),void 0!==t.a.languageCode&&(t.u=t.a.languageCode);var i="en".replace(/_/g,"-");t.a.languageCode=i,t.h.languageCode=i,t.Y=!0,void 0!==t.a.tenantId&&(t.h.tenantId=t.a.tenantId),t.ib(n),t.O=r||null;var o=f.document;t.C?t.C.then((function(){"complete"==o.readyState?Eh(t,e):or(window,"load",(function(){Eh(t,e)}))})):"complete"==o.readyState?Eh(t,e):or(window,"load",(function(){Eh(t,e)}))}function Eh(t,e){var n=oi(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),vh){var r=vh;Dh(r),ta(bh(r))&&Ji("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),vh.reset()}if(vh=t,t.T=n,function(t,e){t.L=null,t.J=new Sr(e),t.J.register(),rr(t.J,"pageEnter",(function(e){if(e=e&&e.pageId,t.L!=e){var n=Nh(t);(n=za(n).uiChanged||null)&&n(t.L,e),t.L=e}}))}(t,n),jo(new Vo)&&jo(new Bo)){e=oi(e,"Could not find the FirebaseUI widget element on the page."),n=(n=bt(n=ai(),r=sa(Nh(t).a,"queryParameterForSignInSuccessUrl")))?Ie(Ee(n)).toString():null;t:{r=ai();var i=Fa(Nh(t));for(o in r=bt(r,i)||"",is)if(is[o].toLowerCase()==r.toLowerCase()){var o=is[o];break t}o="callback"}switch(o){case"callback":n&&(o=bh(t),Qo(zo,n,o)),t.nb()?us("callback",t,e):rl(t,e,wh(t));break;case"resetPassword":us("passwordReset",t,e,ul(),cl());break;case"recoverEmail":us("emailChangeRevocation",t,e,ul());break;case"revertSecondFactorAddition":us("revertSecondFactorAddition",t,e,ul());break;case"verifyEmail":us("emailVerification",t,e,ul(),cl());break;case"verifyAndChangeEmail":us("verifyAndChangeEmail",t,e,ul(),cl());break;case"signIn":us("emailLinkSignInCallback",t,e,ai()),xh();break;case"select":n&&(o=bh(t),Qo(zo,n,o)),rl(t,e);break;default:throw Error("Unhandled widget operation.")}(e=za(e=Nh(t)).uiShown||null)&&e()}else e=oi(e,"Could not find the FirebaseUI widget element on the page."),(o=new Yc(ln("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),gh(t,o);e=t.g&&"blank"==t.g.Ga&&qa(Nh(t)),ra(bh(t))&&!e&&(Ch(t,(e=ra(bh(t))).a),Zo(Wo,bh(t)))}function Th(t,e){if(t.A)return e(kh(t));if(_h(t,(function(){t.A=!1})),Aa(Nh(t))){var n=new Fr((function(n){_h(t,t.a.onAuthStateChanged((function(r){t.j=r,t.A||(t.A=!0,n(e(kh(t))))})))}));return _h(t,n),n}return t.A=!0,e(null)}function kh(t){return Dh(t),Aa(Nh(t))&&t.j&&t.j.isAnonymous?t.j:null}function _h(t,e){if(Dh(t),e){t.s.push(e);var n=function(){!function(t,e){!function(t,e){for(var n=p(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&H(t,r)}))}(t.s,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function Ah(t){void 0!==t.a.languageCode&&t.Y&&(t.Y=!1,t.a.languageCode=t.u)}function Ch(t,e){t.a.tenantId=e,t.h.tenantId=e}function Nh(t){return Dh(t),t.ca}function Dh(t){if(t.$)throw Error("AuthUI instance is deleted!")}function xh(){var t=ai();if(Ih(t)){for(var e in t=new Vt(t),Gt)Gt.hasOwnProperty(e)&&Mt(t.a.a,Gt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"};var n=f.document.title;f.history&&f.history.replaceState&&f.history.replaceState(e,n,t.toString())}}function Oh(t){return Dh(t),mh(t).signOut()}function Lh(t,e,n){if(Dh(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var r=Wa(Nh(t));return Gr().then((function(){return r(new Pn("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.g&&(t.g.o(),t.g=null),e}))}return Hr(e)}function Ph(t,e,n,r){Ou.call(this,wc,void 0,r,"providerMatchByEmail",{F:e,D:n}),this.i=t}function Rh(t,e,n,r,i){Ou.call(this,bc,{ec:e},i,"selectTenant",{F:n,D:r}),this.i=t}function Mh(t){Ou.call(this,qu,void 0,t,"spinner")}function Fh(t){for(var e in this.a=new ia,oa(this.a,"authDomain"),oa(this.a,"displayMode",Gh),oa(this.a,"tenants"),oa(this.a,"callbacks"),oa(this.a,"tosUrl"),oa(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{aa(this.a,e,t[e])}catch(t){Wi('Invalid config: "'+e+'"',void 0)}}function Uh(t){return t.a.get("callbacks")||{}}function jh(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Ji("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ii(e)}}return null}function Vh(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Ji("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ii(n)}}return null}function Bh(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(Wh))throw Error("Invalid tenant configuration!")}function qh(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(t=t[e]||t[Wh]))return Wi("Invalid tenant configuration: "+e+" is not configured!",void 0),r;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)r.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&r.push(t.provider):r.push(t.provider)}else Wi(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),r}(t=lh.prototype).nb=function(){return Dh(this),!!ra(bh(this))||Ih(ai())},t.start=function(t,e){Sh(this,t,e)},t.Db=function(){Dh(this),this.Z=!0},t.reset=function(){Dh(this);var t=this;this.T&&this.T.removeAttribute("lang"),this.J&&function(t){var e=Ir(t.N());yr[e]&&yr[e].length&&(function(t,e){t:{for(var n=t.length,r=p(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}0<=e&&H(t,e)}(yr[e],(function(e){return e==t})),yr[e].length||delete yr[e])}(this.J),Ah(this),this.O=null,xh(),Zo(Wo,bh(this)),Dh(this),this.l.cancel(),this.i=Gr({user:null,credential:null}),vh==this&&(vh=null),this.T=null;for(var e=0;e<this.s.length;e++)"function"==typeof this.s[e]?this.s[e]():this.s[e].cancel&&this.s[e].cancel();this.s=[],ea(bh(this)),this.g&&(this.g.o(),this.g=null),this.L=null,this.h&&(this.C=Oh(this).then((function(){t.C=null}),(function(){t.C=null})))},t.ib=function(t){Dh(this);var e,n=this.ca;for(e in t)try{aa(n.a,e,t[e])}catch(t){Wi('Invalid config: "'+e+'"',void 0)}ie&&aa(n.a,"popupMode",!1),Ma(n),!this.da&&Ga(Nh(this))&&(Ji("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},t.Wb=function(){Dh(this);var t=Nh(this),e=sa(t.a,"widgetUrl");t=Fa(t);for(var n,r=e.search(yt),i=0,o=[];0<=(n=mt(e,i,t,r));)o.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);o.push(e.substr(i)),e=o.join("").replace(wt,"$1"),(t+=r="="+encodeURIComponent("select"))?(0>(r=e.indexOf("#"))&&(r=e.length),0>(i=e.indexOf("?"))||i>r?(i=r,n=""):n=e.substring(i+1,r),r=(e=[e.substr(0,i),n,e.substr(r)])[1],e[1]=t?r?r+"&"+t:t:r,r=e[0]+(e[1]?"?"+e[1]:"")+e[2]):r=e,Nh(this).a.get("popupMode")?(r=r||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||r.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=ni(r,t))&&t.focus()):Fe(window.location,r)},t.Wa=function(){var t=this;return Dh(this),this.h.app.delete().then((function(){var e=dh(bh(t));delete fh[e],t.reset(),t.$=!0}))},t.Ib=function(t,e){Dh(this);var n=this,i=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Ba(Nh(this)))return Hr(Error("Email link sign-in should be enabled to trigger email sending."));var o=function(t){if(Ba(t)){var e={url:ai(),handleCodeInApp:!0};(t=Na(t,r.Z.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&ct(e,t.emailLinkSignIn()),t=e.url;var n=ai();n instanceof It||(n=kt(n)),t instanceof It||(t=kt(t));var i=n;n=new It(i);var o=!!t.j;o?St(n,t.j):o=!!t.A,o?n.A=t.A:o=!!t.h,o?n.h=t.h:o=null!=t.C;var a=t.g;if(o)Et(n,t.C);else if(o=!!t.g)if("/"!=a.charAt(0)&&(i.h&&!i.g?a="/"+a:-1!=(i=n.g.lastIndexOf("/"))&&(a=n.g.substr(0,i+1)+a)),".."==a||"."==a)a="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){i=0==a.lastIndexOf("/",0),a=a.split("/");for(var s=[],u=0;u<a.length;){var c=a[u++];"."==c?i&&u==a.length&&s.push(""):".."==c?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),i&&u==a.length&&s.push("")):(s.push(c),i=!0)}a=s.join("/")}return o?n.g=a:o=""!==t.a.toString(),o?Tt(n,Ut(t.a)):o=!!t.s,o&&(n.s=t.s),e.url=n.toString(),e}return null}(Nh(this)),a=new Vt(o.url);return function(t,e){e?t.a.a.set(Gt.Sa,e):Mt(t.a.a,Gt.Sa)}(a,i),e&&e.a&&(function(t,e,n){Qo(Xo,Ao(t,JSON.stringify(ro(e))),n)}(i,e,bh(this)),qt(a,e.a.providerId)),function(t,e){null!==e?t.a.a.set(Gt.Qa,e?"1":"0"):Mt(t.a.a,Gt.Qa)}(a,function(t){return!(!(t=Na(t,r.Z.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(Nh(this))),Th(this,(function(e){return e&&((e=e.uid)?a.a.a.set(Gt.Pa,e):Mt(a.a.a,Gt.Pa)),o.url=a.toString(),mh(n).sendSignInLinkToEmail(t,o)})).then((function(){var e=bh(n),r={};r.email=t,Qo(Yo,Ao(i,JSON.stringify(r)),e)}),(function(t){throw Zo(Xo,bh(n)),Zo(Yo,bh(n)),t}))},t.bc=function(t,e){Dh(this);var n=this;return mh(this).signInWithEmailAndPassword(t,e).then((function(i){return Th(n,(function(o){return o?Oh(n).then((function(){return Lh(n,{code:"auth/email-already-in-use"},r.Z.auth.EmailAuthProvider.credential(t,e))})):i}))}))},t.Yb=function(t,e){Dh(this);var n=this;return Th(this,(function(i){if(i){var o=r.Z.auth.EmailAuthProvider.credential(t,e);return i.linkWithCredential(o)}return mh(n).createUserWithEmailAndPassword(t,e)}))},t.ac=function(t){Dh(this);var e=this;return Th(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Lh(e,n,t)})):mh(e).signInWithCredential(t)}))},t.dc=function(t){Dh(this);var e=this,n=this.i;return this.i=null,Th(this,(function(n){return n&&!ta(bh(e))?n.linkWithRedirect(t):mh(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},t.cc=function(t,e){Dh(this);var n=this;return Th(this,(function(r){return r?r.linkWithPhoneNumber(t,e).then((function(t){return new Ai(t,(function(t){if("auth/credential-already-in-use"==t.code)return Lh(n,t);throw t}))})):yh(n).signInWithPhoneNumber(t,e).then((function(t){return new Ai(t)}))}))},t.$b=function(){return Dh(this),yh(this).signInAnonymously()},t.Xb=function(t,e){return Dh(this),mh(this).signInWithEmailAndPassword(t,e)},u(Ph,Ou),Ph.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Al(this.l(),(this.l().value||"").length),Ou.prototype.v.call(this)},Ph.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},D(Ph.prototype,{l:Dc,H:xc,u:Oc,B:Lc,j:Pc,M:Ic,w:Ec}),u(Rh,Ou),Rh.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var r=t.g?Be("firebaseui-id-tenant-selection-button",t.g||t.s.a):[],i=0;i<r.length;i++){var o=r[i];$s(t,o,N(n,Yl(o,"tenantId")))}}(this,this.i),Ou.prototype.v.call(this)},Rh.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},u(Mh,Ou);var Kh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Gh="optionFirst",Hh={pc:Gh,oc:"identifierFirst"},Wh="*";function zh(t,e){var n=this;this.s=oi(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new Fh(e[t])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(t){this.ob=t||null},enumerable:!1})}function Yh(t){t.j&&t.j.reset(),t.mb(),t.g&&t.g.o()}(t=zh.prototype).Ub=function(t,e){var n=this;Yh(this);var r=t.apiKey;return new Fr((function(t,i){if(n.a.hasOwnProperty(r)){var o=Uh(n.a[r]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),Hh)if(Hh[e]===t)return Hh[e];return Gh}(n.a[r])===Gh){var a=[];e.forEach((function(t){t=t||"_";var e=n.a[r].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[Wh])?t={tenantId:"_"!==t?t:null,V:e.fullLabel||null,displayName:e.displayName,za:e.iconUrl,ta:e.buttonColor}:(Wi("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&a.push(t)}));var s=function(e){e={tenantId:e,providerIds:qh(n.a[r],e||"_")},t(e)};if(1===a.length)return void s(a[0].tenantId);n.g=new Rh((function(t){Yh(n),o&&o(),s(t)}),a,jh(n.a[r]),Vh(n.a[r]))}else n.g=new Ph((function(){var i=n.g.j();if(i){for(var a=0;a<e.length;a++){var s=qh(n.a[r],e[a]||"_",i);if(0!==s.length)return i={tenantId:e[a],providerIds:s,email:i},Yh(n),o&&o(),void t(i)}n.g.a(On({code:"no-matching-tenant-for-email"}).toString())}}),jh(n.a[r]),Vh(n.a[r]));n.g.render(n.s),(i=Uh(n.a[r]).selectTenantUiShown||null)&&i()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),i(u)}}))},t.Pb=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;Bh(this.a[t],e||"_");try{this.i=r.Z.app(n).auth()}catch(o){var i=this.a[t].a.get("authDomain");if(!i)throw Error("Invalid project configuration: authDomain is required!");(t=r.Z.initializeApp({apiKey:t,authDomain:i},n)).auth().tenantId=e,this.i=t.auth()}return this.i},t.Zb=function(t,e){var n=this;return new Fr((function(r,i){function o(e,r){n.j=new lh(t),Sh(n.j,n.s,e,r)}var a=t.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var s=function(t,e,n){return t=function(t,e){var n=Kh,r=void 0===r?{}:r;return Bh(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[Wh],n,r)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return"string"==typeof t?n.includes(t):n.includes(t.provider)})),t.signInOptions=e),t}(n.a[a],t.tenantId||"_",e&&e.providerIds);Yh(n),i={signInSuccessWithAuthResult:function(t){return r(t),!1}};var u,c=Uh(n.a[a]).signInUiShown||null,l=!1;i.uiChanged=function(e,r){null===e&&"callback"===r?((e=qe("firebaseui-id-page-callback",n.s))&&tu(e),n.h=new Mh,n.h.render(n.s)):l||null===e&&"spinner"===r||"blank"===r||(n.h&&(n.h.o(),n.h=null),l=!0,c&&c(t.tenantId))},s.callbacks=i,s.credentialHelper="none",e&&e.email&&(u={emailHint:e.email}),n.j?n.j.Wa().then((function(){o(s,u)})):o(s,u)}))},t.reset=function(){var t=this;return Gr().then((function(){t.j&&t.j.Wa()})).then((function(){t.j=null,Yh(t)}))},t.Vb=function(){var t=this;this.h||this.A||(this.A=window.setTimeout((function(){Yh(t),t.h=new Mh,t.g=t.h,t.h.render(t.s),t.A=null}),500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.o(),this.h=null)},t.Bb=function(){return Yh(this),this.g=new Kc,this.g.render(this.s),Gr()},t.pb=function(t){var e,n=this,r=On({code:t.code}).toString()||t.message;Yh(this),t.retry&&"function"==typeof t.retry&&(e=function(){n.reset(),t.retry()}),this.g=new zc(r,e),this.g.render(this.s)},t.Rb=function(t){var e=this;return Gr().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Bh(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=Uh(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},L("firebaseui.auth.FirebaseUiHandler",zh),L("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",zh.prototype.Ub),L("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",zh.prototype.Pb),L("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",zh.prototype.Zb),L("firebaseui.auth.FirebaseUiHandler.prototype.reset",zh.prototype.reset),L("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",zh.prototype.Vb),L("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",zh.prototype.mb),L("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",zh.prototype.Bb),L("firebaseui.auth.FirebaseUiHandler.prototype.handleError",zh.prototype.pb),L("firebaseui.auth.FirebaseUiHandler.prototype.processUser",zh.prototype.Rb),L("firebaseui.auth.AuthUI",lh),L("firebaseui.auth.AuthUI.getInstance",(function(t){return t=dh(t),fh[t]?fh[t]:null})),L("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",lh.prototype.Db),L("firebaseui.auth.AuthUI.prototype.start",lh.prototype.start),L("firebaseui.auth.AuthUI.prototype.setConfig",lh.prototype.ib),L("firebaseui.auth.AuthUI.prototype.signIn",lh.prototype.Wb),L("firebaseui.auth.AuthUI.prototype.reset",lh.prototype.reset),L("firebaseui.auth.AuthUI.prototype.delete",lh.prototype.Wa),L("firebaseui.auth.AuthUI.prototype.isPendingRedirect",lh.prototype.nb),L("firebaseui.auth.AuthUIError",Pn),L("firebaseui.auth.AuthUIError.prototype.toJSON",Pn.prototype.toJSON),L("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Qa),L("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",$a),L("firebaseui.auth.CredentialHelper.NONE",ts),L("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Fr.prototype.catch=Fr.prototype.Ca,Fr.prototype.finally=Fr.prototype.fc}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window)}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=a());var s=firebaseui.auth},997:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},544:()=>{var t={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(t=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function r(e,n){for(var r=0;r<t.length;r++)if(t[r].className===e)return void 0!==n&&(t[r]=n),t[r];return!1}function i(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function o(t,e){return-1!==i(t).indexOf(e)}function a(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function s(e,n){if(void 0===e&&void 0===n)for(var i=0;i<t.length;i++)s(t[i].className,t[i].cssClass);else{var o=e;if(void 0===n){var a=r(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=i(s),h=[];if(u)o(s,u)||h.push(r(u));else{var f=s.classList;t.forEach((function(t){f.contains(t.cssClass)&&-1===h.indexOf(t)&&!o(s,t.className)&&h.push(t)}))}for(var d,p=0,g=h.length;p<g;p++){if(!(d=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(d.className),s.setAttribute("data-upgraded",l.join(","));var v=new d.classConstructor(s);v[n]=d,e.push(v);for(var m=0,y=d.callbacks.length;m<y;m++)d.callbacks[m](s);d.widget&&(s[d.className]=v);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(t){if(t){var r=e.indexOf(t);e.splice(r,1);var i=t.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(t[n].classAsString);i.splice(o,1),t.element_.setAttribute("data-upgraded",i.join(","));var s=a("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(u(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)s(t[e].className)},registerUpgradedCallback:function(t,e){var n=r(t);n&&n.callbacks.push(e)},register:function(e){var i=!0;void 0===e.widget&&void 0===e.widget||(i=e.widget||e.widget);var o={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:i,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");r(e.classAsString,o)||t.push(o)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(c)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)n(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).ComponentConfigPublic,t.ComponentConfig,t.Component,t.upgradeDom=t.upgradeDom,t.upgradeElement=t.upgradeElement,t.upgradeElements=t.upgradeElements,t.upgradeAllRegistered=t.upgradeAllRegistered,t.registerUpgradedCallback=t.registerUpgradedCallback,t.register=t.register,t.downgradeElements=t.downgradeElements,window.componentHandler=t,window.componentHandler=t,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),t.upgradeAllRegistered()):(t.upgradeElement=function(){},t.register=function(){})}))},210:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},634:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},573:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(t){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},18:(t,e,n)=>{"use strict";var r=n(178);t.exports=function(t,e,n){var i=[],o=!1,a=!1;function s(){if(o)throw new Error("Nested m.redraw.sync() call");o=!0;for(var e=0;e<i.length;e+=2)try{t(i[e],r(i[e+1]),u)}catch(t){n.error(t)}o=!1}function u(){a||(a=!0,e((function(){a=!1,s()})))}return u.sync=s,{mount:function(e,n){if(null!=n&&null==n.view&&"function"!=typeof n)throw new TypeError("m.mount(element, component) expects a component, not a vnode");var o=i.indexOf(e);o>=0&&(i.splice(o,2),t(e,[],u)),null!=n&&(i.push(e,n),t(e,r(n),u))},redraw:u}}},223:(t,e,n)=>{"use strict";var r=n(178),i=n(373),o=n(164),a=n(249),s=n(561),u=n(562),c=n(127),l={};t.exports=function(t,e){var n;function h(e,r,i){if(e=a(e,r),null!=n){n();var o=i?i.state:null,s=i?i.title:null;i&&i.replace?t.history.replaceState(o,s,y.prefix+e):t.history.pushState(o,s,y.prefix+e)}else t.location.href=y.prefix+e}var f,d,p,g,v=l,m=y.SKIP={};function y(i,a,b){if(null==i)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var w,I=0,S=Object.keys(b).map((function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:t,component:b[t],check:u(t)}})),E="function"==typeof setImmediate?setImmediate:setTimeout,T=o.resolve(),k=!1;if(n=null,null!=a){var _=s(a);if(!S.some((function(t){return t.check(_)})))throw new ReferenceError("Default route doesn't match any known routes")}function A(){k=!1;var n=t.location.hash;"#"!==y.prefix[0]&&(n=t.location.search+n,"?"!==y.prefix[0]&&"/"!==(n=t.location.pathname+n)[0]&&(n="/"+n));var r=n.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(y.prefix.length),i=s(r);function o(){if(r===a)throw new Error("Could not resolve default route "+a);h(a,null,{replace:!0})}c(i.params,t.history.state),function t(n){for(;n<S.length;n++)if(S[n].check(i)){var a=S[n].component,s=S[n].route,u=a,c=g=function(o){if(c===g){if(o===m)return t(n+1);f=null==o||"function"!=typeof o.view&&"function"!=typeof o?"div":o,d=i.params,p=r,g=null,v=a.render?a:null,2===I?e.redraw():(I=2,e.redraw.sync())}};return void(a.view||"function"==typeof a?(a={},c(u)):a.onmatch?T.then((function(){return a.onmatch(i.params,r,s)})).then(c,o):c("div"))}o()}(0)}return n=function(){k||(k=!0,E(A))},"function"==typeof t.history.pushState?(w=function(){t.removeEventListener("popstate",n,!1)},t.addEventListener("popstate",n,!1)):"#"===y.prefix[0]&&(n=null,w=function(){t.removeEventListener("hashchange",A,!1)},t.addEventListener("hashchange",A,!1)),e.mount(i,{onbeforeupdate:function(){return!(!(I=I?2:1)||l===v)},oncreate:A,onremove:w,view:function(){if(I&&l!==v){var t=[r(f,d.key,d)];return v&&(t=v.render(t[0])),t}}})}return y.set=function(t,e,n){null!=g&&((n=n||{}).replace=!0),g=null,h(t,e,n)},y.get=function(){return p},y.prefix="#!",y.Link={view:function(t){var e,n,r=t.attrs.options,o={};c(o,t.attrs),o.selector=o.options=o.key=o.oninit=o.oncreate=o.onbeforeupdate=o.onupdate=o.onbeforeremove=o.onremove=null;var a=i(t.attrs.selector||"a",o,t.children);return(a.attrs.disabled=Boolean(a.attrs.disabled))?(a.attrs.href=null,a.attrs["aria-disabled"]="true",a.attrs.onclick=null):(e=a.attrs.onclick,n=a.attrs.href,a.attrs.href=y.prefix+n,a.attrs.onclick=function(t){var i;"function"==typeof e?i=e.call(t.currentTarget,t):null==e||"object"!=typeof e||"function"==typeof e.handleEvent&&e.handleEvent(t),!1===i||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,y.set(n,null,r))}),a}},y.param=function(t){return d&&null!=t?d[t]:d},y}},262:(t,e,n)=>{"use strict";var r=n(373);r.trust=n(742),r.fragment=n(621),t.exports=r},865:(t,e,n)=>{"use strict";var r=n(262),i=n(74),o=n(165),a=function(){return r.apply(this,arguments)};a.m=r,a.trust=r.trust,a.fragment=r.fragment,a.mount=o.mount,a.route=n(843),a.render=n(358),a.redraw=o.redraw,a.request=i.request,a.jsonp=i.jsonp,a.parseQueryString=n(874),a.buildQueryString=n(478),a.parsePathname=n(561),a.buildPathname=n(249),a.vnode=n(178),a.PromisePolyfill=n(803),t.exports=a},165:(t,e,n)=>{"use strict";var r=n(358);t.exports=n(18)(r,requestAnimationFrame,console)},127:t=>{"use strict";t.exports=Object.assign||function(t,e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))}},249:(t,e,n)=>{"use strict";var r=n(478),i=n(127);t.exports=function(t,e){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names *must* be separated");if(null==e)return t;var n=t.indexOf("?"),o=t.indexOf("#"),a=o<0?t.length:o,s=n<0?a:n,u=t.slice(0,s),c={};i(c,e);var l=u.replace(/:([^\/\.-]+)(\.{3})?/g,(function(t,n,r){return delete c[n],null==e[n]?t:r?e[n]:encodeURIComponent(String(e[n]))})),h=l.indexOf("?"),f=l.indexOf("#"),d=f<0?l.length:f,p=h<0?d:h,g=l.slice(0,p);n>=0&&(g+=t.slice(n,a)),h>=0&&(g+=(n<0?"?":"&")+l.slice(h,d));var v=r(c);return v&&(g+=(n<0&&h<0?"?":"&")+v),o>=0&&(g+=t.slice(o)),f>=0&&(g+=(o<0?"":"&")+l.slice(f)),g}},562:(t,e,n)=>{"use strict";var r=n(561);t.exports=function(t){var e=r(t),n=Object.keys(e.params),i=[],o=new RegExp("^"+e.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(t,e,n){return null==e?"\\"+t:(i.push({k:e,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))}))+"$");return function(t){for(var r=0;r<n.length;r++)if(e.params[n[r]]!==t.params[n[r]])return!1;if(!i.length)return o.test(t.path);var a=o.exec(t.path);if(null==a)return!1;for(r=0;r<i.length;r++)t.params[i[r].k]=i[r].r?a[r+1]:decodeURIComponent(a[r+1]);return!0}}},561:(t,e,n)=>{"use strict";var r=n(874);t.exports=function(t){var e=t.indexOf("?"),n=t.indexOf("#"),i=n<0?t.length:n,o=e<0?i:e,a=t.slice(0,o).replace(/\/{2,}/g,"/");return a?("/"!==a[0]&&(a="/"+a),a.length>1&&"/"===a[a.length-1]&&(a=a.slice(0,-1))):a="/",{path:a,params:e<0?{}:r(t.slice(e+1,i))}}},803:t=>{"use strict";var e=function(t){if(!(this instanceof e))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var n=this,r=[],i=[],o=c(r,!0),a=c(i,!1),s=n._instance={resolvers:r,rejectors:i},u="function"==typeof setImmediate?setImmediate:setTimeout;function c(t,e){return function o(c){var h;try{if(!e||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(h=c.then))u((function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",c);for(var n=0;n<t.length;n++)t[n](c);r.length=0,i.length=0,s.state=e,s.retry=function(){o(c)}}));else{if(c===n)throw new TypeError("Promise can't be resolved w/ itself");l(h.bind(c))}}catch(t){a(t)}}}function l(t){var e=0;function n(t){return function(n){e++>0||t(n)}}var r=n(a);try{t(n(o),r)}catch(t){r(t)}}l(t)};e.prototype.then=function(t,n){var r,i,o=this._instance;function a(t,e,n,a){e.push((function(e){if("function"!=typeof t)n(e);else try{r(t(e))}catch(t){i&&i(t)}})),"function"==typeof o.retry&&a===o.state&&o.retry()}var s=new e((function(t,e){r=t,i=e}));return a(t,o.resolvers,r,!0),a(n,o.rejectors,i,!1),s},e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(t){return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},e.resolve=function(t){return t instanceof e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(e,n){var r=t.length,i=0,o=[];if(0===t.length)e([]);else for(var a=0;a<t.length;a++)!function(a){function s(t){i++,o[a]=t,i===r&&e(o)}null==t[a]||"object"!=typeof t[a]&&"function"!=typeof t[a]||"function"!=typeof t[a].then?s(t[a]):t[a].then(s,n)}(a)}))},e.race=function(t){return new e((function(e,n){for(var r=0;r<t.length;r++)t[r].then(e,n)}))},t.exports=e},164:(t,e,n)=>{"use strict";var r=n(803);"undefined"!=typeof window?(void 0===window.Promise?window.Promise=r:window.Promise.prototype.finally||(window.Promise.prototype.finally=r.prototype.finally),t.exports=window.Promise):void 0!==n.g?(void 0===n.g.Promise?n.g.Promise=r:n.g.Promise.prototype.finally||(n.g.Promise.prototype.finally=r.prototype.finally),t.exports=n.g.Promise):t.exports=r},478:t=>{"use strict";t.exports=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)r(n,t[n]);return e.join("&");function r(t,n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(t+"["+i+"]",n[i]);else if("[object Object]"===Object.prototype.toString.call(n))for(var i in n)r(t+"["+i+"]",n[i]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}}},874:t=>{"use strict";t.exports=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),n={},r={},i=0;i<e.length;i++){var o=e[i].split("="),a=decodeURIComponent(o[0]),s=2===o.length?decodeURIComponent(o[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var u=a.split(/\]\[?|\[/),c=r;a.indexOf("[")>-1&&u.pop();for(var l=0;l<u.length;l++){var h=u[l],f=u[l+1],d=""==f||!isNaN(parseInt(f,10));if(""===h)null==n[a=u.slice(0,l).join()]&&(n[a]=Array.isArray(c)?c.length:0),h=n[a]++;else if("__proto__"===h)break;if(l===u.length-1)c[h]=s;else{var p=Object.getOwnPropertyDescriptor(c,h);null!=p&&(p=p.value),null==p&&(c[h]=p=d?[]:{}),c=p}}}return r}},358:(t,e,n)=>{"use strict";t.exports=n(452)(window)},621:(t,e,n)=>{"use strict";var r=n(178),i=n(359);t.exports=function(){var t=i.apply(0,arguments);return t.tag="[",t.children=r.normalizeChildren(t.children),t}},373:(t,e,n)=>{"use strict";var r=n(178),i=n(359),o=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,a={},s={}.hasOwnProperty;function u(t){for(var e in t)if(s.call(t,e))return!1;return!0}function c(t){for(var e,n="div",r=[],i={};e=o.exec(t);){var s=e[1],u=e[2];if(""===s&&""!==u)n=u;else if("#"===s)i.id=u;else if("."===s)r.push(u);else if("["===e[3][0]){var c=e[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?r.push(c):i[e[4]]=""===c?c:c||!0}}return r.length>0&&(i.className=r.join(" ")),a[t]={tag:n,attrs:i}}function l(t,e){var n=e.attrs,i=r.normalizeChildren(e.children),o=s.call(n,"class"),a=o?n.class:n.className;if(e.tag=t.tag,e.attrs=null,e.children=void 0,!u(t.attrs)&&!u(n)){var c={};for(var l in n)s.call(n,l)&&(c[l]=n[l]);n=c}for(var l in t.attrs)s.call(t.attrs,l)&&"className"!==l&&!s.call(n,l)&&(n[l]=t.attrs[l]);for(var l in null==a&&null==t.attrs.className||(n.className=null!=a?null!=t.attrs.className?String(t.attrs.className)+" "+String(a):a:null!=t.attrs.className?t.attrs.className:null),o&&(n.class=null),n)if(s.call(n,l)&&"key"!==l){e.attrs=n;break}return Array.isArray(i)&&1===i.length&&null!=i[0]&&"#"===i[0].tag?e.text=i[0].children:e.children=i,e}t.exports=function(t){if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");var e=i.apply(1,arguments);return"string"==typeof t&&(e.children=r.normalizeChildren(e.children),"["!==t)?l(a[t]||c(t),e):(e.tag=t,e)}},359:(t,e,n)=>{"use strict";var r=n(178);t.exports=function(){var t,e=arguments[this],n=this+1;if(null==e?e={}:("object"!=typeof e||null!=e.tag||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)t=arguments[n],Array.isArray(t)||(t=[t]);else for(t=[];n<arguments.length;)t.push(arguments[n++]);return r("",e.key,e,t)}},452:(t,e,n)=>{"use strict";var r=n(178);t.exports=function(t){var e,n=t&&t.document,i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(t){return t.attrs&&t.attrs.xmlns||i[t.tag]}function a(t,e){if(t.state!==e)throw new Error("`vnode.state` must not be modified")}function s(t){var e=t.state;try{return this.apply(e,arguments)}finally{a(t,e)}}function u(){try{return n.activeElement}catch(t){return null}}function c(t,e,n,r,i,o,a){for(var s=n;s<r;s++){var u=e[s];null!=u&&l(t,u,i,a,o)}}function l(t,e,i,a,u){var h=e.tag;if("string"==typeof h)switch(e.state={},null!=e.attrs&&F(e.attrs,e,i),h){case"#":!function(t,e,r){e.dom=n.createTextNode(e.children),w(t,e.dom,r)}(t,e,u);break;case"<":f(t,e,a,u);break;case"[":!function(t,e,r,i,o){var a=n.createDocumentFragment();if(null!=e.children){var s=e.children;c(a,s,0,s.length,r,null,i)}e.dom=a.firstChild,e.domSize=a.childNodes.length,w(t,a,o)}(t,e,i,a,u);break;default:!function(t,e,i,a,s){var u=e.tag,l=e.attrs,h=l&&l.is,f=(a=o(e)||a)?h?n.createElementNS(a,u,{is:h}):n.createElementNS(a,u):h?n.createElement(u,{is:h}):n.createElement(u);if(e.dom=f,null!=l&&function(t,e,n){for(var r in e)A(t,r,null,e[r],n)}(e,l,a),w(t,f,s),!I(e)&&(null!=e.text&&(""!==e.text?f.textContent=e.text:e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children)){var d=e.children;c(f,d,0,d.length,i,null,a),"select"===e.tag&&null!=l&&function(t,e){if("value"in e)if(null===e.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var n=""+e.value;t.dom.value===n&&-1!==t.dom.selectedIndex||(t.dom.value=n)}"selectedIndex"in e&&A(t,"selectedIndex",null,e.selectedIndex,void 0)}(e,l)}}(t,e,i,a,u)}else!function(t,e,n,i,o){(function(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(F(t.state,t,e),null!=t.attrs&&F(t.attrs,t,e),t.instance=r.normalize(s.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(e,n),null!=e.instance?(l(t,e.instance,n,i,o),e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0):e.domSize=0}(t,e,i,a,u)}var h={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function f(t,e,r,i){var o=e.children.match(/^\s*?<(\w+)/im)||[],a=n.createElement(h[o[1]]||"div");"http://www.w3.org/2000/svg"===r?(a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",a=a.firstChild):a.innerHTML=e.children,e.dom=a.firstChild,e.domSize=a.childNodes.length,e.instance=[];for(var s,u=n.createDocumentFragment();s=a.firstChild;)e.instance.push(s),u.appendChild(s);w(t,u,i)}function d(t,e,n,r,i,o){if(e!==n&&(null!=e||null!=n))if(null==e||0===e.length)c(t,n,0,n.length,r,i,o);else if(null==n||0===n.length)S(t,e,0,e.length);else{var a=null!=e[0]&&null!=e[0].key,s=null!=n[0]&&null!=n[0].key,u=0,h=0;if(!a)for(;h<e.length&&null==e[h];)h++;if(!s)for(;u<n.length&&null==n[u];)u++;if(null===s&&null==a)return;if(a!==s)S(t,e,h,e.length),c(t,n,u,n.length,r,i,o);else if(s){for(var f,d,b,w,I,T=e.length-1,k=n.length-1;T>=h&&k>=u&&(b=e[T],w=n[k],b.key===w.key);)b!==w&&p(t,b,w,r,i,o),null!=w.dom&&(i=w.dom),T--,k--;for(;T>=h&&k>=u&&(f=e[h],d=n[u],f.key===d.key);)h++,u++,f!==d&&p(t,f,d,r,m(e,h,i),o);for(;T>=h&&k>=u&&u!==k&&f.key===w.key&&b.key===d.key;)y(t,b,I=m(e,h,i)),b!==d&&p(t,b,d,r,I,o),++u<=--k&&y(t,f,i),f!==w&&p(t,f,w,r,i,o),null!=w.dom&&(i=w.dom),h++,b=e[--T],w=n[k],f=e[h],d=n[u];for(;T>=h&&k>=u&&b.key===w.key;)b!==w&&p(t,b,w,r,i,o),null!=w.dom&&(i=w.dom),k--,b=e[--T],w=n[k];if(u>k)S(t,e,h,T+1);else if(h>T)c(t,n,u,k+1,r,i,o);else{var _,A,C=i,N=k-u+1,D=new Array(N),x=0,O=0,L=2147483647,P=0;for(O=0;O<N;O++)D[O]=-1;for(O=k;O>=u;O--){null==_&&(_=g(e,h,T+1));var R=_[(w=n[O]).key];null!=R&&(L=R<L?R:-1,D[O-u]=R,b=e[R],e[R]=null,b!==w&&p(t,b,w,r,i,o),null!=w.dom&&(i=w.dom),P++)}if(i=C,P!==T-h+1&&S(t,e,h,T+1),0===P)c(t,n,u,k+1,r,i,o);else if(-1===L)for(x=(A=function(t){var e=[0],n=0,r=0,i=0,o=v.length=t.length;for(i=0;i<o;i++)v[i]=t[i];for(i=0;i<o;++i)if(-1!==t[i]){var a=e[e.length-1];if(t[a]<t[i])v[i]=a,e.push(i);else{for(n=0,r=e.length-1;n<r;){var s=(n>>>1)+(r>>>1)+(n&r&1);t[e[s]]<t[i]?n=s+1:r=s}t[i]<t[e[n]]&&(n>0&&(v[i]=e[n-1]),e[n]=i)}}for(r=e[(n=e.length)-1];n-- >0;)e[n]=r,r=v[r];return v.length=0,e}(D)).length-1,O=k;O>=u;O--)d=n[O],-1===D[O-u]?l(t,d,r,o,i):A[x]===O-u?x--:y(t,d,i),null!=d.dom&&(i=n[O].dom);else for(O=k;O>=u;O--)d=n[O],-1===D[O-u]&&l(t,d,r,o,i),null!=d.dom&&(i=n[O].dom)}}else{var M=e.length<n.length?e.length:n.length;for(u=u<h?u:h;u<M;u++)(f=e[u])===(d=n[u])||null==f&&null==d||(null==f?l(t,d,r,o,m(e,u+1,i)):null==d?E(t,f):p(t,f,d,r,m(e,u+1,i),o));e.length>M&&S(t,e,u,e.length),n.length>M&&c(t,n,u,n.length,r,i,o)}}}function p(t,e,n,i,a,u){var c=e.tag;if(c===n.tag){if(n.state=e.state,n.events=e.events,function(t,e){do{var n;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&void 0!==(n=s.call(t.attrs.onbeforeupdate,t,e))&&!n)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate&&void 0!==(n=s.call(t.state.onbeforeupdate,t,e))&&!n)break;return!1}while(0);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}(n,e))return;if("string"==typeof c)switch(null!=n.attrs&&U(n.attrs,n,i),c){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,r,i){e.children!==n.children?(T(t,e),f(t,n,r,i)):(n.dom=e.dom,n.domSize=e.domSize,n.instance=e.instance)}(t,e,n,u,a);break;case"[":!function(t,e,n,r,i,o){d(t,e.children,n.children,r,i,o);var a=0,s=n.children;if(n.dom=null,null!=s){for(var u=0;u<s.length;u++){var c=s[u];null!=c&&null!=c.dom&&(null==n.dom&&(n.dom=c.dom),a+=c.domSize||1)}1!==a&&(n.domSize=a)}}(t,e,n,i,a,u);break;default:!function(t,e,n,i){var a=e.dom=t.dom;i=o(e)||i,"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0)),function(t,e,n,r){if(null!=n)for(var i in n)A(t,i,e&&e[i],n[i],r);var o;if(null!=e)for(var i in e)null==(o=e[i])||null!=n&&null!=n[i]||C(t,i,o,r)}(e,t.attrs,e.attrs,i),I(e)||(null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),d(a,t.children,e.children,n,null,i)))}(e,n,i,u)}else!function(t,e,n,i,o,a){if(n.instance=r.normalize(s.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");U(n.state,n,i),null!=n.attrs&&U(n.attrs,n,i),null!=n.instance?(null==e.instance?l(t,n.instance,i,a,o):p(t,e.instance,n.instance,i,o,a),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(E(t,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,i,a,u)}else E(t,e),l(t,n,i,u,a)}function g(t,e,n){for(var r=Object.create(null);e<n;e++){var i=t[e];if(null!=i){var o=i.key;null!=o&&(r[o]=e)}}return r}var v=[];function m(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function y(t,e,r){var i=n.createDocumentFragment();b(t,i,e),w(t,i,r)}function b(t,e,n){for(;null!=n.dom&&n.dom.parentNode===t;){if("string"!=typeof n.tag){if(null!=(n=n.instance))continue}else if("<"===n.tag)for(var r=0;r<n.instance.length;r++)e.appendChild(n.instance[r]);else if("["!==n.tag)e.appendChild(n.dom);else if(1===n.children.length){if(null!=(n=n.children[0]))continue}else for(r=0;r<n.children.length;r++){var i=n.children[r];null!=i&&b(t,e,i)}break}}function w(t,e,n){null!=n?t.insertBefore(e,n):t.appendChild(e)}function I(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted");return!0}function S(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];null!=o&&E(t,o)}}function E(t,e){var n,r,i,o=0,u=e.state;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&null!=(i=s.call(e.state.onbeforeremove,e))&&"function"==typeof i.then&&(o=1,n=i),e.attrs&&"function"==typeof e.attrs.onbeforeremove&&null!=(i=s.call(e.attrs.onbeforeremove,e))&&"function"==typeof i.then&&(o|=2,r=i),a(e,u),o){if(null!=n){var c=function(){1&o&&((o&=2)||l())};n.then(c,c)}null!=r&&(c=function(){2&o&&((o&=1)||l())},r.then(c,c))}else _(e),k(t,e);function l(){a(e,u),_(e),k(t,e)}}function T(t,e){for(var n=0;n<e.instance.length;n++)t.removeChild(e.instance[n])}function k(t,e){for(;null!=e.dom&&e.dom.parentNode===t;){if("string"!=typeof e.tag){if(null!=(e=e.instance))continue}else if("<"===e.tag)T(t,e);else{if("["!==e.tag&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(1===e.children.length){if(null!=(e=e.children[0]))continue}else for(var n=0;n<e.children.length;n++){var r=e.children[n];null!=r&&k(t,r)}}break}}function _(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&s.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&s.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&_(t.instance);else{var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];null!=r&&_(r)}}}function A(t,e,r,i,o){if("key"!==e&&"is"!==e&&null!=i&&!N(e)&&(r!==i||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===u()||"option"===t.tag&&t.dom.parentNode===n.activeElement}(t,e)||"object"==typeof i)){if("o"===e[0]&&"n"===e[1])return M(t,e,i);if("xlink:"===e.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),i);else if("style"===e)P(t.dom,r,i);else if(D(t,e,o)){if("value"===e){if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+i&&t.dom===u())return;if("select"===t.tag&&null!==r&&t.dom.value===""+i)return;if("option"===t.tag&&null!==r&&t.dom.value===""+i)return}"input"===t.tag&&"type"===e?t.dom.setAttribute(e,i):t.dom[e]=i}else"boolean"==typeof i?i?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute("className"===e?"class":e,i)}}function C(t,e,n,r){if("key"!==e&&"is"!==e&&null!=n&&!N(e))if("o"!==e[0]||"n"!==e[1]||N(e))if("style"===e)P(t.dom,n,null);else if(!D(t,e,r)||"className"===e||"value"===e&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===u())||"input"===t.tag&&"type"===e){var i=e.indexOf(":");-1!==i&&(e=e.slice(i+1)),!1!==n&&t.dom.removeAttribute("className"===e?"class":e)}else t.dom[e]=null;else M(t,e,void 0)}function N(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function D(t,e,n){return void 0===n&&(t.tag.indexOf("-")>-1||null!=t.attrs&&t.attrs.is||"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e)&&e in t.dom}var x=/[A-Z]/g;function O(t){return"-"+t.toLowerCase()}function L(t){return"-"===t[0]&&"-"===t[1]?t:"cssFloat"===t?"float":t.replace(x,O)}function P(t,e,n){if(e===n);else if(null==n)t.style.cssText="";else if("object"!=typeof n)t.style.cssText=n;else if(null==e||"object"!=typeof e)for(var r in t.style.cssText="",n)null!=(i=n[r])&&t.style.setProperty(L(r),String(i));else{for(var r in n){var i;null!=(i=n[r])&&(i=String(i))!==String(e[r])&&t.style.setProperty(L(r),i)}for(var r in e)null!=e[r]&&null==n[r]&&t.style.removeProperty(L(r))}}function R(){this._=e}function M(t,e,n){if(null!=t.events){if(t.events[e]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=t.events[e]&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0):(null==t.events[e]&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(t.events=new R,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}function F(t,e,n){"function"==typeof t.oninit&&s.call(t.oninit,e),"function"==typeof t.oncreate&&n.push(s.bind(t.oncreate,e))}function U(t,e,n){"function"==typeof t.onupdate&&n.push(s.bind(t.onupdate,e))}return R.prototype=Object.create(null),R.prototype.handleEvent=function(t){var e,n=this["on"+t.type];"function"==typeof n?e=n.call(t.currentTarget,t):"function"==typeof n.handleEvent&&n.handleEvent(t),this._&&!1!==t.redraw&&(0,this._)(),!1===e&&(t.preventDefault(),t.stopPropagation())},function(t,n,i){if(!t)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var o=[],a=u(),s=t.namespaceURI;null==t.vnodes&&(t.textContent=""),n=r.normalizeChildren(Array.isArray(n)?n:[n]);var c=e;try{e="function"==typeof i?i:void 0,d(t,t.vnodes,n,o,null,"http://www.w3.org/1999/xhtml"===s?void 0:s)}finally{e=c}t.vnodes=n,null!=a&&u()!==a&&"function"==typeof a.focus&&a.focus();for(var l=0;l<o.length;l++)o[l]()}}},742:(t,e,n)=>{"use strict";var r=n(178);t.exports=function(t){return null==t&&(t=""),r("<",void 0,void 0,t,void 0,void 0)}},178:t=>{"use strict";function e(t,e,n,r,i,o){return{tag:t,key:e,attrs:n,children:r,text:i,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}e.normalize=function(t){return Array.isArray(t)?e("[",void 0,void 0,e.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:e("#",void 0,void 0,String(t),void 0,void 0)},e.normalizeChildren=function(t){var n=[];if(t.length){for(var r=null!=t[0]&&null!=t[0].key,i=1;i<t.length;i++)if((null!=t[i]&&null!=t[i].key)!==r)throw new TypeError("Vnodes must either always have keys or never have keys!");for(i=0;i<t.length;i++)n[i]=e.normalize(t[i])}return n},t.exports=e},74:(t,e,n)=>{"use strict";var r=n(164),i=n(165);t.exports=n(775)(window,r,i.redraw)},775:(t,e,n)=>{"use strict";var r=n(249);t.exports=function(t,e,n){var i=0;function o(t){return new e(t)}function a(t){return function(i,a){"string"!=typeof i?(a=i,i=i.url):null==a&&(a={});var s=new e((function(e,n){t(r(i,a.params),a,(function(t){if("function"==typeof a.type)if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=new a.type(t[n]);else t=new a.type(t);e(t)}),n)}));if(!0===a.background)return s;var u=0;function c(){0==--u&&"function"==typeof n&&n()}return function t(e){var n=e.then;return e.constructor=o,e.then=function(){u++;var r=n.apply(e,arguments);return r.then(c,(function(t){if(c(),0===u)throw t})),t(r)},e}(s)}}function s(t,e){for(var n in t.headers)if({}.hasOwnProperty.call(t.headers,n)&&e.test(n))return!0;return!1}return o.prototype=e.prototype,o.__proto__=e,{request:a((function(e,n,r,i){var o,a=null!=n.method?n.method.toUpperCase():"GET",u=n.body,c=!(null!=n.serialize&&n.serialize!==JSON.serialize||u instanceof t.FormData),l=n.responseType||("function"==typeof n.extract?"":"json"),h=new t.XMLHttpRequest,f=!1,d=h,p=h.abort;for(var g in h.abort=function(){f=!0,p.call(this)},h.open(a,e,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),c&&null!=u&&!s(n,/^content-type$/i)&&h.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||s(n,/^accept$/i)||h.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(h.withCredentials=n.withCredentials),n.timeout&&(h.timeout=n.timeout),h.responseType=l,n.headers)({}).hasOwnProperty.call(n.headers,g)&&h.setRequestHeader(g,n.headers[g]);h.onreadystatechange=function(t){if(!f&&4===t.target.readyState)try{var o,a=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),s=t.target.response;if("json"===l?t.target.responseType||"function"==typeof n.extract||(s=JSON.parse(t.target.responseText)):l&&"text"!==l||null==s&&(s=t.target.responseText),"function"==typeof n.extract?(s=n.extract(t.target,n),a=!0):"function"==typeof n.deserialize&&(s=n.deserialize(s)),a)r(s);else{try{o=t.target.responseText}catch(t){o=s}var u=new Error(o);u.code=t.target.status,u.response=s,i(u)}}catch(t){i(t)}},"function"==typeof n.config&&(h=n.config(h,n,e)||h)!==d&&(o=h.abort,h.abort=function(){f=!0,o.call(this)}),null==u?h.send():"function"==typeof n.serialize?h.send(n.serialize(u)):u instanceof t.FormData?h.send(u):h.send(JSON.stringify(u))})),jsonp:a((function(e,n,r,o){var a=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+i++,s=t.document.createElement("script");t[a]=function(e){delete t[a],s.parentNode.removeChild(s),r(e)},s.onerror=function(){delete t[a],s.parentNode.removeChild(s),o(new Error("JSONP request failed"))},s.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(a),t.document.documentElement.appendChild(s)}))}}},843:(t,e,n)=>{"use strict";var r=n(165);t.exports=n(223)(window,r)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(865),e=n.n(t);const r={degToRad:t=>2*Math.PI*t/360,WindspeedUnitEnum:{NONE:0,M_PER_SEC:1,KM_PER_HOUR:2,KT:3},validWindspeedUnit:t=>t==WindspeedUnitEnum.NONE||t==WindspeedUnitEnum.M_PER_SEC||t==WindspeedUnitEnum.KM_PER_HOUR||t==WindspeedUnitEnum.KT,conv_m_s_to_kt:t=>1.9438*t,conv_m_s_to_km_h:t=>3600*t/1e3,windspeedUnitText:t=>{switch(t){case r.WindspeedUnitEnum.M_PER_SEC:return"m/s";case r.WindspeedUnitEnum.KM_PER_HOUR:return"km/h";case r.WindspeedUnitEnum.KT:return"kt";default:return""}},AltitudeUnitEnum:{NONE:0,M:1,FT:2},validAltitudeUnit:t=>t==AltitudeUnitEnum.NONE||t==AltitudeUnitEnum.M||t==AltitudeUnitEnum.FT,conv_ft_to_m:t=>.3048*t,conv_m_to_ft:t=>t/.3048,altitudeUnitText:t=>{switch(t){case r.AltitudeUnitEnum.M:return"m";case r.AltitudeUnitEnum.FT:return"ft";default:return""}},TemperatureUnitEnum:{NONE:0,CELSIUS:1},validTemperatureUnit:t=>t==TemperatureUnitEnum.NONE||t==TemperatureUnitEnum.CELSIUS},i=r,o={DirectionEnum:{TO:1,FROM:2},validDirection:t=>t==o.DirectionEnum.TO||t==o.DirectionEnum.FROM,MagDeclinationEnum:{TRUE:1,MAG:2},validMagDeclination:t=>t==o.MagDeclinationEnum.TRUE||t==o.MagDeclinationEnum.MAG},a=o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){u(t,e,n[e])}))}return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?d(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}var y={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},b=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t),this.init(e,n)}return f(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||y,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,c({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),w=function(){function t(){l(this,t),this.observers={}}return f(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){var i=[].concat(this.observers[t]);i.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function I(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function S(t){return null==t?"":""+t}function E(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function T(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return i()?{}:{obj:t,k:r(o.shift())}}function k(t,e,n){var r=T(t,e,Object);r.obj[r.k]=n}function _(t,e){var n=T(t,e),r=n.obj,i=n.k;if(r)return r[i]}function A(t,e,n){var r=_(t,n);return void 0!==r?r:_(e,n)}function C(t,e,n){for(var r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):C(t[r],e[r],n):t[r]=e[r]);return t}function N(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function x(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return D[t]})):t}var O="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,o=0;o<r.length;++o){if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];void 0===u&&r.length>o+a;)a++,u=i[s=r.slice(o,o+a).join(n)];if(void 0===u)return;if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s];var c=r.slice(o+a).join(n);return c?L(u,c,n):void 0}i=i[r[o]]}return i}}var P=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return l(this,e),n=p(this,g(e).call(this)),O&&w.call(d(n)),n.data=t||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return m(e,t),f(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[t,e];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(a=t.split("."));var s=_(this.data,a);return s||!o||"string"!=typeof n?s:L(this.data&&this.data[t]&&this.data[t][e],n,i)}},{key:"addResource",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),k(this.data,a,r),i.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var s=_(this.data,a)||{};r?C(s,n,i):s=c({},s,n),k(this.data,a,s),o.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?c({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(w),R={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))})),e}},M={},F=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,e),n=p(this,g(e).call(this)),O&&w.call(d(n)),E(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,d(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=b.create("translator"),n}return m(e,t),f(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:t,namespaces:i};var a=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),t=a.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,n,r){var i=this;if("object"!==s(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=this.extractFromKey(t[t.length-1],n),u=a.key,l=a.namespaces,h=l[l.length-1],f=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var p=n.nsSeparator||this.options.nsSeparator;return h+p+u}return u}var g=this.resolve(t,n),v=g&&g.res,m=g&&g.usedKey||u,y=g&&g.exactUsedKey||u,b=Object.prototype.toString.apply(v),w=["[object Number]","[object Function]","[object RegExp]"],I=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,E="string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v;if(S&&v&&E&&w.indexOf(b)<0&&("string"!=typeof I||"[object Array]"!==b)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,n):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(o){var T="[object Array]"===b,k=T?[]:{},_=T?y:m;for(var A in v)if(Object.prototype.hasOwnProperty.call(v,A)){var C="".concat(_).concat(o).concat(A);k[A]=this.translate(C,c({},n,{joinArrays:!1,ns:l})),k[A]===C&&(k[A]=v[A])}v=k}}else if(S&&"string"==typeof I&&"[object Array]"===b)(v=v.join(I))&&(v=this.extendTranslation(v,t,n,r));else{var N=!1,D=!1,x=void 0!==n.count&&"string"!=typeof n.count,O=e.hasDefaultValue(n),L=x?this.pluralResolver.getSuffix(f,n.count):"",P=n["defaultValue".concat(L)]||n.defaultValue;!this.isValidLookup(v)&&O&&(N=!0,v=P),this.isValidLookup(v)||(D=!0,v=u);var R=O&&P!==v&&this.options.updateMissing;if(D||N||R){if(this.logger.log(R?"updateKey":"missingKey",f,h,u,R?P:v),o){var M=this.resolve(u,c({},n,{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var j=0;j<U.length;j++)F.push(U[j]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(n.lng||this.language):F.push(n.lng||this.language);var V=function(t,e,r){i.options.missingKeyHandler?i.options.missingKeyHandler(t,h,e,R?r:v,R,n):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(t,h,e,R?r:v,R,n),i.emit("missingKey",t,h,e,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?F.forEach((function(t){i.pluralResolver.getSuffixes(t).forEach((function(e){V([t],u+e,n["defaultValue".concat(e)]||P)}))})):V(F,u,P))}v=this.extendTranslation(v,t,n,g,r),D&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(h,":").concat(u)),D&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(t,e,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(c({},n,{interpolation:c({},this.options.interpolation,n.interpolation)}));var a,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var u=t.match(this.interpolator.nestingRegexp);a=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=c({},this.options.interpolation.defaultVariables,l)),t=this.interpolator.interpolate(t,l,n.lng||this.language,n),s){var h=t.match(this.interpolator.nestingRegexp);a<(h&&h.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(e[0])),null):o.translate.apply(o,r.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=t&&d&&d.length&&!1!==n.applyPostProcessor&&(t=R.handle(d,t,e,this.options&&this.options.postProcessPassResolved?c({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var u=a.extractFromKey(t,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var h=void 0!==s.count&&"string"!=typeof s.count,f=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,d=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(t){a.isValidLookup(e)||(o=t,!M["".concat(d[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(M["".concat(d[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(d.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach((function(n){if(!a.isValidLookup(e)){i=n;var o,u,l=c,d=[l];for(a.i18nFormat&&a.i18nFormat.addLookupKeys?a.i18nFormat.addLookupKeys(d,c,n,t,s):(h&&(o=a.pluralResolver.getSuffix(n,s.count)),h&&f&&d.push(l+o),f&&d.push(l+="".concat(a.options.contextSeparator).concat(s.context)),h&&d.push(l+=o));u=d.pop();)a.isValidLookup(e)||(r=u,e=a.getResource(n,t,u,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&void 0!==t[n])return!0;return!1}}]),e}(w);function U(t){return t.charAt(0).toUpperCase()+t.slice(1)}var j=function(){function t(e){l(this,t),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}return f(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=U(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=U(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=U(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var r=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(r)||(e=r)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var r=n.getLanguagePartFromCode(t);if(n.isSupportedCode(r))return e=r;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(r))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isSupportedCode(t)?i.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach((function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))})),i}}]),t}(),V=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],B={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}};function q(){var t={};return V.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:B[e.fc]}}))})),t}var K=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t),this.languageUtils=e,this.options=n,this.logger=b.create("pluralResolver"),this.rules=q()}return f(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){return this.getSuffixes(t).map((function(t){return e+t}))}},{key:"getSuffixes",value:function(t){var e=this,n=this.getRule(t);return n?n.numbers.map((function(n){return e.getSuffix(t,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),G=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,t),this.logger=b.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return f(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:x,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?N(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?N(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?N(e.nestingPrefix):e.nestingPrefixEscaped||N("$t("),this.nestingSuffix=e.nestingSuffix?N(e.nestingSuffix):e.nestingSuffixEscaped||N(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}var h=function(t){if(t.indexOf(s.formatSeparator)<0){var i=A(e,u,t);return s.alwaysFormat?s.format(i,void 0,n,c({},r,e,{interpolationkey:t})):i}var o=t.split(s.formatSeparator),a=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(A(e,u,a),l,n,c({},r,e,{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return l(t)}},{regex:this.regexp,safeValue:function(t){return s.escapeValue?l(s.escape(t)):l(t)}}].forEach((function(e){for(a=0;i=e.regex.exec(t);){if(void 0===(o=h(i[1].trim())))if("function"==typeof f){var n=f(t,i,r);o="string"==typeof n?n:""}else{if(d){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=S(o));if(t=t.replace(i[0],e.safeValue(o)),e.regex.lastIndex=0,++a>=s.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=c({},o);function s(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);t=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),e&&(a=c({},e,a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}return delete a.defaultValue,t}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(t);){var u=[],l=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var h=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=h.shift(),u=h,l=!0}if((r=e(s.call(this,n[1].trim(),a),a))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=S(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),l&&(r=u.reduce((function(t,e){return i.format(t,e,o.lng,c({},o,{interpolationkey:n[1].trim()}))}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}(),H=function(t){function e(t,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(this,e),i=p(this,g(e).call(this)),O&&w.call(d(i)),i.backend=t,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=b.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return m(e,t),f(e,[{key:"queueLoad",value:function(t,e,n,r){var i=this,o=[],a=[],s=[],u=[];return t.forEach((function(t){var r=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&i.store.hasResourceBundle(t,e)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(e)<0&&u.push(e)))})),r||s.push(t)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(t,e,n){var r=t.split("|"),i=r[0],o=r[1];e&&this.emit("failedLoading",i,o,e),n&&this.store.addResourceBundle(i,o,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){!function(t,e,n,r){var i=T(t,e,Object),o=i.obj,a=i.k;o[a]=o[a]||[],o[a].push(n)}(n.loaded,[i],o),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){a[t].indexOf(e)<0&&a[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,t,e,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&e.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&e.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),e.loaded(t,r,a)}))}},{key:"saveMissing",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,c({},o,{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),e}(w);function W(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===s(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===s(t[2])||"object"===s(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function z(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Y(){}const X=new(function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(l(this,e),t=p(this,g(e).call(this)),O&&w.call(d(t)),t.options=z(n),t.services={},t.logger=b,t.modules={external:[]},r&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,r),p(t,d(t));setTimeout((function(){t.init(n,r)}),0)}return t}return m(e,t),f(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),e.whitelist&&!e.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),e.nonExplicitWhitelist&&!e.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=c({},W(),this.options,z(e)),this.format=this.options.interpolation.format,n||(n=Y),!this.options.isClone){this.modules.logger?b.init(r(this.modules.logger),this.options):b.init(null,this.options);var i=new j(this.options);this.store=new P(this.options.resources,this.options);var o=this.services;o.logger=b,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new K(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new G(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new H(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new F(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var s=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var l=I(),h=function(){var e=function(e,r){t.isInitialized&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),l.resolve(r),n(e,r)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),l}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,r=n,i="string"==typeof t?t:this.language;if("function"==typeof t&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){o.indexOf(t)<0&&o.push(t)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(t){return a(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return a(t)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(t,e,n){var r=I();return t||(t=this.languages),e||(e=this.options.ns),n||(n=Y),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&R.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=I();this.emit("languageChanging",t);var i=function(t){var i="string"==typeof t?t:n.services.languageUtils.getBestMatchFromCodes(t);i&&(n.language||(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i)),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(t){!function(t,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,i)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e){var n=this,r=function t(e,r){var i;if("object"!==s(r)){for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];i=n.options.overloadTranslationOptionHandler([e,r].concat(a))}else i=c({},r);return i.lng=i.lng||t.lng,i.lngs=i.lngs||t.lngs,i.ns=i.ns||t.ns,n.t(e,i)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||!(!a(r,t)||i&&!a(o,t))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=I();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=I();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],i=t.filter((function(t){return r.indexOf(t)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new e(t,n)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,i=c({},this.options,n,{isClone:!0}),o=new e(i),a=["store","services","language"];return a.forEach((function(e){o[e]=t[e]})),o.services=c({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new F(o.services,o.options),o.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}}]),e}(w)),J="SONDE_VIEW_SETTING",Z=new class{constructor(){this.mslAsMeter=!0,this.mslAsFt=!1,this.aglAsMeter=!0,this.aglAsFt=!1,this.windSpeedAsMeterPerSec=!0,this.windSpeedAsKmPerHour=!1,this.windSpeedAsKt=!1,this.windDirection=a.DirectionEnum.TO,this.magDeclination=a.MagDeclinationEnum.MAG,this.temperatureUnit=i.TemperatureUnitEnum.CELSIUS,this.chartMode=1,this.dstChartShowFrom=!1,this.spdChartShowFrom=!1,this.dataListDuration=6,this.sortOrder=1,this.load()}save(){window.localStorage&&window.localStorage.setItem(J,JSON.stringify(this))}load(){if(window.localStorage){const t=window.localStorage.getItem(J);if(t&&""!=t){const e=JSON.parse(t);for(let t in this)this[t]=e[t]?e[t]:this[t]}}}getDataTableColCount(){let t=1;return this.mslAsMeter&&t++,this.mslAsFt&&t++,this.windSpeedAsMeterPerSec&&t++,this.windSpeedAsKmPerHour&&t++,this.windSpeedAsKt&&t++,this.temperatureUnit==i.TemperatureUnitEnum.CELSIUS&&t++,t}getMslAsMeter(){return this.mslAsMeter}setMslAsMeter(t){this.mslAsMeter=!!t,this.save()}getMslAsFt(){return this.mslAsFt}setMslAsFt(t){this.mslAsFt=!!t,this.save()}getAglAsMeter(){return this.aglAsMeter}setAglAsMeter(t){this.aglAsMeter=!!t,this.save()}getAglAsFt(){return this.aglAsFt}setAglAsFt(t){this.aglAsFt=!!t,this.save()}getWindSpeedAsMerterPerSec(){return this.windSpeedAsMeterPerSec}setWindSpeedAsMeterPerSec(t){this.windSpeedAsMeterPerSec=!!t,this.save()}getWindSpeedAsKmPerHour(){return this.windSpeedAsKmPerHour}setWindSpeedAsKmPerHour(t){this.windSpeedAsKmPerHour=!!t,this.save()}getWindSpeedAsKt(){return this.windSpeedAsKt}setWindSpeedAsKt(t){this.windSpeedAsKt=!!t,this.save()}getWindDirection(){return this.windDirection}setWindDirection(t){a.validDirection(t)&&(this.windDirection=t,this.save())}getMagDeclination(){return this.magDeclination}setMagDeclination(t){a.validMagDeclination(t)&&(this.magDeclination=t,this.save())}getTemperatureUnit(){return this.temperatureUnit}setTemperatureUnit(t){i.validTemperatureUnit(t)&&(this.temperatureUnit=t,this.save())}toggleTemperatureUnit(){this.temperatureUnit==i.TemperatureUnitEnum.CELSIUS?this.temperatureUnit=i.TemperatureUnitEnum.NONE:this.temperatureUnit=i.TemperatureUnitEnum.CELSIUS,this.save()}setDstChartMode(){this.chartMode=1,this.save()}setSpdChartMode(){this.chartMode=2,this.save()}isDstChartMode(){return 1===this.chartMode}isSpdChartMode(){return 2===this.chartMode}getDstChartShowFrom(){return this.dstChartShowFrom}setDstChartShowFrom(t){this.dstChartShowFrom=!!t,this.save()}getSpdChartShowFrom(){return this.spdChartShowFrom}setSpdChartShowFrom(t){this.spdChartShowFrom=!!t,this.save()}getDataListDuration(){return this.dataListDuration}setDataListDuration(t){(t=Math.round(t))>=1&&t<=12&&(this.dataListDuration=t,this.save())}dataListDurationValues(){const t=[];for(let e=1;e<=12;++e)t.push(e);return t}isSortOrderAscend(){return 1==this.sortOrder}isSortOderDescend(){return 2==this.sortOrder}setSortOrderAscend(){this.sortOrder=1}setSortOderDescend(){this.sortOrder=2}};var Q=n(503);let $=!1;const tt={NavBarItem:{view:t=>{const n=e().route.get()==t.attrs.path;return e()("a.navbar-item",{class:n?"is-active":"",onclick:n=>{$=!1,e().route.set(t.attrs.path)}},t.children)}},NavBarSignOutItem:{view:t=>e()("a.navbar-item",{onclick:t=>{Q.Z.auth().signOut().then((()=>{location.reload()}))}},X.t("menuSignout"))},NavBar:{view:t=>e()("nav.navbar.is-primary",[e()(".navbar-brand",[e()("a",{onclick:t=>{t.preventDefault(),e().route.set("/main")},class:"navbar-item"},X.t("appName")),e()(".navbar-item.data-title",t.attrs.title),t.attrs.status?e()(".navbar-item.status",t.attrs.status):"",e()("a.navbar-burger[role=button][aria-label=menu][aria-expanded=false]",{class:$?"is-active":"",onclick:t=>{$=!$}},[e()("span[aria-hidden=true]"),e()("span[aria-hidden=true]"),e()("span[aria-hidden=true]")])]),e()(".navbar-menu",{class:$?"is-active":""},[e()(".navbar-start",[e()(tt.NavBarItem,{path:"/main"},X.t("menuView")),e()(tt.NavBarItem,{path:"/history"},X.t("menuHistory")),e()(tt.NavBarItem,{path:"/download"},X.t("menuDownload")),e()(tt.NavBarItem,{path:"/setup"},X.t("menuSetup")),e()(tt.NavBarSignOutItem)])])])},SettingCard:{view:t=>e()(".card",[e()("header.card-header",[e()("p.card-header-title",t.attrs.title)]),e()(".card-content",t.children)])},ToggleButton:{view:t=>e()("button.button.toggle-button",{class:t.attrs.selected?"is-selected is-info":"",onclick:t.attrs.onclick},t.children)},CollapseIcon:{view:t=>e()("i.fas.fa-angle-up[aria-hidden=true]")},ExpandIcon:{view:t=>e()("i.fas.fa-angle-down[aria-hidden=true]")}},et=tt,nt={view:t=>[e()(et.NavBar),e()(".container",[e()("article.message.is-danger.mt-4",[e()(".message-header",[X.t("error")]),e()(".message-body",[t.attrs.err?X.t(t.attrs.err):X.t("errUnknown")])])])]};var rt=n(472),it=n.n(rt);class ot{constructor(t,e=0){this.altitude=t.altitude?t.altitude:null,this.height=t.height?t.height:null,this.temperature=t.temperature?t.temperature:null,this.windHeading=t.windheading?t.windheading:null,this.windSpeed=t.windspeed?t.windspeed:null,this.magDeclination=e}getAltitudeAsMeter(){return this.altitude}getAltitudeAsFt(){return i.conv_m_to_ft(this.altitude)}getHeightAsMeter(){return this.height}getHeightAsFt(){return i.conv_m_to_ft(this.height)}getTemperature(){return this.temperature}getWindHeading(){let t=this.windHeading;switch(Z.getMagDeclination()){case a.MagDeclinationEnum.MAG:t+=this.magDeclination}return Z.getWindDirection()==a.DirectionEnum.FROM&&(t-=180,t<0&&(t+=360)),t}getWindHeadingForChart(){let t=this.windHeading;switch(Z.getMagDeclination()){case a.MagDeclinationEnum.MAG:t+=this.magDeclination}return t}getWindSpeedAsMerterPerSec(){return this.windSpeed}getWindSpeedAsKmPerHour(){return i.conv_m_s_to_km_h(this.windSpeed)}getWindSpeedAsKt(){return i.conv_m_s_to_kt(this.windSpeed)}getWindSpeedForChart(){return this.windSpeed}}class at{constructor(t,e){this.id=t,this.init(),e&&this.setData(e)}init(){this.lat=0,this.lng=0,this.magDeclination=0,this.measuredAt=new Date,this._records=[]}setData(t){this.lat=t.lat?t.lat:this.lat,this.lng=t.lng?t.lng:this.lng,this.magDeclination=t.mag_dec?t.mag_dec:this.magDeclination,this.measuredAt=t.measured_at?t.measured_at.toDate():this.measuredAt,this._records=t.values.map((t=>new ot(t,this.magDeclination)))}getID(){return this.id}getDate(){return this.measuredAt.toLocaleDateString()}getTime(){return it().sprintf("%02d:%02d",this.measuredAt.getHours(),this.measuredAt.getMinutes())}records(){return this._records}maxSpeed(){const t=this._records.map((t=>t.getWindSpeedForChart())).sort(((t,e)=>t-e));return t[t.length-1]}dstChartValues(t=!1){let e=0,n=0;const r=t?90:-90,o=[[e,n]];let a=0;return this._records.forEach((t=>{const s=(t.getHeightAsMeter()-a)/100*60;e+=s*t.getWindSpeedForChart()*Math.cos(i.degToRad(t.getWindHeadingForChart()+r)),n+=s*t.getWindSpeedForChart()*Math.sin(i.degToRad(t.getWindHeadingForChart()+r)),o.push([e,n]),a=t.getHeightAsMeter()})),o}minHeight(){return this._records[0].getHeightAsMeter()}maxHeight(){return this._records[this._records.length-1].getHeightAsMeter()}getRecordByHeight(t){return this._records.find((e=>e.getHeightAsMeter()==t))}}var st=n(983),ut=n(594),ct=n(448),lt=function(t,e){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ht(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ft,dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},pt=pt||{},gt=dt||self;function vt(){}function mt(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function yt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var bt="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function It(t,e,n){return t.call.apply(t.bind,arguments)}function St(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:St).apply(null,arguments)}function Tt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function kt(){return Date.now()}function _t(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function At(){this.j=this.j,this.i=this.i}At.prototype.j=!1,At.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,bt)&&t[bt]||(t[bt]=++wt)}(this)},At.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ct=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Nt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Dt(t){return Array.prototype.concat.apply([],arguments)}function xt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ot(t){return/^[\s\xa0]*$/.test(t)}var Lt,Pt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Rt(t,e){return-1!=t.indexOf(e)}function Mt(t,e){return t<e?-1:t>e?1:0}t:{var Ft=gt.navigator;if(Ft){var Ut=Ft.userAgent;if(Ut){Lt=Ut;break t}}Lt=""}function jt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Vt(t){var e={};for(var n in t)e[n]=t[n];return e}var Bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Bt.length;o++)n=Bt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kt(t){return Kt[" "](t),t}Kt[" "]=vt;var Gt,Ht,Wt=Rt(Lt,"Opera"),zt=Rt(Lt,"Trident")||Rt(Lt,"MSIE"),Yt=Rt(Lt,"Edge"),Xt=Yt||zt,Jt=Rt(Lt,"Gecko")&&!(Rt(Lt.toLowerCase(),"webkit")&&!Rt(Lt,"Edge"))&&!(Rt(Lt,"Trident")||Rt(Lt,"MSIE"))&&!Rt(Lt,"Edge"),Zt=Rt(Lt.toLowerCase(),"webkit")&&!Rt(Lt,"Edge");function Qt(){var t=gt.document;return t?t.documentMode:void 0}t:{var $t="",te=(Ht=Lt,Jt?/rv:([^\);]+)(\)|;)/.exec(Ht):Yt?/Edge\/([\d\.]+)/.exec(Ht):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Zt?/WebKit\/(\S+)/.exec(Ht):Wt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(te&&($t=te?te[1]:""),zt){var ee=Qt();if(null!=ee&&ee>parseFloat($t)){Gt=String(ee);break t}}Gt=$t}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Pt(String(Gt)).split("."),r=Pt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Mt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Mt(0==a[2].length,0==s[2].length)||Mt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}gt.document&&zt?ne=Qt()||parseInt(Gt,10)||void 0:ne=void 0;var oe=ne,ae=!zt||9<=Number(oe),se=zt&&!ie("9"),ue=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{gt.addEventListener("test",vt,e),gt.removeEventListener("test",vt,e)}catch(t){}return t}();function ce(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function le(t,e){if(ce.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Jt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:he[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ce.prototype.b=function(){this.defaultPrevented=!0},_t(le,ce);var he={2:"touch",3:"pen",4:"mouse"};le.prototype.b=function(){le.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,se)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var fe="closure_listenable_"+(1e6*Math.random()|0),de=0;function pe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++de,this.Y=this.Z=!1}function ge(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ve(t){this.src=t,this.a={},this.b=0}function me(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ct(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ge(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ye(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ve.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ye(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new pe(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var be="closure_lm_"+(1e6*Math.random()|0),we={};function Ie(t,e,n,r,i){if(r&&r.once)return Ee(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ie(t,e[o],n,r,i);return null}return n=xe(n),t&&t[fe]?t.va(e,n,yt(r)?!!r.capture:!!r,i):Se(t,e,n,!1,r,i)}function Se(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=yt(i)?!!i.capture:!!i;if(a&&!ae)return null;var s=Ne(t);if(s||(t[be]=s=new ve(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Ce,e=ae?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ue||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_e(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ee(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ee(t,e[o],n,r,i);return null}return n=xe(n),t&&t[fe]?t.wa(e,n,yt(r)?!!r.capture:!!r,i):Se(t,e,n,!0,r,i)}function Te(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Te(t,e[o],n,r,i);else r=yt(r)?!!r.capture:!!r,n=xe(n),t&&t[fe]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ye(o=t.a[e],n,r,i))&&(ge(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ne(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ye(e,n,r,i)),(n=-1<t?e[t]:null)&&ke(n))}function ke(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[fe])me(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_e(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ne(e))?(me(n,t),0==n.b&&(n.src=null,e[be]=null)):ge(t)}}}function _e(t){return t in we?we[t]:we[t]="on"+t}function Ae(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ke(t),n.call(r,e)}function Ce(t,e){if(t.Y)return!0;if(!ae){if(!e)t:{e=["window","event"];for(var n=gt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ae(t,e=new le(e,this))}return Ae(t,new le(e,this))}function Ne(t){return(t=t[be])instanceof ve?t:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(t){return"function"==typeof t?t:(t[De]||(t[De]=function(e){return t.handleEvent(e)}),t[De])}function Oe(){At.call(this),this.c=new ve(this),this.J=this,this.C=null}function Le(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ce(e,t);else if(e instanceof ce)e.target=e.target||t;else{var i=e;qt(e=new ce(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Pe(a,r,!0,e)&&i}if(i=Pe(a=e.a=t,r,!0,e)&&i,i=Pe(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Pe(a=e.a=n[o],r,!1,e)&&i}function Pe(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&me(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}_t(Oe,At),Oe.prototype[fe]=!0,(ft=Oe.prototype).addEventListener=function(t,e,n,r){Ie(this,t,e,n,r)},ft.removeEventListener=function(t,e,n,r){Te(this,t,e,n,r)},ft.G=function(){if(Oe.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ge(n[r]);delete e.a[t],e.b--}}this.C=null},ft.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ft.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Re=gt.JSON.stringify;function Me(){this.b=this.a=null}var Fe,Ue=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ve}),(function(t){t.reset()}));function je(){var t=Ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ve(){this.next=this.b=this.a=null}function Be(t){gt.setTimeout((function(){throw t}),0)}function qe(t,e){Fe||function(){var t=gt.Promise.resolve(void 0);Fe=function(){t.then(He)}}(),Ke||(Fe(),Ke=!0),Ge.add(t,e)}Me.prototype.add=function(t,e){var n=Ue.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ve.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ve.prototype.reset=function(){this.next=this.b=this.a=null};var Ke=!1,Ge=new Me;function He(){for(var t;t=je();){try{t.a.call(t.b)}catch(t){Be(t)}var e=Ue;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ke=!1}function We(t,e){Oe.call(this),this.b=t||1,this.a=e||gt,this.f=Et(this.Za,this),this.g=kt()}function ze(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ye(t,e,n){if("function"==typeof t)n&&(t=Et(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Et(t.handleEvent,t)}return 2147483647<Number(e)?-1:gt.setTimeout(t,e||0)}function Xe(t){t.a=Ye((function(){t.a=null,t.c&&(t.c=!1,Xe(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_t(We,Oe),(ft=We.prototype).aa=!1,ft.M=null,ft.Za=function(){if(this.aa){var t=kt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Le(this,"tick"),this.aa&&(ze(this),this.start()))}},ft.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=kt())},ft.G=function(){We.X.G.call(this),ze(this),delete this.a};var Je=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Xe(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(gt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(At);function Ze(t){At.call(this),this.b=t,this.a={}}_t(Ze,At);var Qe=[];function $e(t,e,n,r){Array.isArray(n)||(n&&(Qe[0]=n.toString()),n=Qe);for(var i=0;i<n.length;i++){var o=Ie(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function tn(t){jt(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ke(t)}),t),t.a={}}function en(){this.a=!0}function nn(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Re(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Ze.prototype.G=function(){Ze.X.G.call(this),tn(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},en.prototype.info=function(){};var rn={},on=null;function an(){return on=on||new Oe}function sn(t){ce.call(this,rn.Fa,t)}function un(t){var e=an();Le(e,new sn(e,t))}function cn(t,e){ce.call(this,rn.STAT_EVENT,t),this.stat=e}function ln(t){var e=an();Le(e,new cn(e,t))}function hn(t){ce.call(this,rn.Ga,t)}function fn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return gt.setTimeout((function(){t()}),e)}rn.Fa="serverreachability",_t(sn,ce),rn.STAT_EVENT="statevent",_t(cn,ce),rn.Ga="timingevent",_t(hn,ce);var dn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},pn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function gn(){}function vn(t){var e;return(e=t.a)||(e=t.a={}),e}function mn(){}gn.prototype.a=null;var yn,bn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function wn(){ce.call(this,"d")}function In(){ce.call(this,"c")}function Sn(){}function En(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ze(this),this.P=Tn,t=Xt?125:void 0,this.R=new We(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}_t(wn,ce),_t(In,ce),_t(Sn,gn),yn=new Sn;var Tn=45e3,kn={},_n={};function An(t,e,n){t.H=1,t.i=Xn(Kn(e)),t.j=n,t.I=!0,Cn(t,null)}function Cn(t,e){t.u=kt(),xn(t),t.l=Kn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ur(n.b,"t",r),t.D=0,t.a=ni(t.g,t.g.C?e:null),0<t.O&&(t.F=new Je(Et(t.Ca,t,t.a),t.O)),$e(t.J,t.a,"readystatechange",t.Xa),e=t.B?Vt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),un(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Nn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Dn(t,n);if(i==_n){4==e&&(t.h=4,ln(14),r=!1),nn(t.c,t.f,null,"[Incomplete Response]");break}if(i==kn){t.h=4,ln(15),nn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}nn(t.c,t.f,i,null),Mn(t,i)}4==e&&0==n.length&&(t.h=1,ln(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yr(e),e.F=!0,ln(11))):(nn(t.c,t.f,n,"[Invalid Chunked Response]"),Rn(t),Pn(t))}function Dn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?_n:(n=Number(e.substring(n,r)),isNaN(n)?kn:(r+=1)+n>e.length?_n:(e=e.substr(r,n),t.D=r+n,e))}function xn(t){t.T=kt()+t.P,On(t,t.P)}function On(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=fn(Et(t.Va,t),e)}function Ln(t){t.o&&(gt.clearTimeout(t.o),t.o=null)}function Pn(t){0==t.g.v||t.A||Zr(t.g,t)}function Rn(t){Ln(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ze(t.R),tn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Mn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||gr(n.b,t)))if(n.I=t.N,!t.C&&gr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Jr(n),jr(n)}zr(n),ln(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=fn(Et(n.Sa,n),6e3));if(1>=pr(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else $r(n,11)}else if((t.C||n.a==t)&&Jr(n),!Ot(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Rt(l,"spdy")||Rt(l,"quic")||Rt(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(vr(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Yn(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=kt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ei(u,u.C?u.ga:null,u.fa),d.C){mr(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Ln(p),xn(p)),u.a=d}else Wr(u);0<n.g.length&&qr(n)}else"stop"!=i[0]&&"close"!=i[0]||$r(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$r(n,7):Ur(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);un(4)}catch(t){}}function Fn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(mt(t)||"string"==typeof t)Nt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(mt(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(mt(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Un(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Un)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function jn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Vn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Vn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ft=En.prototype).setTimeout=function(t){this.P=t},ft.Xa=function(t){t=t.target;var e=this.F;e&&3==Pr(t)?e.f():this.Ca(t)},ft.Ca=function(t){try{if(t==this.a)t:{var e=Pr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Xt&&!this.a.$())){this.A||4!=e||7==n||un(8==n||0>=r?3:2),Ln(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ot(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ln(12),Rn(this),Pn(this);break t}nn(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Mn(this,u)}this.I?(Nn(this,e,o),Xt&&this.b&&3==e&&($e(this.J,this.R,"tick",this.Wa),this.R.start())):(nn(this.c,this.f,o,null),Mn(this,o)),4==e&&Rn(this),this.b&&!this.A&&(4==e?Zr(this.g,this):(this.b=!1,xn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ln(12)):(this.h=0,ln(13)),Rn(this),Pn(this)}}}catch(t){}},ft.Wa=function(){if(this.a){var t=Pr(this.a),e=this.a.$();this.D<e.length&&(Ln(this),Nn(this,t,e),this.b&&4!=t&&xn(this))}},ft.cancel=function(){this.A=!0,Rn(this)},ft.Va=function(){this.o=null;var t=kt();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(un(3),ln(17)),Rn(this),this.h=2,Pn(this)):On(this,this.T-t)},(ft=Un.prototype).K=function(){jn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ft.L=function(){return jn(this),this.a.concat()},ft.get=function(t,e){return Vn(this.b,t)?this.b[t]:e},ft.set=function(t,e){Vn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ft.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Bn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof qn){this.a=void 0!==e?e:t.a,Gn(this,t.f),this.j=t.j,Hn(this,t.c),Wn(this,t.h),this.g=t.g,e=t.b;var n=new ir;n.c=e.c,e.a&&(n.a=new Un(e.a),n.b=e.b),zn(this,n),this.i=t.i}else t&&(n=String(t).match(Bn))?(this.a=!!e,Gn(this,n[1]||"",!0),this.j=Jn(n[2]||""),Hn(this,n[3]||"",!0),Wn(this,n[4]),this.g=Jn(n[5]||"",!0),zn(this,n[6]||"",!0),this.i=Jn(n[7]||"")):(this.a=!!e,this.b=new ir(null,this.a))}function Kn(t){return new qn(t)}function Gn(t,e,n){t.f=n?Jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Hn(t,e,n){t.c=n?Jn(e,!0):e}function Wn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function zn(t,e,n){e instanceof ir?(t.b=e,function(t,e){e&&!t.f&&(or(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ar(this,e),ur(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Zn(e,nr)),t.b=new ir(e,t.a))}function Yn(t,e,n){t.b.set(e,n)}function Xn(t){return Yn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^kt()).toString(36)),t}function Jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Zn(e,$n,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Zn(e,$n,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Zn(n,"/"==n.charAt(0)?er:tr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Zn(n,rr)),t.join("")};var $n=/[#\/\?@]/g,tr=/[#\?:]/g,er=/[#\?]/g,nr=/[#\?@]/g,rr=/#/g;function ir(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function or(t){t.a||(t.a=new Un,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ar(t,e){or(t),e=cr(t,e),Vn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Vn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&jn(t)))}function sr(t,e){return or(t),e=cr(t,e),Vn(t.a.b,e)}function ur(t,e,n){ar(t,e),0<n.length&&(t.c=null,t.a.set(cr(t,e),xt(n)),t.b+=n.length)}function cr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ft=ir.prototype).add=function(t,e){or(this),this.c=null,t=cr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ft.forEach=function(t,e){or(this),this.a.forEach((function(n,r){Nt(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ft.L=function(){or(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ft.K=function(t){or(this);var e=[];if("string"==typeof t)sr(this,t)&&(e=Dt(e,this.a.get(cr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Dt(e,t[n])}return e},ft.set=function(t,e){return or(this),this.c=null,sr(this,t=cr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ft.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ft.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var lr=function(t,e){this.b=t,this.a=e};function hr(t){this.g=t||fr,t=gt.PerformanceNavigationTiming?0<(t=gt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(gt.ia&&gt.ia.ya&&gt.ia.ya()&&gt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var fr=10;function dr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function pr(t){return t.b?1:t.a?t.a.size:0}function gr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function vr(t,e){t.a?t.a.add(e):t.b=e}function mr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function yr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ht(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return xt(t.c)}function br(){}function wr(){this.a=new br}function Ir(t,e,n){var r=n||"";try{Fn(t,(function(t,n){var i=t;yt(t)&&(i=Re(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Sr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}hr.prototype.cancel=function(){var t,e;if(this.c=yr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ht(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},br.prototype.stringify=function(t){return gt.JSON.stringify(t,void 0)},br.prototype.parse=function(t){return gt.JSON.parse(t,void 0)};var Er=gt.JSON.parse;function Tr(t){Oe.call(this),this.headers=new Un,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=kr,this.D=this.F=!1}_t(Tr,Oe);var kr="",_r=/^https?$/i,Ar=["POST","PUT"];function Cr(t){return"content-type"==t.toLowerCase()}function Nr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Dr(t),Or(t)}function Dr(t){t.u||(t.u=!0,Le(t,"complete"),Le(t,"error"))}function xr(t){if(t.b&&void 0!==pt&&(!t.s[1]||4!=Pr(t)||2!=t.W()))if(t.l&&4==Pr(t))Ye(t.za,0,t);else if(Le(t,"readystatechange"),4==Pr(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Bn)[1]||null;if(!o&&gt.self&&gt.self.location){var a=gt.self.location.protocol;o=a.substr(0,a.length-1)}i=!_r.test(o?o.toLowerCase():"")}e=i}if(e)Le(t,"complete"),Le(t,"success");else{t.h=6;try{var s=2<Pr(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Dr(t)}}finally{Or(t)}}}function Or(t,e){if(t.a){Lr(t);var n=t.a,r=t.s[0]?vt:null;t.a=null,t.s=null,e||Le(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Lr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(gt.clearTimeout(t.m),t.m=null)}function Pr(t){return t.a?t.a.readyState:0}function Rr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return jt(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Yn(t,e,n))}function Mr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fr(t){this.pa=0,this.g=[],this.c=new en,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Mr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Mr("baseRetryDelayMs",5e3,t),this.Ra=Mr("retryDelaySeedMs",1e4,t),this.Ma=Mr("forwardChannelMaxRetries",2,t),this.ma=Mr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new hr(t&&t.concurrentRequestLimit),this.ka=new wr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ur(t){if(Vr(t),3==t.v){var e=t.R++,n=Kn(t.B);Yn(n,"SID",t.J),Yn(n,"RID",e),Yn(n,"TYPE","terminate"),Gr(t,n),(e=new En(t,t.c,e,void 0)).H=2,e.i=Xn(Kn(n)),n=!1,gt.navigator&&gt.navigator.sendBeacon&&(n=gt.navigator.sendBeacon(e.i.toString(),"")),!n&&gt.Image&&((new Image).src=e.i,n=!0),n||(e.a=ni(e.g,null),e.a.ba(e.i)),e.u=kt(),xn(e)}ti(t)}function jr(t){t.a&&(Yr(t),t.a.cancel(),t.a=null)}function Vr(t){jr(t),t.j&&(gt.clearTimeout(t.j),t.j=null),Jr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&gt.clearTimeout(t.h),t.h=null)}function Br(t,e){t.g.push(new lr(t.Oa++,e)),3==t.v&&qr(t)}function qr(t){dr(t.b)||t.h||(t.h=!0,qe(t.Ba,t),t.u=0)}function Kr(t,e){var n;n=e?e.f:t.R++;var r=Kn(t.B);Yn(r,"SID",t.J),Yn(r,"RID",n),Yn(r,"AID",t.P),Gr(t,r),t.i&&t.l&&Rr(r,t.i,t.l),n=new En(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Hr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),vr(t.b,n),An(n,r,e)}function Gr(t,e){t.f&&Fn({},(function(t,n){Yn(e,n,t)}))}function Hr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Et(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Ir(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Wr(t){t.a||t.j||(t.T=1,qe(t.Aa,t),t.o=0)}function zr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=fn(Et(t.Aa,t),Qr(t,t.o)),t.o++,0))}function Yr(t){null!=t.s&&(gt.clearTimeout(t.s),t.s=null)}function Xr(t){t.a=new En(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Kn(t.la);Yn(e,"RID","rpc"),Yn(e,"SID",t.J),Yn(e,"CI",t.H?"0":"1"),Yn(e,"AID",t.P),Gr(t,e),Yn(e,"TYPE","xmlhttp"),t.i&&t.l&&Rr(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Xn(Kn(e)),n.j=null,n.I=!0,Cn(n,t)}function Jr(t){null!=t.m&&(gt.clearTimeout(t.m),t.m=null)}function Zr(t,e){var n=null;if(t.a==e){Jr(t),Yr(t),t.a=null;var r=2}else{if(!gr(t.b,e))return;n=e.s,mr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=kt()-e.u;var i=t.u;Le(r=an(),new hn(r,n,e,i)),qr(t)}else Wr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(pr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=fn(Et(t.Ba,t,e),Qr(t,t.u)),t.u++,0)))}(t,e)||2==r&&zr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:$r(t,5);break;case 4:$r(t,10);break;case 3:$r(t,6);break;default:$r(t,2)}}function Qr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function $r(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Et(t.Ya,t);n||(n=new qn("//www.google.com/images/cleardot.gif"),gt.location&&"http"==gt.location.protocol||Gn(n,"https"),Xn(n)),function(t,e){var n=new en;if(gt.Image){var r=new Image;r.onload=Tt(Sr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Tt(Sr,n,r,"TestLoadImage: error",!1,e),r.onabort=Tt(Sr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tt(Sr,n,r,"TestLoadImage: timeout",!1,e),gt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ln(2);t.v=0,t.f&&t.f.ra(e),ti(t),Vr(t)}function ti(t){t.v=0,t.I=-1,t.f&&(0==yr(t.b).length&&0==t.g.length||(t.b.c.length=0,xt(t.g),t.g.length=0),t.f.qa())}function ei(t,e,n){var r=function(t){return t instanceof qn?Kn(t):new qn(t,void 0)}(n);if(""!=r.c)e&&Hn(r,e+"."+r.c),Wn(r,r.h);else{var i=gt.location;r=function(t,e,n,r){var i=new qn(null,void 0);return t&&Gn(i,t),e&&Hn(i,e),n&&Wn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&jt(t.V,(function(t,e){Yn(r,e,t)})),e=t.A,n=t.na,e&&n&&Yn(r,e,n),Yn(r,"VER",t.ha),Gr(t,r),r}function ni(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tr(t.Na)).F=t.C,e}function ri(){}function ii(){if(zt&&!(10<=Number(oe)))throw Error("Environmental error: no available transport.")}function oi(t,e){Oe.call(this),this.a=new Fr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ot(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ot(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ui(this)}function ai(t){wn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function si(){In.call(this),this.status=1}function ui(t){this.a=t}(ft=Tr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?vn(this.H):vn(yn),this.a.onreadystatechange=Et(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Nr(this,t)}t=n||"";var i=new Un(this.headers);r&&Fn(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Cr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=gt.FormData&&t instanceof gt.FormData,!(0<=Ct(Ar,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lr(this),0<this.o&&((this.D=function(t){return zt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Et(this.xa,this)):this.m=Ye(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Nr(this,t)}},ft.xa=function(){void 0!==pt&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Le(this,"timeout"),this.abort(8))},ft.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Le(this,"complete"),Le(this,"abort"),Or(this))},ft.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Or(this,!0)),Tr.X.G.call(this)},ft.za=function(){this.j||(this.A||this.l||this.g?xr(this):this.Ua())},ft.Ua=function(){xr(this)},ft.W=function(){try{return 2<Pr(this)?this.a.status:-1}catch(t){return-1}},ft.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},ft.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Er(e)}},ft.ua=function(){return this.h},ft.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ft=Fr.prototype).ha=8,ft.v=1,ft.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new En(this,this.c,t,void 0),r=this.l;if(this.O&&(r?qt(r=Vt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hr(this,n,e),Yn(i=Kn(this.B),"RID",t),Yn(i,"CVER",22),this.A&&Yn(i,"X-HTTP-Session-Id",this.A),Gr(this,i),this.i&&r&&Rr(i,this.i,r),vr(this.b,n),this.Ia&&Yn(i,"TYPE","init"),this.da?(Yn(i,"$req",e),Yn(i,"SID","null"),n.U=!0,An(n,i,null)):An(n,i,e),this.v=2}}else 3==this.v&&(t?Kr(this,t):0==this.g.length||dr(this.b)||Kr(this))},ft.Aa=function(){if(this.j=null,Xr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=fn(Et(this.Ta,this),t)}},ft.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ln(10),jr(this),Xr(this))},ft.Sa=function(){null!=this.m&&(this.m=null,jr(this),zr(this),ln(19))},ft.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ln(2)):(this.c.info("Failed to ping google.com"),ln(1))},(ft=ri.prototype).ta=function(){},ft.sa=function(){},ft.ra=function(){},ft.qa=function(){},ft.Ja=function(){},ii.prototype.a=function(t,e){return new oi(t,e)},_t(oi,Oe),oi.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ln(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ei(t,null,t.fa),qr(t)},oi.prototype.close=function(){Ur(this.a)},oi.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Br(this.a,e)}else this.l?((e={}).__data__=Re(t),Br(this.a,e)):Br(this.a,t)},oi.prototype.G=function(){this.a.f=null,delete this.f,Ur(this.a),delete this.a,oi.X.G.call(this)},_t(ai,wn),_t(si,In),_t(ui,ri),ui.prototype.ta=function(){Le(this.a,"a")},ui.prototype.sa=function(t){Le(this.a,new ai(t))},ui.prototype.ra=function(t){Le(this.a,new si(t))},ui.prototype.qa=function(){Le(this.a,"b")},ii.prototype.createWebChannel=ii.prototype.a,oi.prototype.send=oi.prototype.h,oi.prototype.open=oi.prototype.g,oi.prototype.close=oi.prototype.close,dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,pn.COMPLETE="complete",mn.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",Oe.prototype.listen=Oe.prototype.va,Tr.prototype.listenOnce=Tr.prototype.wa,Tr.prototype.getLastError=Tr.prototype.Qa,Tr.prototype.getLastErrorCode=Tr.prototype.ua,Tr.prototype.getStatus=Tr.prototype.W,Tr.prototype.getResponseJson=Tr.prototype.Pa,Tr.prototype.getResponseText=Tr.prototype.$,Tr.prototype.send=Tr.prototype.ba;var ci=dn,li=pn,hi=rn,fi=10,di=11,pi=mn,gi=Tr,vi=function(t,e){return(vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function mi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}vi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function yi(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function bi(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function wi(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var Ii=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ii.o=-1;var Si=new ut.Yd("@firebase/firestore");function Ei(){return Si.logLevel}function Ti(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Si.logLevel<=ut.in.DEBUG){var r=e.map(Ai);Si.debug.apply(Si,wi(["Firestore (8.3.1): "+t],r))}}function ki(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Si.logLevel<=ut.in.ERROR){var r=e.map(Ai);Si.error.apply(Si,wi(["Firestore (8.3.1): "+t],r))}}function _i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Si.logLevel<=ut.in.WARN){var r=e.map(Ai);Si.warn.apply(Si,wi(["Firestore (8.3.1): "+t],r))}}function Ai(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Ci(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw ki(e),new Error(e)}function Ni(t,e){t||Ci()}function Di(t,e){return t}function xi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Oi=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=xi(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Li(t,e){return t<e?-1:t>e?1:0}function Pi(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ri(t){return t+"\0"}function Mi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ui(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ji(t){return null==t}function Vi(t){return 0===t&&1/t==-1/0}function Bi(t){return"number"==typeof t&&Number.isInteger(t)&&!Vi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ki=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return mi(e,t),e}(Error),Gi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ci(),void 0===n?n=t.length-e:n>t.length-e&&Ci(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ki(qi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Gi),Wi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Wi.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ki(qi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Ki(qi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ki(qi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ki(qi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Gi),Yi=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Hi.fromString(e))},t.fromName=function(e){return new t(Hi.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Hi.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Hi.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Hi(e.slice()))},t}(),Xi=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Li(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Xi.EMPTY_BYTE_STRING=new Xi("");var Ji=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(Ni(!!t),"string"==typeof t){var e=0,n=Ji.exec(t);if(Ni(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qi(t.seconds),nanos:Qi(t.nanos)}}function Qi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $i(t){return"string"==typeof t?Xi.fromBase64String(t):Xi.fromUint8Array(t)}var to=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ki(qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ki(qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ki(qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ki(qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Li(this.nanoseconds,t.nanoseconds):Li(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function eo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function no(t){var e=t.mapValue.fields.__previous_value__;return eo(e)?no(e):e}function ro(t){var e=Zi(t.mapValue.fields.__local_write_time__.timestampValue);return new to(e.seconds,e.nanos)}function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eo(t)?4:10:Ci()}function oo(t,e){var n=io(t);if(n!==io(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ro(t).isEqual(ro(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Zi(t.timestampValue),r=Zi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return $i(t.bytesValue).isEqual($i(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Qi(t.geoPointValue.latitude)===Qi(e.geoPointValue.latitude)&&Qi(t.geoPointValue.longitude)===Qi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Qi(t.integerValue)===Qi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Qi(t.doubleValue),r=Qi(e.doubleValue);return n===r?Vi(n)===Vi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Pi(t.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Mi(n)!==Mi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!oo(n[i],r[i])))return!1;return!0}(t,e);default:return Ci()}}function ao(t,e){return void 0!==(t.values||[]).find((function(t){return oo(t,e)}))}function so(t,e){var n=io(t),r=io(e);if(n!==r)return Li(n,r);switch(n){case 0:return 0;case 1:return Li(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Qi(t.integerValue||t.doubleValue),r=Qi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return uo(t.timestampValue,e.timestampValue);case 4:return uo(ro(t),ro(e));case 5:return Li(t.stringValue,e.stringValue);case 6:return function(t,e){var n=$i(t),r=$i(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Li(n[i],r[i]);if(0!==o)return o}return Li(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Li(Qi(t.latitude),Qi(e.latitude));return 0!==n?n:Li(Qi(t.longitude),Qi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=so(n[i],r[i]);if(o)return o}return Li(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Li(r[a],o[a]);if(0!==s)return s;var u=so(n[r[a]],i[o[a]]);if(0!==u)return u}return Li(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ci()}}function uo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Li(t,e);var n=Zi(t),r=Zi(e),i=Li(n.seconds,r.seconds);return 0!==i?i:Li(n.nanos,r.nanos)}function co(t){return lo(t)}function lo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Zi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$i(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Yi.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=lo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+lo(t.fields[o])}return e+"}"}(t.mapValue):Ci();var e,n}function ho(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function fo(t){return!!t&&"integerValue"in t}function po(t){return!!t&&"arrayValue"in t}function go(t){return!!t&&"nullValue"in t}function vo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mo(t){return!!t&&"mapValue"in t}var yo=function(t,e){this.key=t,this.version=e},bo=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return mi(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(yo),wo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return mi(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yo),Io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yo),So=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Eo(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new So(t,e,n,r,i,o,a)}function To(t){var e=Di(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+co(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),ji(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fo(e.startAt)),e.endAt&&(n+="|ub:",n+=Fo(e.endAt)),e.h=n}return e.h}function ko(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!jo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!oo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bo(t.startAt,e.startAt)&&Bo(t.endAt,e.endAt)}function _o(t){return Yi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ao=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return mi(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Co(t,n,r):"array-contains"===n?new Oo(t,r):"in"===n?new Lo(t,r):"not-in"===n?new Po(t,r):"array-contains-any"===n?new Ro(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new No(t,n):new Do(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(so(e,this.value)):null!==e&&io(this.value)===io(e)&&this.m(so(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ci()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Co=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Yi.fromName(r.referenceValue),i}return mi(e,t),e.prototype.matches=function(t){var e=Yi.comparator(t.key,this.key);return this.m(e)},e}(Ao),No=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=xo(0,n),r}return mi(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ao),Do=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=xo(0,n),r}return mi(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ao);function xo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Yi.fromName(t.referenceValue)}))}var Oo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return mi(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return po(e)&&ao(e.arrayValue,this.value)},e}(Ao),Lo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return mi(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ao(this.value.arrayValue,e)},e}(Ao),Po=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return mi(e,t),e.prototype.matches=function(t){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ao(this.value.arrayValue,e)},e}(Ao),Ro=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return mi(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!po(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ao(e.value.arrayValue,t)}))},e}(Ao),Mo=function(t,e){this.position=t,this.before=e};function Fo(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return co(t)})).join(",")}var Uo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function jo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Vo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Yi.comparator(Yi.fromName(a.referenceValue),n.key):so(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!oo(t.position[n],e.position[n]))return!1;return!0}var qo=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ko(t,e,n,r,i,o,a,s){return new qo(t,e,n,r,i,o,a,s)}function Go(t){return new qo(t)}function Ho(t){return!ji(t.limit)&&"F"===t.limitType}function Wo(t){return!ji(t.limit)&&"L"===t.limitType}function zo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Yo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Xo(t){return null!==t.collectionGroup}function Jo(t){var e=Di(t);if(null===e.p){e.p=[];var n=Yo(e),r=zo(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Uo(n)),e.p.push(new Uo(zi.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Uo(zi.keyField(),u))}}}return e.p}function Zo(t){var e=Di(t);if(!e.T)if("F"===e.limitType)e.T=Eo(e.path,e.collectionGroup,Jo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Jo(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Uo(o.field,a))}var s=e.endAt?new Mo(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Mo(e.startAt.position,!e.startAt.before):null;e.T=Eo(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Qo(t,e,n){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $o(t,e){return ko(Zo(t),Zo(e))&&t.limitType===e.limitType}function ta(t){return To(Zo(t))+"|lt:"+t.limitType}function ea(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+co(e.value);var e})).join(", ")+"]"),ji(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Fo(t.startAt)),t.endAt&&(e+=", endAt: "+Fo(t.endAt)),"Target("+e+")"}(Zo(t))+"; limitType="+t.limitType+")"}function na(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Yi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vo(t.startAt,Jo(t),e)||t.endAt&&Vo(t.endAt,Jo(t),e))}(t,e)}function ra(t){return function(e,n){for(var r=!1,i=0,o=Jo(t);i<o.length;i++){var a=o[i],s=ia(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ia(t,e,n){var r=t.field.isKeyField()?Yi.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?so(r,i):Ci()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ci()}}var oa=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new to(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),aa=function(){function t(t){this.fields=t,t.sort(zi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Pi(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),sa=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!mo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return oo(this.proto,t.proto)},t}(),ua=function(){function t(t){void 0===t&&(t=sa.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===io(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(zi.emptyPath(),this.A);return null!=t?new sa(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=mo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.P(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function ca(t){var e=[];return Fi(t.fields||{},(function(t,n){var r=new zi([t]);if(mo(n)){var i=ca(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new aa(e)}function la(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vi(e)?"-0":e}}function ha(t){return{integerValue:""+t}}function fa(t,e){return Bi(e)?ha(e):la(t,e)}var da=function(){this._=void 0};function pa(t,e,n){return t instanceof ma?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ya?ba(t,e):t instanceof wa?Ia(t,e):function(t,e){var n=va(t,e),r=Ea(n)+Ea(t.S);return fo(n)&&fo(t.S)?ha(r):la(t.D,r)}(t,e)}function ga(t,e,n){return t instanceof ya?ba(t,e):t instanceof wa?Ia(t,e):n}function va(t,e){return t instanceof Sa?fo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e}(da),ya=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return mi(e,t),e}(da);function ba(t,e){for(var n=Ta(e),r=function(t){n.some((function(e){return oo(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return mi(e,t),e}(da);function Ia(t,e){for(var n=Ta(e),r=function(t){n=n.filter((function(e){return!oo(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return mi(e,t),e}(da);function Ea(t){return Qi(t.integerValue||t.doubleValue)}function Ta(t){return po(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ka=function(t,e){this.field=t,this.transform=e},_a=function(t,e){this.version=t,this.transformResults=e},Aa=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ca(t,e){return void 0!==t.updateTime?e instanceof bo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof bo}var Na=function(){};function Da(t,e,n){return t instanceof Ra?function(t,e,n){var r=t.value,i=Ua(t.fieldTransforms,e,n.transformResults);return r=Va(t.fieldTransforms,r,i),new bo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ma?function(t,e,n){if(!Ca(t.precondition,e))return new Io(t.key,n.version);var r=Fa(t,e,Ua(t.fieldTransforms,e,n.transformResults));return new bo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new wo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function xa(t,e,n){return t instanceof Ra?function(t,e,n){if(!Ca(t.precondition,e))return e;var r=t.value,i=ja(t.fieldTransforms,n,e);r=Va(t.fieldTransforms,r,i);var o=Pa(e);return new bo(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof Ma?function(t,e,n){if(!Ca(t.precondition,e))return e;var r=Pa(e),i=Fa(t,e,ja(t.fieldTransforms,n,e));return new bo(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return Ca(t.precondition,e)?new wo(t.key,oa.min()):e}(t,e)}function Oa(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof bo?e.field(o.field):void 0,s=va(o.transform,a||null);null!=s&&(n=null==n?(new ua).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function La(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Pi(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ya&&e instanceof ya||t instanceof wa&&e instanceof wa?Pi(t.elements,e.elements,oo):t instanceof Sa&&e instanceof Sa?oo(t.S,e.S):t instanceof ma&&e instanceof ma}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Pa(t){return t instanceof bo?t.version:oa.min()}var Ra=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return mi(e,t),e}(Na),Ma=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return mi(e,t),e}(Na);function Fa(t,e,n){var r;return r=function(t,e){var n=new ua(e);return t.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.v()}(t,r=e instanceof bo?e.data():sa.empty()),Va(t.fieldTransforms,r,n)}function Ua(t,e,n){var r=[];Ni(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof bo&&(s=e.field(o.field)),r.push(ga(a,s,n[i]))}return r}function ja(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof bo&&(u=n.field(a.field)),r.push(pa(s,u,e))}return r}function Va(t,e,n){for(var r=new ua(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.v()}var Ba,qa,Ka=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return mi(e,t),e}(Na),Ga=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return mi(e,t),e}(Na),Ha=function(t){this.count=t};function Wa(t){switch(t){case qi.OK:return Ci();case qi.CANCELLED:case qi.UNKNOWN:case qi.DEADLINE_EXCEEDED:case qi.RESOURCE_EXHAUSTED:case qi.INTERNAL:case qi.UNAVAILABLE:case qi.UNAUTHENTICATED:return!1;case qi.INVALID_ARGUMENT:case qi.NOT_FOUND:case qi.ALREADY_EXISTS:case qi.PERMISSION_DENIED:case qi.FAILED_PRECONDITION:case qi.ABORTED:case qi.OUT_OF_RANGE:case qi.UNIMPLEMENTED:case qi.DATA_LOSS:return!0;default:return Ci()}}function za(t){if(void 0===t)return ki("GRPC error has no .code"),qi.UNKNOWN;switch(t){case Ba.OK:return qi.OK;case Ba.CANCELLED:return qi.CANCELLED;case Ba.UNKNOWN:return qi.UNKNOWN;case Ba.DEADLINE_EXCEEDED:return qi.DEADLINE_EXCEEDED;case Ba.RESOURCE_EXHAUSTED:return qi.RESOURCE_EXHAUSTED;case Ba.INTERNAL:return qi.INTERNAL;case Ba.UNAVAILABLE:return qi.UNAVAILABLE;case Ba.UNAUTHENTICATED:return qi.UNAUTHENTICATED;case Ba.INVALID_ARGUMENT:return qi.INVALID_ARGUMENT;case Ba.NOT_FOUND:return qi.NOT_FOUND;case Ba.ALREADY_EXISTS:return qi.ALREADY_EXISTS;case Ba.PERMISSION_DENIED:return qi.PERMISSION_DENIED;case Ba.FAILED_PRECONDITION:return qi.FAILED_PRECONDITION;case Ba.ABORTED:return qi.ABORTED;case Ba.OUT_OF_RANGE:return qi.OUT_OF_RANGE;case Ba.UNIMPLEMENTED:return qi.UNIMPLEMENTED;case Ba.DATA_LOSS:return qi.DATA_LOSS;default:return Ci()}}(qa=Ba||(Ba={}))[qa.OK=0]="OK",qa[qa.CANCELLED=1]="CANCELLED",qa[qa.UNKNOWN=2]="UNKNOWN",qa[qa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qa[qa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qa[qa.NOT_FOUND=5]="NOT_FOUND",qa[qa.ALREADY_EXISTS=6]="ALREADY_EXISTS",qa[qa.PERMISSION_DENIED=7]="PERMISSION_DENIED",qa[qa.UNAUTHENTICATED=16]="UNAUTHENTICATED",qa[qa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qa[qa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qa[qa.ABORTED=10]="ABORTED",qa[qa.OUT_OF_RANGE=11]="OUT_OF_RANGE",qa[qa.UNIMPLEMENTED=12]="UNIMPLEMENTED",qa[qa.INTERNAL=13]="INTERNAL",qa[qa.UNAVAILABLE=14]="UNAVAILABLE",qa[qa.DATA_LOSS=15]="DATA_LOSS";var Ya=function(){function t(t,e){this.comparator=t,this.root=e||Ja.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ja.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ja.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Xa(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Xa(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Xa(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Xa(this.root,t,this.comparator,!0)},t}(),Xa=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ja=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ci();if(this.right.isRed())throw Ci();var t=this.left.check();if(t!==this.right.check())throw Ci();return t+(this.isRed()?0:1)},t}();Ja.EMPTY=null,Ja.RED=!0,Ja.BLACK=!1,Ja.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ci()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ci()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ci()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ci()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ci()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ja(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Za=function(){function t(t){this.comparator=t,this.data=new Ya(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Qa(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Qa(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Qa=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),$a=new Ya(Yi.comparator);function ts(){return $a}function es(){return ts()}var ns=new Ya(Yi.comparator);function rs(){return ns}var is=new Ya(Yi.comparator);function os(){return is}var as=new Za(Yi.comparator);function ss(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=as,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var us=new Za(Li);function cs(){return us}var ls=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,hs.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(oa.min(),r,cs(),ts(),ss())},t}(),hs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Xi.EMPTY_BYTE_STRING,n,ss(),ss(),ss())},t}(),fs=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},ds=function(t,e){this.targetId=t,this.$=e},ps=function(t,e,n,r){void 0===n&&(n=Xi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},gs=function(){function t(){this.F=0,this.O=ys(),this.k=Xi.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=ss(),e=ss(),n=ss();return this.O.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ci()}})),new hs(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=ys()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),vs=function(){function t(t){this.X=t,this.Z=new Map,this.tt=ts(),this.et=ms(),this.nt=new Za(Li)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof bo?this.it(r,t.N):t.N instanceof wo&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:Ci()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach((function(t,r){n.at(r)&&e(r)}))},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(_o(i))if(0===n){var o=new Yi(i.path);this.rt(e,o,new wo(o,oa.min()))}else Ni(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach((function(r,i){var o=e.lt(i);if(o){if(r.current&&_o(o.target)){var a=new Yi(o.target.path);null!==e.tt.get(a)||e.wt(i,a)||e.rt(i,a,new wo(a,t))}r.q&&(n.set(i,r.K()),r.W())}}));var r=ss();this.et.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ls(t,n,this.nt,this.tt,r);return this.tt=ts(),this.et=ms(),this.nt=new Za(Li),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new gs,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Za(Li),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Ti("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new gs),this.X.getRemoteKeysForTarget(t).forEach((function(n){e.rt(t,n,null)}))},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function ms(){return new Ya(Yi.comparator)}function ys(){return new Ya(Yi.comparator)}var bs={asc:"ASCENDING",desc:"DESCENDING"},ws={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Is=function(t,e){this.databaseId=t,this.V=e};function Ss(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Es(t,e){return t.V?e.toBase64():e.toUint8Array()}function Ts(t,e){return Ss(t,e.toTimestamp())}function ks(t){return Ni(!!t),oa.fromTimestamp(function(t){var e=Zi(t);return new to(e.seconds,e.nanos)}(t))}function _s(t,e){return function(t){return new Hi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function As(t){var e=Hi.fromString(t);return Ni(Zs(e)),e}function Cs(t,e){return _s(t.databaseId,e.path)}function Ns(t,e){var n=As(e);if(n.get(1)!==t.databaseId.projectId)throw new Ki(qi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ki(qi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Yi(Ls(n))}function Ds(t,e){return _s(t.databaseId,e)}function xs(t){var e=As(t);return 4===e.length?Hi.emptyPath():Ls(e)}function Os(t){return new Hi(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ls(t){return Ni(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ps(t,e,n){return{name:Cs(t,e),fields:n.proto.mapValue.fields}}function Rs(t,e,n){var r=Ns(t,e.name),i=ks(e.updateTime),o=new sa({mapValue:{fields:e.fields}});return new bo(r,i,o,{hasCommittedMutations:!!n})}function Ms(t,e){var n;if(e instanceof Ra)n={update:Ps(t,e.key,e.value)};else if(e instanceof Ka)n={delete:Cs(t,e.key)};else if(e instanceof Ma)n={update:Ps(t,e.key,e.data),updateMask:Js(e.fieldMask)};else{if(!(e instanceof Ga))return Ci();n={verify:Cs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ma)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ya)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wa)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sa)return{fieldPath:e.field.canonicalString(),increment:n.S};throw Ci()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ts(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ci()}(t,e.precondition)),n}function Fs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Aa.updateTime(ks(t.updateTime)):void 0!==t.exists?Aa.exists(t.exists):Aa.none()}(e.currentDocument):Aa.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Ni("REQUEST_TIME"===e.setToServerValue),n=new ma;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ya(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new wa(i)}else"increment"in e?n=new Sa(t,e.increment):Ci();var o=zi.fromServerFormat(e.fieldPath);return new ka(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Ns(t,e.update.name),o=new sa({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new aa(e.map((function(t){return zi.fromServerFormat(t)})))}(e.updateMask);return new Ma(i,o,a,n,r)}return new Ra(i,o,n,r)}if(e.delete){var s=Ns(t,e.delete);return new Ka(s,n)}if(e.verify){var u=Ns(t,e.verify);return new Ga(u,n)}return Ci()}function Us(t,e){return{documents:[Ds(t,e.path)]}}function js(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ds(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ds(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(vo(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NAN"}};if(go(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vo(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NAN"}};if(go(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(t.field),op:Hs(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ws(t.field),direction:Gs(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.V||ji(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=qs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=qs(e.endAt)),n}function Vs(t){var e=xs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ni(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Bs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Uo(zs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ji(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ks(n.startAt));var l=null;return n.endAt&&(l=Ks(n.endAt)),Ko(e,i,s,a,u,"F",c,l)}function Bs(t){return t?void 0!==t.unaryFilter?[Xs(t)]:void 0!==t.fieldFilter?[Ys(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Bs(t)})).reduce((function(t,e){return t.concat(e)})):Ci():[]}function qs(t){return{before:t.before,values:t.position}}function Ks(t){var e=!!t.before,n=t.values||[];return new Mo(n,e)}function Gs(t){return bs[t]}function Hs(t){return ws[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function zs(t){return zi.fromServerFormat(t.fieldPath)}function Ys(t){return Ao.create(zs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ci()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xs(t){switch(t.unaryFilter.op){case"IS_NAN":var e=zs(t.unaryFilter.field);return Ao.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=zs(t.unaryFilter.field);return Ao.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zs(t.unaryFilter.field);return Ao.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zs(t.unaryFilter.field);return Ao.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ci()}}function Js(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Zs(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Qs(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=tu(e)),e=$s(t.get(n),e);return tu(e)}function $s(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function tu(t){return t+""}function eu(t){var e=t.length;if(Ni(e>=2),2===e)return Ni(""===t.charAt(0)&&""===t.charAt(1)),Hi.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Ci(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Ci()}o=a+2}return new Hi(r)}var nu=function(t,e){this.seconds=t,this.nanoseconds=e},ru=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ru.store="owner",ru.key="owner";var iu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};iu.store="mutationQueues",iu.keyPath="userId";var ou=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ou.store="mutations",ou.keyPath="batchId",ou.userMutationsIndex="userMutationsIndex",ou.userMutationsKeyPath=["userId","batchId"];var au=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Qs(e)]},t.key=function(t,e,n){return[t,Qs(e),n]},t}();au.store="documentMutations",au.PLACEHOLDER=new au;var su=function(t,e){this.path=t,this.readTime=e},uu=function(t,e){this.path=t,this.version=e},cu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};cu.store="remoteDocuments",cu.readTimeIndex="readTimeIndex",cu.readTimeIndexPath="readTime",cu.collectionReadTimeIndex="collectionReadTimeIndex",cu.collectionReadTimeIndexPath=["parentPath","readTime"];var lu=function(t){this.byteSize=t};lu.store="remoteDocumentGlobal",lu.key="remoteDocumentGlobalKey";var hu=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};hu.store="targets",hu.keyPath="targetId",hu.queryTargetsIndexName="queryTargetsIndex",hu.queryTargetsKeyPath=["canonicalId","targetId"];var fu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};fu.store="targetDocuments",fu.keyPath=["targetId","path"],fu.documentTargetsIndex="documentTargetsIndex",fu.documentTargetsKeyPath=["path","targetId"];var du=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};du.key="targetGlobalKey",du.store="targetGlobal";var pu=function(t,e){this.collectionId=t,this.parent=e};pu.store="collectionParents",pu.keyPath=["collectionId","parent"];var gu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};gu.store="clientMetadata",gu.keyPath="clientId";var vu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};vu.store="bundles",vu.keyPath="bundleId";var mu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};mu.store="namedQueries",mu.keyPath="name";var yu=wi(wi([],wi(wi([],wi(wi([],wi(wi([],[iu.store,ou.store,au.store,cu.store,hu.store,ru.store,du.store,fu.store]),[gu.store])),[lu.store])),[pu.store])),[vu.store,mu.store]),bu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wu=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Iu=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Su=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ci(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Eu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Iu,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new _u(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=xu(e.target.error);n.gt.reject(new _u(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new _u(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Ti("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Cu(e)},t}(),Tu=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It((0,ct.z$)())&&ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ti("SimpleDb","Removing database:",t),Nu(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=(0,ct.z$)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return yi(this,void 0,void 0,(function(){var e,n=this;return bi(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ti("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _u(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ki(qi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new _u(t,n))},i.onupgradeneeded=function(t){Ti("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Tt.St(e,i.transaction,t.oldVersion,n.version).next((function(){Ti("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}}))}))},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return yi(this,void 0,void 0,(function(){var i,o,a,s,u;return bi(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return bi(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=h.sent(),e=Eu.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Su.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.Et];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Ti("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ku=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Nu(this.xt.delete())},t}(),_u=function(t){function e(e,n){var r=this;return(r=t.call(this,qi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return mi(e,t),e}(Ki);function Au(t){return"IndexedDbTransactionError"===t.name}var Cu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ti("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ti("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Nu(n)},t.prototype.add=function(t){return Ti("SimpleDb","ADD",this.store.name,t,t),Nu(this.store.add(t))},t.prototype.get=function(t){var e=this;return Nu(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ti("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ti("SimpleDb","DELETE",this.store.name,t),Nu(this.store.delete(t))},t.prototype.count=function(){return Ti("SimpleDb","COUNT",this.store.name),Nu(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Lt=function(t,e){Ti("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(t,e,n){return n.delete()}))},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Su((function(n,r){e.onerror=function(t){var e=xu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Mt=function(t,e){var n=[];return new Su((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ku(i),a=e(i.primaryKey,i.value,o);if(a instanceof Su){var s=a.catch((function(t){return o.done(),Su.reject(t)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return Su.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Nu(t){return new Su((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=xu(t.target.error);n(e)}}))}var Du=!1;function xu(t){var e=Tu.It((0,ct.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ki("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Du||(Du=!0,setTimeout((function(){throw r}),0)),r}}return t}var Ou=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return mi(e,t),e}(wu);function Lu(t,e){var n=Di(t);return Tu.Pt(n.Qt,e)}var Pu=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Da(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=xa(a,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=xa(a,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ss())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Pi(this.mutations,t.mutations,(function(t,e){return La(t,e)}))&&Pi(this.baseMutations,t.baseMutations,(function(t,e){return La(t,e)}))},t}(),Ru=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ni(e.mutations.length===r.length);for(var i=os(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Mu=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=oa.min()),void 0===o&&(o=oa.min()),void 0===a&&(a=Xi.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Fu=function(t){this.Kt=t};function Uu(t,e){if(e.document)return Rs(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Yi.fromSegments(e.noDocument.path),r=Ku(e.noDocument.readTime);return new wo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Yi.fromSegments(e.unknownDocument.path);return r=Ku(e.unknownDocument.version),new Io(i,r)}return Ci()}function ju(t,e,n){var r=Vu(n),i=e.key.path.popLast().toArray();if(e instanceof bo){var o=function(t,e){return{name:Cs(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Ss(t,e.version.toTimestamp())}}(t.Kt,e),a=e.hasCommittedMutations;return new cu(null,null,o,a,r,i)}if(e instanceof wo){var s=e.key.path.toArray(),u=qu(e.version);return a=e.hasCommittedMutations,new cu(null,new su(s,u),null,a,r,i)}if(e instanceof Io){var c=e.key.path.toArray(),l=qu(e.version);return new cu(new uu(c,l),null,null,!0,r,i)}return Ci()}function Vu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bu(t){var e=new to(t[0],t[1]);return oa.fromTimestamp(e)}function qu(t){var e=t.toTimestamp();return new nu(e.seconds,e.nanoseconds)}function Ku(t){var e=new to(t.seconds,t.nanoseconds);return oa.fromTimestamp(e)}function Gu(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Fs(t.Kt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Fs(t.Kt,e)})),s=to.fromMillis(e.localWriteTimeMs);return new Pu(e.batchId,s,n,a)}function Hu(t){var e,n,r=Ku(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ku(t.lastLimboFreeSnapshotVersion):oa.min();return void 0!==t.query.documents?(Ni(1===(n=t.query).documents.length),e=Zo(Go(xs(n.documents[0])))):e=function(t){return Zo(Vs(t))}(t.query),new Mu(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Xi.fromBase64String(t.resumeToken))}function Wu(t,e){var n,r=qu(e.snapshotVersion),i=qu(e.lastLimboFreeSnapshotVersion);n=_o(e.target)?Us(t.Kt,e.target):js(t.Kt,e.target);var o=e.resumeToken.toBase64();return new hu(e.targetId,To(e.target),r,o,e.sequenceNumber,i,n)}function zu(t){var e=Vs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Qo(e,e.limit,"L"):e}var Yu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Xu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ku(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Xu(t).put({bundleId:(n=e).id,createTime:qu(ks(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ju(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:zu(e.bundledQuery),readTime:Ku(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Ju(t).put(function(t){return{name:t.name,readTime:qu(ks(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Xu(t){return Lu(t,vu.store)}function Ju(t){return Lu(t,mu.store)}var Zu=function(){function t(){this.Wt=new Qu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Su.resolve()},t.prototype.getCollectionParents=function(t,e){return Su.resolve(this.Wt.getEntries(e))},t}(),Qu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Za(Hi.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Za(Hi.comparator)).toArray()},t}(),$u=function(){function t(){this.jt=new Qu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.jt.add(e)}));var o={collectionId:r,parent:Qs(i)};return tc(t).put(o)}return Su.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ri(e),""],!1,!0);return tc(t).kt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(eu(o.parent))}return n}))},t}();function tc(t){return Lu(t,pu.store)}var ec={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nc=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function rc(t,e,n){var r=t.store(ou.store),i=t.store(au.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Ni(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=au.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Su.waitFor(o).next((function(){return c}))}function ic(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ci();e=t.noDocument}return JSON.stringify(e).length}nc.DEFAULT_COLLECTION_PERCENTILE=10,nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nc.DEFAULT=new nc(41943040,nc.DEFAULT_COLLECTION_PERCENTILE,nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nc.DISABLED=new nc(-1,0,0);var oc=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return Ni(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sc(t).qt({index:ou.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=uc(t),a=sc(t);return a.add({}).next((function(s){Ni("number"==typeof s);for(var u=new Pu(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ms(t.Kt,e)})),i=n.mutations.map((function(e){return Ms(t.Kt,e)}));return new ou(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new Za((function(t,e){return Li(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=au.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,au.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.zt[s]=u.keys()})),Su.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return sc(t).get(e).next((function(t){return t?(Ni(t.userId===n.userId),Gu(n.D,t)):null}))},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Su.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sc(t).qt({index:ou.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ni(e.batchId>=r),o=Gu(n.D,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sc(t).qt({index:ou.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sc(t).kt(ou.userMutationsIndex,n).next((function(t){return t.map((function(t){return Gu(e.D,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=au.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return uc(t).qt({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=eu(u);if(s===n.userId&&e.path.isEqual(l))return sc(t).get(c).next((function(t){if(!t)throw Ci();Ni(t.userId===n.userId),o.push(Gu(n.D,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Za(Li),i=[];return e.forEach((function(e){var o=au.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=uc(t).qt({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=eu(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Su.waitFor(i).next((function(){return n.Yt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=au.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Za(Li);return uc(t).qt({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=eu(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Yt(t,s)}))},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(sc(t).get(e).next((function(t){if(null===t)throw Ci();Ni(t.userId===n.userId),r.push(Gu(n.D,t))})))})),Su.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return rc(t.Qt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Xt(e.batchId)})),Su.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Su.resolve();var r=IDBKeyRange.lowerBound(au.prefixForUser(e.userId)),i=[];return uc(t).qt({range:r},(function(t,n,r){if(t[0]===e.userId){var o=eu(t[1]);i.push(o)}else r.done()})).next((function(){Ni(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ac(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return cc(t).get(this.userId).next((function(t){return t||new iu(e.userId,-1,"")}))},t}();function ac(t,e,n){var r=au.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return uc(t).qt({range:o,Bt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function sc(t){return Lu(t,ou.store)}function uc(t){return Lu(t,au.store)}function cc(t){return Lu(t,iu.store)}var lc=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),hc=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next((function(n){var r=new lc(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next((function(t){return oa.fromTimestamp(new to(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next((function(){return n.se(t).next((function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return fc(t).delete(e.targetId)})).next((function(){return n.se(t)})).next((function(e){return Ni(e.targetCount>0),e.targetCount-=1,n.ie(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return fc(t).qt((function(a,s){var u=Hu(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Su.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return fc(t).qt((function(t,n){var r=Hu(n);e(r)}))},t.prototype.se=function(t){return dc(t).get(du.key).next((function(t){return Ni(null!==t),t}))},t.prototype.ie=function(t,e){return dc(t).put(du.key,e)},t.prototype.re=function(t,e){return fc(t).put(Wu(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=To(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fc(t).qt({range:r,index:hu.queryTargetsIndexName},(function(t,n,r){var o=Hu(n);ko(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=pc(t);return e.forEach((function(e){var a=Qs(e.path);i.push(o.put(new fu(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Su.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=pc(t);return Su.forEach(e,(function(e){var o=Qs(e.path);return Su.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=pc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pc(t),i=ss();return r.qt({range:n,Bt:!0},(function(t,e,n){var r=eu(t[1]),o=new Yi(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Qs(e.path),r=IDBKeyRange.bound([n],[Ri(n)],!1,!0),i=0;return pc(t).qt({index:fu.documentTargetsIndex,Bt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.yt=function(t,e){return fc(t).get(e).next((function(t){return t?Hu(t):null}))},t}();function fc(t){return Lu(t,hu.store)}function dc(t){return Lu(t,du.store)}function pc(t){return Lu(t,fu.store)}function gc(t){return yi(this,void 0,void 0,(function(){return bi(this,(function(e){if(t.code!==qi.FAILED_PRECONDITION||t.message!==bu)throw t;return Ti("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function vc(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Li(n,i);return 0===a?Li(r,o):a}var mc=function(){function t(t){this.ce=t,this.buffer=new Za(vc),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();vc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),yc=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Ti("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return yi(e,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Au(e=n.sent())?(Ti("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),bc=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Su.resolve(Ii.o);var r=new mc(e);return this.we.forEachTarget(t,(function(t){return r.he(t.sequenceNumber)})).next((function(){return n.we.me(t,(function(t){return r.he(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector","Garbage collection skipped; disabled"),Su.resolve(ec)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ec):n.ye(t,e)}))},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ti("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Ei()<=ut.in.DEBUG&&Ti("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Su.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),wc=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new bc(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ge=function(t){var e=0;return this.me(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Ic(t,n)},t.prototype.removeReference=function(t,e,n){return Ic(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Ic(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return cc(t).Ut((function(r){return ac(t,r,e).next((function(t){return t&&(n=!0),Su.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,(function(a,s){if(s<=e){var u=n.Ee(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),pc(t).delete([0,Qs(a.path)])}))}));i.push(u)}})).next((function(){return Su.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ic(t,e)},t.prototype.pe=function(t,e){var n,r=pc(t),i=Ii.o;return r.qt({index:fu.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Ii.o&&e(new Yi(eu(n)),i),i=s,n=a):i=Ii.o})).next((function(){i!==Ii.o&&e(new Yi(eu(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ic(t,e){return pc(t).put(function(t,e){return new fu(0,Qs(t.path),e)}(e,t.currentSequenceNumber))}var Sc=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Fi(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Ui(this.inner)},t}(),Ec=function(){function t(){this.changes=new Sc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:oa.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Su.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Tc=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return Ac(t).put(Cc(e),n)},t.prototype.removeEntry=function(t,e){var n=Ac(t),r=Cc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Te(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Ac(t).get(Cc(e)).next((function(t){return n.Ie(t)}))},t.prototype.Ae=function(t,e){var n=this;return Ac(t).get(Cc(e)).next((function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:ic(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=es();return this.Re(t,e,(function(t,e){var i=n.Ie(e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.be=function(t,e){var n=this,r=es(),i=new Ya(Yi.comparator);return this.Re(t,e,(function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,ic(e))):(r=r.insert(t,null),i=i.insert(t,0))})).next((function(){return{ve:r,Pe:i}}))},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Su.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ac(t).qt({range:r},(function(t,e,r){for(var a=Yi.fromSegments(t);o&&Yi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=rs(),o=e.path.length+1,a={};if(n.isEqual(oa.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Vu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=cu.collectionReadTimeIndex}return Ac(t).qt(a,(function(t,n,a){if(t.length===o){var s=Uu(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof bo&&na(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new kc(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return _c(t).get(lu.key).next((function(t){return Ni(!!t),t}))},t.prototype.Te=function(t,e){return _c(t).put(lu.key,e)},t.prototype.Ie=function(t){if(t){var e=Uu(this.D,t);return e instanceof wo&&e.version.isEqual(oa.min())?null:e}return null},t}(),kc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Sc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return mi(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Za((function(t,e){return Li(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Se.get(o);if(a.maybeDocument){var u=ju(e.Ve.D,a.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=ic(u);r+=c-s,n.push(e.Ve.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=ju(e.Ve.D,new wo(o,oa.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))})),n.push(this.Ve.updateMetadata(t,r)),Su.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next((function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next((function(t){var e=t.ve;return t.Pe.forEach((function(t,e){n.Se.set(t,e)})),e}))},e}(Ec);function _c(t){return Lu(t,lu.store)}function Ac(t){return Lu(t,cu.store)}function Cc(t){return t.path.toArray()}var Nc=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;Ni(n<r&&n>=0&&r<=11);var o=new Eu("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ru.store)}(t),function(t){t.createObjectStore(iu.store,{keyPath:iu.keyPath}),t.createObjectStore(ou.store,{keyPath:ou.keyPath,autoIncrement:!0}).createIndex(ou.userMutationsIndex,ou.userMutationsKeyPath,{unique:!0}),t.createObjectStore(au.store)}(t),Dc(t),function(t){t.createObjectStore(cu.store)}(t));var a=Su.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(fu.store),t.deleteObjectStore(hu.store),t.deleteObjectStore(du.store)}(t),Dc(t)),a=a.next((function(){return function(t){var e=t.store(du.store),n=new du(0,0,oa.min().toTimestamp(),0);return e.put(du.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ou.store).kt().next((function(n){t.deleteObjectStore(ou.store),t.createObjectStore(ou.store,{keyPath:ou.keyPath,autoIncrement:!0}).createIndex(ou.userMutationsIndex,ou.userMutationsKeyPath,{unique:!0});var r=e.store(ou.store),i=n.map((function(t){return r.put(t)}));return Su.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(gu.store,{keyPath:gu.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.De(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(lu.store)}(t),i.Ce(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Ne(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(cu.store);e.createIndex(cu.readTimeIndex,cu.readTimeIndexPath,{unique:!1}),e.createIndex(cu.collectionReadTimeIndex,cu.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(vu.store,{keyPath:vu.keyPath})}(t),function(t){t.createObjectStore(mu.store,{keyPath:mu.keyPath})}(t)}))),a},t.prototype.Ce=function(t){var e=0;return t.store(cu.store).qt((function(t,n){e+=ic(n)})).next((function(){var n=new lu(e);return t.store(lu.store).put(lu.key,n)}))},t.prototype.De=function(t){var e=this,n=t.store(iu.store),r=t.store(ou.store);return n.kt().next((function(n){return Su.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(ou.userMutationsIndex,i).next((function(r){return Su.forEach(r,(function(r){Ni(r.userId===n.userId);var i=Gu(e.D,r);return rc(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.xe=function(t){var e=t.store(fu.store),n=t.store(cu.store);return t.store(du.store).get(du.key).next((function(t){var r=[];return n.qt((function(n,i){var o=new Hi(n),a=function(t){return[0,Qs(t)]}(o);r.push(e.get(a).next((function(n){return n?Su.resolve():function(n){return e.put(new fu(0,Qs(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Su.waitFor(r)}))}))},t.prototype.Ne=function(t,e){t.createObjectStore(pu.store,{keyPath:pu.keyPath});var n=e.store(pu.store),r=new Qu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Qs(i)})}};return e.store(cu.store).qt({Bt:!0},(function(t,e){var n=new Hi(t);return i(n.popLast())})).next((function(){return e.store(au.store).qt({Bt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],eu(n));return i(r.popLast())}))}))},t.prototype.$e=function(t){var e=this,n=t.store(hu.store);return n.qt((function(t,r){var i=Hu(r),o=Wu(e.D,i);return n.put(o)}))},t}();function Dc(t){t.createObjectStore(fu.store,{keyPath:fu.keyPath}).createIndex(fu.documentTargetsIndex,fu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(hu.store,{keyPath:hu.keyPath}).createIndex(hu.queryTargetsIndexName,hu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(du.store)}var xc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Oc=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new Ki(qi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wc(this,i),this.We=n+"main",this.D=new Fu(u),this.je=new Tu(this.We,11,new Nc(this.D)),this.Ge=new hc(this.referenceDelegate,this.D),this.Gt=new $u,this.ze=function(t,e){return new Tc(t,e)}(this.D,this.Gt),this.He=new Yu,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ki(qi.FAILED_PRECONDITION,xc);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ge.getHighestSequenceNumber(e)}))})).then((function(e){t.Me=new Ii(e,t.Oe)})).then((function(){t.Le=!0})).catch((function(e){return t.je&&t.je.close(),Promise.reject(e)}))},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return yi(e,void 0,void 0,(function(){return bi(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct((function(n){return yi(e,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget((function(){return yi(e,void 0,void 0,(function(){return bi(this,(function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Pc(e).put(new gu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nn(e).next((function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable((function(){return t.Ke(!1)})))}))})).next((function(){return t.sn(e)})).next((function(n){return t.isPrimary&&!n?t.rn(e).next((function(){return!1})):!!n&&t.on(e).next((function(){return!0}))}))})).catch((function(e){if(Au(e))return Ti("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ti("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable((function(){return t.Ke(e)})),t.isPrimary=e}))},t.prototype.nn=function(t){var e=this;return Lc(t).get(ru.key).next((function(t){return Su.resolve(e.cn(t))}))},t.prototype.an=function(t){return Pc(t).delete(this.clientId)},t.prototype.un=function(){return yi(this,void 0,void 0,(function(){var t,e,n,r,i=this;return bi(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Lu(t,gu.store);return e.kt().next((function(t){var n=i.ln(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Su.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Je)for(e=0,n=t;e<n.length;e++)r=n[e],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.Ye().then((function(){return t.un()})).then((function(){return t.tn()}))}))},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Su.resolve(!0):Lc(t).get(ru.key).next((function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new Ki(qi.FAILED_PRECONDITION,xc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Pc(t).kt().next((function(t){return void 0===e.ln(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ti("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return yi(this,void 0,void 0,(function(){var t=this;return bi(this,(function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[ru.store,gu.store],(function(e){var n=new Ou(e,Ii.o);return t.rn(n).next((function(){return t.an(n)}))}))];case 1:return e.sent(),this.je.close(),this.yn(),[2]}}))}))},t.prototype.ln=function(t,e){var n=this;return t.filter((function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)}))},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Pc(e).kt().next((function(e){return t.ln(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return oc.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Ti("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.je.runTransaction(t,o,yu,(function(o){return i=new Ou(o,r.Me?r.Me.next():Ii.o),"readwrite-primary"===e?r.nn(i).next((function(t){return!!t||r.sn(i)})).next((function(e){if(!e)throw ki("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new Ki(qi.FAILED_PRECONDITION,bu);return n(i)})).next((function(t){return r.on(i).next((function(){return t}))})):r.pn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.pn=function(t){var e=this;return Lc(t).get(ru.key).next((function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ki(qi.FAILED_PRECONDITION,xc)}))},t.prototype.on=function(t){var e=new ru(this.clientId,this.allowTabSynchronization,Date.now());return Lc(t).put(ru.key,e)},t.At=function(){return Tu.At()},t.prototype.rn=function(t){var e=this,n=Lc(t);return n.get(ru.key).next((function(t){return e.cn(t)?(Ti("IndexedDbPersistence","Releasing primary lease."),n.delete(ru.key)):Su.resolve()}))},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ki("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Ti("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ki("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){ki("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Lc(t){return Lu(t,ru.store)}function Pc(t){return Lu(t,gu.store)}function Rc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mc=function(t,e){this.progress=t,this.En=e},Fc=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.An(t,e,r)}))},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},t.prototype.Rn=function(t,e,n){var r=es();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next((function(e){return n.vn(t,e)}))},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.Rn(t,e,r),o=ts();return i.forEach((function(t,e){e||(e=new wo(t,oa.min())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Yi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Xo(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Yi(e)).next((function(t){var e=rs();return t instanceof bo&&(e=e.insert(t.key,t)),e}))},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=rs();return this.Gt.getCollectionParents(t,i).next((function(a){return Su.forEach(a,(function(a){var s=function(t,e){return new qo(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sn(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Dn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=xa(u,r.get(c),o.localWriteTime);r=l instanceof bo?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){na(e,n)||(r=r.remove(t))})),r}))},t.prototype.Dn=function(t,e,n){for(var r=ss(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ma&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof bo&&(c=c.insert(t,e))})),c}))},t}(),Uc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=ss(),i=ss(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),jc=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(oa.min())?this.On(t,e):this.Fn.bn(t,r).next((function(o){var a=i.kn(e,o);return(Ho(e)||Wo(e))&&i.Mn(e.limitType,a,r,n)?i.On(t,e):(Ei()<=ut.in.DEBUG&&Ti("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ea(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.kn=function(t,e){var n=new Za(ra(t));return e.forEach((function(e,r){r instanceof bo&&na(t,r)&&(n=n.add(r))})),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Ei()<=ut.in.DEBUG&&Ti("QueryEngine","Using full collection scan to execute query:",ea(e)),this.Fn.getDocumentsMatchingQuery(t,e,oa.min())},t}(),Vc=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Ya(Li),this.qn=new Sc((function(t){return To(t)}),ko),this.Un=oa.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new Fc(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Bn)}))},t}();function Bc(t,e,n,r){return new Vc(t,e,n,r)}function qc(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o;return bi(this,(function(a){switch(a.label){case 0:return n=Di(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Tn.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Fc(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=ss(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var v=0,m=g.mutations;v<m.length;v++){var y=m[v];a=a.add(y.key)}}return i.bn(t,a).next((function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function Kc(t,e){var n=Di(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Su.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=e,a=n.docVersions.get(t);Ni(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)}))})),a.next((function(){return t.Tn.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}function Gc(t){var e=Di(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ge.getLastRemoteSnapshotVersion(t)}))}function Hc(t,e){var n=Di(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ni(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.Ge.updateTargetData(t,c))}}}));var s=ts();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Wc(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(oa.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next((function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Su.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Kn.vn(t,s)}))})).then((function(t){return n.Bn=i,t}))}function Wc(t,e,n,r,i){var o=ss();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ts();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof wo&&a.version.isEqual(oa.min())?(e.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Ti("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function zc(t,e){var n=Di(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)}))}function Yc(t,e){var n=Di(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ge.getTargetData(t,e).next((function(i){return i?(r=i,Su.resolve(r)):n.Ge.allocateTargetId(t).next((function(i){return r=new Mu(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}function Xc(t,e,n){return yi(this,void 0,void 0,(function(){var r,i,o,a;return bi(this,(function(s){switch(s.label){case 0:r=Di(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Au(a=s.sent()))throw a;return Ti("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}}))}))}function Jc(t,e,n){var r=Di(t),i=oa.min(),o=ss();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Di(t),i=r.qn.get(n);return void 0!==i?Su.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Zo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:oa.min(),n?o:ss())})).next((function(t){return{documents:t,jn:o}}))}))}function Zc(t,e){var n=Di(t),r=Di(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.yt(t,e).next((function(t){return t?t.target:null}))}))}function Qc(t){var e=Di(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Di(t),i=ts(),o=Vu(n),a=Ac(e),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:cu.readTimeIndex,range:s},(function(t,e){var n=Uu(r.D,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{En:i,readTime:Bu(o)}}))}(e.Qn,t,e.Un)})).then((function(t){var n=t.En,r=t.readTime;return e.Un=r,n}))}function $c(t){return yi(this,void 0,void 0,(function(){var e;return bi(this,(function(n){return[2,(e=Di(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ac(t),n=oa.min();return e.qt({index:cu.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Bu(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Un=t}))]}))}))}function tl(t,e,n,r){return yi(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return bi(this,(function(p){switch(p.label){case 0:for(i=Di(t),o=ss(),a=ts(),s=os(),u=0,c=n;u<c.length;u++)l=c[u],h=e.Gn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.zn(l)),s=s.insert(h,e.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Yc(i,function(t){return Zo(Go(Hi.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Wc(t,f,a,oa.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.Ge.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Kn.vn(t,e)}))}))}))]}}))}))}function el(t,e,n){return void 0===n&&(n=ss()),yi(this,void 0,void 0,(function(){var r,i;return bi(this,(function(o){switch(o.label){case 0:return[4,Yc(t,Zo(zu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Di(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=ks(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var a=r.withResumeToken(Xi.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(t,a).next((function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(t,e)}))}))]}}))}))}var nl=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Su.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:ks(n.createTime)}),Su.resolve()},t.prototype.getNamedQuery=function(t,e){return Su.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:zu(t.bundledQuery),readTime:ks(t.readTime)}}(e)),Su.resolve()},t}(),rl=function(){function t(){this.Xn=new Za(il.Zn),this.ts=new Za(il.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new il(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.ss(new il(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.os=function(t){var e=this,n=new Yi(new Hi([])),r=new il(n,t),i=new il(n,t+1),o=[];return this.ts.forEachInRange([r,i],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Xn.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Yi(new Hi([])),n=new il(e,t),r=new il(e,t+1),i=ss();return this.ts.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new il(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),il=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Yi.comparator(t.key,e.key)||Li(t.hs,e.hs)},t.es=function(t,e){return Li(t.hs,e.hs)||Yi.comparator(t.key,e.key)},t}(),ol=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Za(il.Zn)}return t.prototype.checkEmpty=function(t){return Su.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new Pu(i,e,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new il(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Su.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Su.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.ws(n),i=r<0?0:r;return Su.resolve(this.Tn.length>i?this.Tn[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Su.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Su.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new il(e,0),i=new il(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(t){var e=n.ds(t.hs);o.push(e)})),Su.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Za(Li);return e.forEach((function(t){var e=new il(t,0),i=new il(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],(function(t){r=r.add(t.hs)}))})),Su.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Yi.isDocumentKey(i)||(i=i.child(""));var o=new il(new Yi(i),0),a=new Za(Li);return this.fs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.hs)),!0)}),o),Su.resolve(this._s(a))},t.prototype._s=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.ds(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ni(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Su.forEach(e.mutations,(function(i){var o=new il(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.fs=r}))},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new il(e,0),r=this.fs.firstAfterOrEqual(n);return Su.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this.Tn.length,Su.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),al=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Ya(Yi.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Su.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=es();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),Su.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=rs(),i=new Yi(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof bo&&na(e,c)&&(r=r.insert(c.key,c))}return Su.resolve(r)},t.prototype.ps=function(t,e){return Su.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new sl(this)},t.prototype.getSize=function(t){return Su.resolve(this.size)},t}(),sl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return mi(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)})),Su.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Ec),ul=function(){function t(t){this.persistence=t,this.Es=new Sc((function(t){return To(t)}),ko),this.lastRemoteSnapshotVersion=oa.min(),this.highestTargetId=0,this.Ts=0,this.Is=new rl,this.targetCount=0,this.As=lc.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach((function(t,n){return e(n)})),Su.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Su.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Su.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Su.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Su.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new lc(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Su.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Su.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Su.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Su.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Su.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Su.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Su.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Su.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Su.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Su.resolve(n)},t.prototype.containsKey=function(t,e){return Su.resolve(this.Is.containsKey(e))},t}(),cl=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Ii(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new ul(this),this.Gt=new Zu,this.ze=function(t,e){return new al(t,(function(t){return n.referenceDelegate.bs(t)}))}(this.Gt),this.D=new Fu(e),this.He=new nl(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new ol(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Ti("MemoryPersistence","Starting transaction:",t);var i=new ll(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(t){return r.referenceDelegate.Ps(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Vs=function(t,e){return Su.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ll=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return mi(e,t),e}(wu),hl=function(){function t(t){this.persistence=t,this.Ss=new rl,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Ci()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Su.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Su.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Su.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach((function(t){return n.xs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.xs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Su.forEach(this.xs,(function(r){var i=Yi.fromPath(r);return e.Ns(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Ds=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next((function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())}))},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Su.or([function(){return Su.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),fl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function dl(t,e){return"firestore_clients_"+t+"_"+e}function pl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function gl(t,e){return"firestore_targets_"+t+"_"+e}fl.UNAUTHENTICATED=new fl(null),fl.GOOGLE_CREDENTIALS=new fl("google-credentials-uid"),fl.FIRST_PARTY=new fl("first-party-uid");var vl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ki(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(ki("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ml=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ki(i.error.code,i.error.message)),o?new t(e,i.state,r):(ki("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cs(),a=0;i&&a<r.activeTargetIds.length;++a)i=Bi(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(ki("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),bl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ki("SharedClientState","Failed to parse online state: "+e),null)},t}(),wl=function(){function t(){this.activeTargetIds=cs()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Il=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Ya(Li),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=dl(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new wl),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return yi(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return bi(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(dl(this.persistenceKey,r)))&&(o=yl.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)l=c[u],this.Bs(l);return this.Us=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(gl(this.persistenceKey,t));if(n){var r=ml.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(gl(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.ei(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ti("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ti("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ti("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ti("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return yi(e,void 0,void 0,(function(){var t,e,r,i,o,a;return bi(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(t){var e=Ii.o;if(null!=t)try{var n=JSON.parse(t);Ni("number"==typeof n),e=n}catch(t){ki("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ii.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new vl(this.currentUser,t,e,n),i=pl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=pl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){var e={clientId:this.Ms,onlineState:t};this.storage.setItem(this.zs,JSON.stringify(e))},t.prototype.si=function(t,e,n){var r=gl(this.persistenceKey,t),i=new ml(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return yl.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vl.$s(new fl(i),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return ml.$s(r,e)},t.prototype.Ys=function(t){return bl.$s(t)},t.prototype.hi=function(t){return yi(this,void 0,void 0,(function(){return bi(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Ti("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=cs();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Sl=function(){function t(){this.yi=new wl,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new wl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),El=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Tl=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Ti("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Ti("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),kl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_l=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Al=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return mi(e,t),e.prototype.qi=function(t,e,n,r){return new Promise((function(i,o){var a=new gi;a.listenOnce(li.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ci.NO_ERROR:var e=a.getResponseJson();Ti("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ci.TIMEOUT:Ti("Connection",'RPC "'+t+'" timed out'),o(new Ki(qi.DEADLINE_EXCEEDED,"Request time out"));break;case ci.HTTP_ERROR:var n=a.getStatus();if(Ti("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(qi).indexOf(e)>=0?e:qi.UNKNOWN}(r.status);o(new Ki(s,r.message))}else o(new Ki(qi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ki(qi.UNAVAILABLE,"Connection failed."));break;default:Ci()}}finally{Ti("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ii,i=an(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),(0,ct.uI)()||(0,ct.b$)()||(0,ct.d)()||(0,ct.w1)()||(0,ct.Mn)()||(0,ct.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ti("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new _l({vi:function(t){c?Ti("Connection","Not sending because WebChannel is closed:",t):(u||(Ti("Connection","Opening WebChannel transport."),s.open(),u=!0),Ti("Connection","WebChannel sending:",t),s.send(t))},Pi:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,pi.EventType.OPEN,(function(){c||Ti("Connection","WebChannel transport opened.")})),h(s,pi.EventType.CLOSE,(function(){c||(c=!0,Ti("Connection","WebChannel transport closed"),l.$i())})),h(s,pi.EventType.ERROR,(function(t){c||(c=!0,_i("Connection","WebChannel transport errored:",t),l.$i(new Ki(qi.UNAVAILABLE,"The operation could not be completed")))})),h(s,pi.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ni(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ti("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Ba[t];if(void 0!==e)return za(e)}(o),u=i.message;void 0===a&&(a=qi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.$i(new Ki(a,u)),s.close()}else Ti("Connection","WebChannel received:",n),l.Fi(n)}})),h(i,hi.STAT_EVENT,(function(t){t.stat===fi?Ti("Connection","Detected buffering proxy"):t.stat===di&&Ti("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ni()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Oi=e+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Ti("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then((function(t){return Ti("RestConnection","Received: ",t),t}),(function(e){throw _i("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){var n=kl[t];return this.Oi+"/v1/"+e+":"+n},t}());function Cl(){return"undefined"!=typeof window?window:null}function Nl(){return"undefined"!=typeof document?document:null}function Dl(t){return new Is(t,!0)}var xl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Ti("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return e.Hi=Date.now(),t()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),Ol=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new xl(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return yi(this,void 0,void 0,(function(){return bi(this,(function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return t.dr()})))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return yi(this,void 0,void 0,(function(){return bi(this,(function(t){return this.ar()?[2,this.close(0)]:[2]}))}))},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return yi(this,void 0,void 0,(function(){return bi(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===qi.RESOURCE_EXHAUSTED?(ki(e.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===qi.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(e){t.sr===n&&t.gr(e)}),(function(n){e((function(){var e=new Ki(qi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)}))}))},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi((function(){n((function(){return e.state=2,e.listener.Vi()}))})),this.stream.Di((function(t){n((function(){return e.pr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi((function(){return yi(t,void 0,void 0,(function(){return bi(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.pr=function(t){return Ti("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget((function(){return e.sr===t?n():(Ti("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ll=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return mi(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ci()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(Ni(void 0===e||"string"==typeof e),Xi.fromBase64String(e||"")):(Ni(void 0===e||e instanceof Uint8Array),Xi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?qi.UNKNOWN:za(t.code);return new Ki(e,t.message||"")}(s);n=new ps(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Ns(t,r.document.name),o=ks(r.document.updateTime);var s=new sa({mapValue:{fields:r.document.fields}}),u=(a=new bo(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new fs(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Ns(t,r.document),o=r.readTime?ks(r.readTime):oa.min(),s=new wo(i,o),a=r.removedTargetIds||[],n=new fs([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Ns(t,r.document),o=r.removedTargetIds||[],n=new fs([],o,i,null);else{if(!("filter"in e))return Ci();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Ha(r),o=l.targetId,n=new ds(o,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return oa.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?oa.min():e.readTime?ks(e.readTime):oa.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=Os(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=_o(r)?{documents:Us(t,r)}:{query:js(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Es(t,e.resumeToken):e.snapshotVersion.compareTo(oa.min())>0&&(n.readTime=Ss(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ci()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=Os(this.D),e.removeTarget=t,this.wr(e)},e}(Ol),Pl=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return mi(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(Ni(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(Ni(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ks(t.updateTime):ks(e);return n.isEqual(oa.min())&&(n=ks(e)),new _a(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ks(t.commitTime);return this.listener.Pr(n,e)}return Ni(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=Os(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ms(e.D,t)}))};this.wr(n)},e}(Ol),Rl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return mi(e,t),e.prototype.Cr=function(){if(this.Dr)throw new Ki(qi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(t,e,n,i)})).catch((function(t){throw t.code===qi.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(t,e,n,i)})).catch((function(t){throw t.code===qi.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Dr=!1},e}((function(){})),Ml=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()})))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(ki(e),this.Fr=!1):Ti("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),Fl=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(t){n.enqueueAndForget((function(){return yi(o,void 0,void 0,(function(){return bi(this,(function(t){switch(t.label){case 0:return Wl(this)?(Ti("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return yi(this,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return(e=Di(t)).Qr.add(4),[4,jl(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Ul(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.jr=new Ml(n,r)};function Ul(t){return yi(this,void 0,void 0,(function(){var e,n;return bi(this,(function(r){switch(r.label){case 0:if(!Wl(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jl(t){return yi(this,void 0,void 0,(function(){var e,n;return bi(this,(function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Vl(t,e){var n=Di(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Hl(n)?Gl(n):sh(n).ar()&&ql(n,e))}function Bl(t,e){var n=Di(t),r=sh(n);n.Ur.delete(e),r.ar()&&Kl(n,e),0===n.Ur.size&&(r.ar()?r.lr():Wl(n)&&n.jr.set("Unknown"))}function ql(t,e){t.Gr.H(e.targetId),sh(t).Ir(e)}function Kl(t,e){t.Gr.H(e),sh(t).Ar(e)}function Gl(t){t.Gr=new vs({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),sh(t).start(),t.jr.Or()}function Hl(t){return Wl(t)&&!sh(t).cr()&&t.Ur.size>0}function Wl(t){return 0===Di(t).Qr.size}function zl(t){t.Gr=void 0}function Yl(t){return yi(this,void 0,void 0,(function(){return bi(this,(function(e){return t.Ur.forEach((function(e,n){ql(t,e)})),[2]}))}))}function Xl(t,e){return yi(this,void 0,void 0,(function(){return bi(this,(function(n){return zl(t),Hl(t)?(t.jr.Lr(e),Gl(t)):t.jr.set("Unknown"),[2]}))}))}function Jl(t,e,n){return yi(this,void 0,void 0,(function(){var r,i,o;return bi(this,(function(a){switch(a.label){case 0:if(t.jr.set("Online"),!(e instanceof ps&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o;return bi(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Ur.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ti("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Zl(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof fs?t.Gr.st(e):e instanceof ds?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(oa.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Gc(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(Xi.EMPTY_BYTE_STRING,n.snapshotVersion)),Kl(t,e);var r=new Mu(n.target,e,1,n.sequenceNumber);ql(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ti("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Zl(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Zl(t,e,n){return yi(this,void 0,void 0,(function(){var r=this;return bi(this,(function(i){switch(i.label){case 0:if(!Au(e))throw e;return t.Qr.add(1),[4,jl(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return Gc(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return yi(r,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return Ti("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Ul(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ql(t,e){return e().catch((function(n){return Zl(t,n,e)}))}function $l(t){return yi(this,void 0,void 0,(function(){var e,n,r,i,o;return bi(this,(function(a){switch(a.label){case 0:e=Di(t),n=uh(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Wl(t)&&t.qr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,zc(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=uh(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Zl(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return th(e)&&eh(e),[2]}}))}))}function th(t){return Wl(t)&&!uh(t).cr()&&t.qr.length>0}function eh(t){uh(t).start()}function nh(t){return yi(this,void 0,void 0,(function(){return bi(this,(function(e){return uh(t).Sr(),[2]}))}))}function rh(t){return yi(this,void 0,void 0,(function(){var e,n,r,i;return bi(this,(function(o){for(e=uh(t),n=0,r=t.qr;n<r.length;n++)i=r[n],e.vr(i.mutations);return[2]}))}))}function ih(t,e,n){return yi(this,void 0,void 0,(function(){var r,i;return bi(this,(function(o){switch(o.label){case 0:return r=t.qr.shift(),i=Ru.from(r,e,n),[4,Ql(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,$l(t)];case 2:return o.sent(),[2]}}))}))}function oh(t,e){return yi(this,void 0,void 0,(function(){return bi(this,(function(n){switch(n.label){case 0:return e&&uh(t).br?[4,function(t,e){return yi(this,void 0,void 0,(function(){var n,r;return bi(this,(function(i){switch(i.label){case 0:return Wa(r=e.code)&&r!==qi.ABORTED?(n=t.qr.shift(),uh(t).hr(),[4,Ql(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,$l(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return th(t)&&eh(t),[2]}}))}))}function ah(t,e){return yi(this,void 0,void 0,(function(){var n;return bi(this,(function(r){switch(r.label){case 0:return n=Di(t),e?(n.Qr.delete(2),[4,Ul(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,jl(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function sh(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=Di(t);return r.Cr(),new Ll(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Yl.bind(null,t),Di:Xl.bind(null,t),Tr:Jl.bind(null,t)}),t.Kr.push((function(n){return yi(e,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return n?(t.zr.hr(),Hl(t)?Gl(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),zl(t),e.label=3;case 3:return[2]}}))}))}))),t.zr}function uh(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=Di(t);return r.Cr(),new Pl(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:nh.bind(null,t),Di:oh.bind(null,t),Vr:rh.bind(null,t),Pr:ih.bind(null,t)}),t.Kr.push((function(n){return yi(e,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,$l(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Ti("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Hr}var ch=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Iu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ki(qi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function lh(t,e){if(ki("AsyncQueue",e+": "+t),Au(t))return new Ki(qi.UNAVAILABLE,e+": "+t);throw t}var hh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Yi.comparator(e.key,n.key)}:function(t,e){return Yi.comparator(t.key,e.key)},this.keyedMap=rs(),this.sortedSet=new Ya(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),fh=function(){function t(){this.Jr=new Ya(Yi.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Ci():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),dh=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,hh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$o(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ph=function(){this.Xr=void 0,this.listeners=[]},gh=function(){this.queries=new Sc((function(t){return ta(t)}),$o),this.onlineState="Unknown",this.Zr=new Set};function vh(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return bi(this,(function(c){switch(c.label){case 0:if(n=Di(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ph),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=lh(s,"Initialization of query '"+ea(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&wh(n),[2]}}))}))}function mh(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o,a;return bi(this,(function(s){return n=Di(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function yh(t,e){for(var n=Di(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(a)&&(r=!0);u.Xr=a}}r&&wh(n)}function bh(t,e,n){var r=Di(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function wh(t){t.Zr.forEach((function(t){t.next()}))}var Ih=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new dh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.uo&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){if(t.docChanges.length>0)return!0;var e=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=dh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Sh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Eh=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return Ns(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?Rs(this.D,t.document,!1):new wo(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return ks(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Eh(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||ss()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return yi(this,void 0,void 0,(function(){var t,e,n,r,i;return bi(this,(function(o){switch(o.label){case 0:return[4,tl(this.localStore,new Eh(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,el(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mc(Object.assign({},this.progress),t))]}}))}))}}();var Th=function(t){this.key=t},kh=function(t){this.key=t},_h=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=ss(),this.mutatedKeys=ss(),this.po=ra(t),this.Eo=new hh(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new fh,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ho(this.query)&&i.size===this.query.limit?i.last():null,c=Wo(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=e instanceof bo?e:null;h&&(h=na(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Ho(this.query)||Wo(this.query))for(;a.size>this.query.limit;){var l=Ho(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ci()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)})),this.bo(n);var a=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new dh(this.query,t.Eo,i,o,t.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new fh,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._o=e._o.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e._o=e._o.delete(t)})),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=ss(),this.Eo.forEach((function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))}));var n=[];return e.forEach((function(e){t.yo.has(e)||n.push(new kh(e))})),this.yo.forEach((function(t){e.has(t)||n.push(new Th(t))})),n},t.prototype.So=function(t){this._o=t.jn,this.yo=ss();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return dh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Ah=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ch=function(t){this.key=t,this.Co=!1},Nh=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Sc((function(t){return ta(t)}),$o),this.$o=new Map,this.Fo=new Set,this.Oo=new Ya(Yi.comparator),this.ko=new Map,this.Mo=new rl,this.Lo={},this.Bo=new Map,this.qo=lc.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Dh(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bi(this,(function(u){switch(u.label){case 0:return n=af(t),(o=n.No.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,Yc(n.localStore,Zo(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,xh(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Vl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function xh(t,e,n,r){return yi(this,void 0,void 0,(function(){var i,o,a,s,u,c;return bi(this,(function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return yi(this,void 0,void 0,(function(){var i,o,a;return bi(this,(function(s){switch(s.label){case 0:return(i=e.view.Io(n)).Mn?[4,Jc(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view.Io(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Gh(t,e.targetId,a.Po),a.snapshot)]}}))}))}(t,e,n,r)},[4,Jc(t.localStore,e,!0)];case 1:return i=l.sent(),o=new _h(e,i.jn),a=o.Io(i.documents),s=hs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Gh(t,n,u.Po),c=new Ah(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}}))}))}function Oh(t,e){return yi(this,void 0,void 0,(function(){var n,r,i;return bi(this,(function(o){switch(o.label){case 0:return n=Di(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(t){return!$o(t,e)}))),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Xc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Bl(n.remoteStore,r.targetId),qh(n,r.targetId)})).catch(gc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return qh(n,r.targetId),[4,Xc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Lh(t,e,n){return yi(this,void 0,void 0,(function(){var r,i,o,a;return bi(this,(function(s){switch(s.label){case 0:r=sf(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Di(t),i=to.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ss());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Kn.bn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Oa(c,n.get(c.key));null!=l&&a.push(new Ma(c.key,l,ca(l.proto.mapValue),Aa.exists(!0)))}return r.Tn.addMutationBatch(t,i,a,e)}))})).then((function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Ya(Li)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,zh(r,i.changes)];case 3:return s.sent(),[4,$l(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=lh(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Ph(t,e){return yi(this,void 0,void 0,(function(){var n,r;return bi(this,(function(i){switch(i.label){case 0:n=Di(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Hc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.ko.get(e);r&&(Ni(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?Ni(r.Co):t.removedDocuments.size>0&&(Ni(r.Co),r.Co=!1))})),[4,zh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Rh(t,e,n){var r=Di(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Di(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)})),r&&wh(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mh(t,e,n){return yi(this,void 0,void 0,(function(){var r,i,o,a,s,u;return bi(this,(function(c){switch(c.label){case 0:return(r=Di(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(a=(a=new Ya(Yi.comparator)).insert(o,new wo(o,oa.min())),s=ss().add(o),u=new ls(oa.min(),new Map,new Za(Li),a,s),[4,Ph(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),Wh(r),[3,4];case 2:return[4,Xc(r.localStore,e,!1).then((function(){return qh(r,e,n)})).catch(gc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Fh(t,e){return yi(this,void 0,void 0,(function(){var n,r,i;return bi(this,(function(o){switch(o.label){case 0:n=Di(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Kc(n.localStore,e)];case 2:return i=o.sent(),Bh(n,r,null),Vh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,zh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Uh(t,e,n){return yi(this,void 0,void 0,(function(){var r,i;return bi(this,(function(o){switch(o.label){case 0:r=Di(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Di(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Tn.lookupMutationBatch(t,e).next((function(e){return Ni(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Bh(r,e,n),Vh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,zh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jh(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o,a;return bi(this,(function(s){switch(s.label){case 0:Wl((n=Di(t)).remoteStore)||Ti("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Di(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=lh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Vh(t,e){(t.Bo.get(e)||[]).forEach((function(t){t.resolve()})),t.Bo.delete(e)}function Bh(t,e,n){var r=Di(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function qh(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach((function(e){t.Mo.containsKey(e)||Kh(t,e)}))}function Kh(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(Bl(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Wh(t))}function Gh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Th?(t.Mo.addReference(o.key,e),Hh(t,o)):o instanceof kh?(Ti("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Kh(t,o.key)):Ci()}}function Hh(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Ti("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Wh(t))}function Wh(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Yi(Hi.fromString(e)),r=t.qo.next();t.ko.set(r,new Ch(n)),t.Oo=t.Oo.insert(n,r),Vl(t.remoteStore,new Mu(Zo(Go(n.path)),r,2,Ii.o))}}function zh(t,e,n){return yi(this,void 0,void 0,(function(){var r,i,o,a;return bi(this,(function(s){switch(s.label){case 0:return r=Di(t),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(t,s){a.push(r.Qo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Uc.Nn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return bi(this,(function(h){switch(h.label){case 0:n=Di(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Su.forEach(e,(function(e){return Su.forEach(e.Cn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Su.forEach(e.xn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Au(r=h.sent()))throw r;return Ti("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Bn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Bn=n.Bn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Yh(t,e){return yi(this,void 0,void 0,(function(){var n,r;return bi(this,(function(i){switch(i.label){case 0:return(n=Di(t)).currentUser.isEqual(e)?[3,3]:(Ti("SyncEngine","User change. New user:",e.toKey()),[4,qc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach((function(t){t.forEach((function(t){t.reject(new Ki(qi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,zh(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Xh(t,e){var n=Di(t),r=n.ko.get(e);if(r&&r.Co)return ss().add(r.key);var i=ss(),o=n.$o.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.No.get(u);i=i.unionWith(c.view.To)}return i}function Jh(t,e){return yi(this,void 0,void 0,(function(){var n,r,i;return bi(this,(function(o){switch(o.label){case 0:return[4,Jc((n=Di(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&Gh(n,e.targetId,i.Po),i)]}}))}))}function Zh(t){return yi(this,void 0,void 0,(function(){var e;return bi(this,(function(n){return[2,Qc((e=Di(t)).localStore).then((function(t){return zh(e,t)}))]}))}))}function Qh(t,e,n,r){return yi(this,void 0,void 0,(function(){var i,o;return bi(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Di(t),r=Di(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Jt(t,e).next((function(e){return e?n.Kn.bn(t,e):Su.resolve(null)}))}))}((i=Di(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,$l(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Bh(i,e,r||null),Vh(i,e),function(t,e){Di(Di(t).Tn).Xt(e)}(i.localStore,e)):Ci(),a.label=4;case 4:return[4,zh(i,o)];case 5:return a.sent(),[3,7];case 6:Ti("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function $h(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return bi(this,(function(l){switch(l.label){case 0:return af(n=Di(t)),sf(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,tf(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,ah(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Vl(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(u=[],c=Promise.resolve(),n.$o.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return qh(n,e),Xc(n.localStore,e,!0)})),Bl(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,tf(n,u)];case 5:return l.sent(),function(t){var e=Di(t);e.ko.forEach((function(t,n){Bl(e.remoteStore,n)})),e.Mo.cs(),e.ko=new Map,e.Oo=new Ya(Yi.comparator)}(n),n.Uo=!1,[4,ah(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function tf(t,e,n){return yi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,g;return bi(this,(function(v){switch(v.label){case 0:n=Di(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.$o.get(s))&&0!==c.length?[4,Yc(n.localStore,Zo(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=h[l],d=n.No.get(f),[4,Jh(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Zc(n.localStore,s)];case 8:return g=v.sent(),[4,Yc(n.localStore,g)];case 9:return u=v.sent(),[4,xh(n,ef(g),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function ef(t){return Ko(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function nf(t){var e=Di(t);return Di(Di(e.localStore).persistence).gn()}function rf(t,e,n,r){return yi(this,void 0,void 0,(function(){var i,o,a;return bi(this,(function(s){switch(s.label){case 0:return(i=Di(t)).Uo?(Ti("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qc(i.localStore)];case 3:return o=s.sent(),a=ls.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,zh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Xc(i.localStore,e,!0)];case 6:return s.sent(),qh(i,e,r),[3,8];case 7:Ci(),s.label=8;case 8:return[2]}}))}))}function of(t,e,n){return yi(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return bi(this,(function(d){switch(d.label){case 0:if(!(r=af(t)).Uo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.$o.has(a)?(Ti("SyncEngine","Adding an already active target "+a),[3,5]):[4,Zc(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Yc(r.localStore,s)];case 3:return u=d.sent(),[4,xh(r,ef(s),u.targetId,!1)];case 4:d.sent(),Vl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return bi(this,(function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Xc(r.localStore,t,!1).then((function(){Bl(r.remoteStore,t),qh(r,t)})).catch(gc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function af(t){var e=Di(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ph.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mh.bind(null,e),e.xo.Tr=yh.bind(null,e.eventManager),e.xo.Ko=bh.bind(null,e.eventManager),e}function sf(t){var e=Di(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uh.bind(null,e),e}var uf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return yi(this,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return this.D=Dl(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}}))}))},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return Bc(this.persistence,new jc,t.initialUser,this.D)},t.prototype.Go=function(t){return new cl(hl.Cs,this.D)},t.prototype.jo=function(t){return new Sl},t.prototype.terminate=function(){return yi(this,void 0,void 0,(function(){return bi(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),cf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return mi(e,t),e.prototype.initialize=function(e){return yi(this,void 0,void 0,(function(){return bi(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$c(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,sf(this.Jo.syncEngine)];case 4:return n.sent(),[4,$l(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ho=function(t){return Bc(this.persistence,new jc,t.initialUser,this.D)},e.prototype.zo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new yc(e,t.asyncQueue)},e.prototype.Go=function(t){var e=Rc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nc.withCacheSize(this.cacheSizeBytes):nc.DEFAULT;return new Oc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Cl(),Nl(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Sl},e}(uf),lf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return mi(e,t),e.prototype.initialize=function(e){return yi(this,void 0,void 0,(function(){var n,r=this;return bi(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Il?(this.sharedClientState.syncEngine={wi:Qh.bind(null,n),_i:rf.bind(null,n),mi:of.bind(null,n),gn:nf.bind(null,n),di:Zh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(t){return yi(r,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return[4,$h(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jo=function(t){var e=Cl();if(!Il.At(e))throw new Ki(qi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Il(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cf),hf=function(){function t(){}return t.prototype.initialize=function(t,e){return yi(this,void 0,void 0,(function(){var n=this;return bi(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Rh(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Yh.bind(null,this.syncEngine),[4,ah(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new gh},t.prototype.createDatastore=function(t){var e,n=Dl(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Al(e));return function(t,e,n){return new Rl(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Rh(a.syncEngine,t,0)},o=Tl.At()?new Tl:new El,new Fl(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Nh(t,e,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return yi(this,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return e=Di(t),Ti("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,jl(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),ff=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),df=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Iu,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return yi(this,void 0,void 0,(function(){return bi(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Wo=function(){return yi(this,void 0,void 0,(function(){return bi(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}}))}))},t.prototype.ec=function(){return yi(this,void 0,void 0,(function(){var t,e,n,r;return bi(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Sh(JSON.parse(r),t.length+n)]}}))}))},t.prototype.rc=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.nc=function(){return yi(this,void 0,void 0,(function(){var t,e;return bi(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.ic=function(t){return yi(this,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return yi(this,void 0,void 0,(function(){var t,e;return bi(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return yi(this,void 0,void 0,(function(){var e,n=this;return bi(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ki(qi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return yi(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bi(this,(function(u){switch(u.label){case 0:return n=Di(t),r=Os(n.D)+"/documents",i={documents:e.map((function(t){return Cs(n.D,t)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ni(!!e.found),e.found.name,e.found.updateTime;var n=Ns(t,e.found.name),r=ks(e.found.updateTime),i=new sa({mapValue:{fields:e.found.fields}});return new bo(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ni(!!e.missing),Ni(!!e.readTime);var n=Ns(t,e.missing),r=ks(e.readTime);return new wo(n,r)}(t,e):Ci()}(n.D,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Ni(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof wo||t instanceof bo?n.recordVersion(t):Ci()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ka(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return yi(this,void 0,void 0,(function(){var t,e=this;return bi(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Yi.fromPath(n);e.mutations.push(new Ga(r,e.precondition(r)))})),[4,function(t,e){return yi(this,void 0,void 0,(function(){var n,r,i;return bi(this,(function(o){switch(o.label){case 0:return n=Di(t),r=Os(n.D)+"/documents",i={writes:e.map((function(t){return Ms(n.D,t)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof bo)e=t.version;else{if(!(t instanceof wo))throw Ci();e=oa.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ki(qi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Aa.updateTime(e):Aa.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(oa.min()))throw new Ki(qi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Aa.updateTime(e)}return Aa.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),pf=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new xl(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi((function(){return yi(t,void 0,void 0,(function(){var t,e,n=this;return bi(this,(function(r){return t=new df(this.datastore),(e=this.uc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.hc(t)}))}))})).catch((function(t){n.hc(t)})),[2]}))}))}))},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!ji(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return e.ac(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Wa(e)}return!1},t}(),gf=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=fl.UNAUTHENTICATED,this.clientId=Oi.u(),this.credentialListener=function(){},this.receivedInitialUser=new Iu,this.credentials.setChangeListener((function(t){Ti("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return yi(this,void 0,void 0,(function(){return bi(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ki(qi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Iu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return yi(t,void 0,void 0,(function(){var t,n;return bi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=lh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function vf(t,e){return yi(this,void 0,void 0,(function(){var n,r,i=this;return bi(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ti("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return yi(i,void 0,void 0,(function(){return bi(this,(function(t){switch(t.label){case 0:return[4,qc(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function mf(t,e){return yi(this,void 0,void 0,(function(){var n,r;return bi(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,yf(t)];case 1:return n=i.sent(),Ti("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return yi(this,void 0,void 0,(function(){var n,r;return bi(this,(function(i){switch(i.label){case 0:return(n=Di(t)).asyncQueue.verifyOperationInProgress(),Ti("RemoteStore","RemoteStore received new credentials"),r=Wl(n),n.Qr.add(3),[4,jl(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,Ul(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function yf(t){return yi(this,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ti("FirestoreClient","Using default OfflineComponentProvider"),[4,vf(t,new uf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function bf(t){return yi(this,void 0,void 0,(function(){return bi(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ti("FirestoreClient","Using default OnlineComponentProvider"),[4,mf(t,new hf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function wf(t){return yf(t).then((function(t){return t.persistence}))}function If(t){return yf(t).then((function(t){return t.localStore}))}function Sf(t){return bf(t).then((function(t){return t.remoteStore}))}function Ef(t){return bf(t).then((function(t){return t.syncEngine}))}function Tf(t){return yi(this,void 0,void 0,(function(){var e,n;return bi(this,(function(r){switch(r.label){case 0:return[4,bf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Dh.bind(null,e.syncEngine),n.onUnlisten=Oh.bind(null,e.syncEngine),n)]}}))}))}function kf(t,e,n){var r=this;void 0===n&&(n={});var i=new Iu;return t.asyncQueue.enqueueAndForget((function(){return yi(r,void 0,void 0,(function(){var r;return bi(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ff({next:function(o){e.enqueueAndForget((function(){return mh(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ki(qi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ki(qi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Ih(Go(n.path),o,{includeMetadataChanges:!0,uo:!0});return vh(t,a)},[4,Tf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function _f(t,e,n){var r=this;void 0===n&&(n={});var i=new Iu;return t.asyncQueue.enqueueAndForget((function(){return yi(r,void 0,void 0,(function(){var r;return bi(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ff({next:function(n){e.enqueueAndForget((function(){return mh(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Ki(qi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Ih(n,o,{includeMetadataChanges:!0,uo:!0});return vh(t,a)},[4,Tf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Af=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Cf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Nf=new Map,Df=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},xf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(fl.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Of=function(){function t(t){var e=this;this.fc=null,this.currentUser=fl.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then((function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.dc!==e?(Ti("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ni("string"==typeof n.accessToken),new Df(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return Ni(null===t||"string"==typeof t),new fl(t)},t}(),Lf=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=fl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Pf=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new Lf(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(fl.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Rf(t,e,n){if(!n)throw new Ki(qi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Mf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ki(qi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ff(t,e,n,r){if(!0===e&&!0===r)throw new Ki(qi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Uf(t){if(!Yi.isDocumentKey(t))throw new Ki(qi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function jf(t){if(Yi.isDocumentKey(t))throw new Ki(qi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Vf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ci()}function Bf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ki(qi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vf(t);throw new Ki(qi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function qf(t,e){if(e<=0)throw new Ki(qi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Kf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ki(qi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ki(qi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ff("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gf=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Kf({}),this._settingsFrozen=!1,t instanceof Cf?(this._databaseId=t,this._credentials=new xf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ki(qi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cf(t.options.projectId)}(t),this._credentials=new Of(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ki(qi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ki(qi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new xf;switch(t.type){case"gapi":var e=t.client;return Ni(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Pf(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ki(qi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Nf.get(this))&&(Ti("ComponentProvider","Removing Datastore"),Nf.delete(this),t.terminate()),Promise.resolve();var t},t}(),Hf=function(t){this._delegate=t},Wf=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yf(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),zf=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Go(r))||this).firestore=e,i._path=r,i.type="collection",i}return mi(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Wf(this.firestore,null,new Yi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(zf);function Xf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Hf&&(t=t._delegate),Rf("collection","path",e),t instanceof Gf)return jf(n=Hi.fromString.apply(Hi,wi([e],r))),new Yf(t,null,n);if(!(t instanceof Wf||t instanceof Yf))throw new Ki(qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jf(n=Hi.fromString.apply(Hi,wi([t.path],r)).child(Hi.fromString(e))),new Yf(t.firestore,null,n)}function Jf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Hf&&(t=t._delegate),1===arguments.length&&(e=Oi.u()),Rf("doc","path",e),t instanceof Gf)return Uf(n=Hi.fromString.apply(Hi,wi([e],r))),new Wf(t,null,new Yi(n));if(!(t instanceof Wf||t instanceof Yf))throw new Ki(qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uf(n=t._path.child(Hi.fromString.apply(Hi,wi([e],r)))),new Wf(t.firestore,t instanceof Yf?t._converter:null,new Yi(n))}function Zf(t,e){return t instanceof Hf&&(t=t._delegate),e instanceof Hf&&(e=e._delegate),(t instanceof Wf||t instanceof Yf)&&(e instanceof Wf||e instanceof Yf)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Qf(t,e){return t instanceof Hf&&(t=t._delegate),e instanceof Hf&&(e=e._delegate),t instanceof zf&&e instanceof zf&&t.firestore===e.firestore&&$o(t._query,e._query)&&t._converter===e._converter}var $f=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new xl(this,"async_queue_retry"),this.bc=function(){var e=Nl();e&&Ti("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Nl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Nl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise((function(t){})):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.gc.push(t),e.Vc()}))},t.prototype.Vc=function(){return yi(this,void 0,void 0,(function(){var t,e=this;return bi(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Au(t=n.sent()))throw t;return Ti("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return e.Vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Pc=function(t){var e=this,n=this.yc.then((function(){return e.Ac=!0,t().catch((function(t){throw e.Ic=t,e.Ac=!1,ki("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ac=!1,t}))}));return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=ch.createAndSchedule(this,t,e,n,(function(t){return r.Sc(t)}));return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&Ci()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return yi(this,void 0,void 0,(function(){var t;return bi(this,(function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then((function(){e.Tc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()}))},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function td(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Iu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new $f,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return mi(e,t),e.prototype._terminate=function(){return this._firestoreClient||rd(this),this._firestoreClient.terminate()},e}(Gf);function nd(t){return t._firestoreClient||rd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rd(t){var e=t._freezeSettings(),n=function(t,e,n){return new Af(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new gf(t._credentials,t._queue,n)}function id(t,e,n){var r=this,i=new Iu;return t.asyncQueue.enqueue((function(){return yi(r,void 0,void 0,(function(){var r;return bi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,vf(t,n)];case 1:return o.sent(),[4,mf(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===qi.FAILED_PRECONDITION||t.code===qi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function od(t){if(t._initialized||t._terminated)throw new Ki(qi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ad=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ki(qi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),sd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Xi.fromBase64String(e))}catch(e){throw new Ki(qi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Xi.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ud=function(t){this._methodName=t},cd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ki(qi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ki(qi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Li(this._lat,t._lat)||Li(this._long,t._long)},t}(),ld=/^__.*__$/,hd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ma(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ra(t,this.data,e,this.fieldTransforms)},t}(),fd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ma(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function dd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ci()}}var pd=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Pd(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(dd(this.Fc)&&ld.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),gd=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Dl(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new pd({Fc:t,methodName:e,Kc:n,path:zi.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function vd(t){var e=t._freezeSettings(),n=Dl(t._databaseId);return new gd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function md(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);Dd("Data must be an object, but it was:",a,r);var s,u,c=Cd(r,a);if(o.merge)s=new aa(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=xd(e,f[h],n);if(!a.contains(d))throw new Ki(qi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Rd(l,d)||l.push(d)}s=new aa(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new hd(new sa(c),s,u)}var yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw 1===t.Fc?t.Uc(this._methodName+"() can only appear at the top level of your update data"):t.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ud);function bd(t,e,n){return new pd({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype._toFieldTransform=function(t){return new ka(t.path,new ma)},e.prototype.isEqual=function(t){return t instanceof e},e}(ud),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return mi(e,t),e.prototype._toFieldTransform=function(t){var e=bd(this,t,!0),n=this.jc.map((function(t){return Ad(t,e)})),r=new ya(n);return new ka(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ud),Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return mi(e,t),e.prototype._toFieldTransform=function(t){var e=bd(this,t,!0),n=this.jc.map((function(t){return Ad(t,e)})),r=new wa(n);return new ka(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ud),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return mi(e,t),e.prototype._toFieldTransform=function(t){var e=new Sa(t.D,fa(t.D,this.Gc));return new ka(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ud);function Td(t,e,n,r){var i=t.Wc(1,e,n);Dd("Data must be an object, but it was:",i,r);var o=[],a=new ua;Fi(r,(function(t,r){var s=Ld(e,t,n);r instanceof Hf&&(r=r._delegate);var u=i.Bc(s);if(r instanceof yd)o.push(s);else{var c=Ad(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new aa(o);return new fd(a.v(),s,i.fieldTransforms)}function kd(t,e,n,r,i,o){var a=t.Wc(1,e,n),s=[xd(e,r,n)],u=[i];if(o.length%2!=0)throw new Ki(qi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(xd(e,o[c])),u.push(o[c+1]);for(var l=[],h=new ua,f=s.length-1;f>=0;--f)if(!Rd(l,s[f])){var d=s[f],p=u[f];p instanceof Hf&&(p=p._delegate);var g=a.Bc(d);if(p instanceof yd)l.push(d);else{var v=Ad(p,g);null!=v&&(l.push(d),h.set(d,v))}}var m=new aa(l);return new fd(h.v(),m,a.fieldTransforms)}function _d(t,e,n,r){return void 0===r&&(r=!1),Ad(n,t.Wc(r?4:3,e))}function Ad(t,e){if(t instanceof Hf&&(t=t._delegate),Nd(t))return Dd("Unsupported field value:",e,t),Cd(t,e);if(t instanceof ud)return function(t,e){if(!dd(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Ad(o[i],e.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Hf&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fa(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=to.fromDate(t);return{timestampValue:Ss(e.D,n)}}if(t instanceof to)return n=new to(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ss(e.D,n)};if(t instanceof cd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sd)return{bytesValue:Es(e.D,t._byteString)};if(t instanceof Wf){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_s(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+Vf(t))}(t,e)}function Cd(t,e){var n={};return Ui(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(function(t,r){var i=Ad(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Nd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof to||t instanceof cd||t instanceof sd||t instanceof Wf||t instanceof ud)}function Dd(t,e,n){if(!Nd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Vf(n);throw"an object"===r?e.Uc(t+" a custom object"):e.Uc(t+" "+r)}}function xd(t,e,n){if(e instanceof Hf&&(e=e._delegate),e instanceof ad)return e._internalPath;if("string"==typeof e)return Ld(t,e);throw Pd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Od=new RegExp("[~\\*/\\[\\]]");function Ld(t,e,n){if(e.search(Od)>=0)throw Pd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ad.bind.apply(ad,wi([void 0],e.split(".")))))._internalPath}catch(r){throw Pd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Pd(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ki(qi.INVALID_ARGUMENT,(s+=". ")+t+u)}function Rd(t,e){return t.some((function(t){return t.isEqual(e)}))}var Md=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Fd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Ud("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Md);function Ud(t,e){return"string"==typeof e?Ld(t,e):e instanceof Hf?e._delegate._internalPath:e._internalPath}var jd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Vd=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return mi(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Ud("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Md),Bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Vd),qd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new jd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Bd(n._firestore,n._userDataWriter,r.key,r,new jd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ki(qi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Bd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new jd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Bd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new jd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Kd(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Kd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ci()}}function Gd(t,e){return t instanceof Vd&&e instanceof Vd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof qd&&e instanceof qd&&t._firestore===e._firestore&&Qf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Hd(t){if(Wo(t)&&0===t.explicitOrderBy.length)throw new Ki(qi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wd=function(){};function zd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Yd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return mi(e,t),e.prototype._apply=function(t){var e=vd(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ki(qi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ep(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(tp(r,t,h))}s={arrayValue:{values:u}}}else s=tp(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ep(a,o),s=_d(n,"where",a,"in"===o||"not-in"===o);var f=Ao.create(i,o,s);return function(t,e){if(e.g()){var n=Yo(t);if(null!==n&&!n.isEqual(e.field))throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=zo(t);null!==r&&np(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Ki(qi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ki(qi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new zf(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Wd),Xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return mi(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uo(e,n);return function(t,e){if(null===zo(t)){var n=Yo(t);null!==n&&np(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new zf(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new qo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Wd),Jd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return mi(e,t),e.prototype._apply=function(t){return new zf(t.firestore,t._converter,Qo(t._query,this.Xc,this.Zc))},e}(Wd),Zd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return mi(e,t),e.prototype._apply=function(t){var e=$d(t,this.type,this.ta,this.ea);return new zf(t.firestore,t._converter,function(t,e){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Wd),Qd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return mi(e,t),e.prototype._apply=function(t){var e=$d(t,this.type,this.ta,this.ea);return new zf(t.firestore,t._converter,function(t,e){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Wd);function $d(t,e,n,r){if(n[0]instanceof Hf&&(n[0]=n[0]._delegate),n[0]instanceof Md)return function(t,e,n,r,i){if(!r)throw new Ki(qi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Jo(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(ho(e,r.key));else{var c=r.field(u.field);if(eo(c))throw new Ki(qi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Mo(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=vd(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Ki(qi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Xo(t)&&-1!==c.indexOf("/"))throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Hi.fromString(c));if(!Yi.isDocumentKey(l))throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Yi(l);s.push(ho(e,h))}else{var f=_d(n,r,c);s.push(f)}}return new Mo(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function tp(t,e,n){if(n instanceof Hf&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xo(e)&&-1!==n.indexOf("/"))throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Hi.fromString(n));if(!Yi.isDocumentKey(r))throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ho(t,new Yi(r))}if(n instanceof Wf)return ho(t,n._key);throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vf(n)+".")}function ep(t,e){if(!Array.isArray(t)||0===t.length)throw new Ki(qi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ki(qi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function np(t,e,n){if(!n.isEqual(e))throw new Ki(qi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var rp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),io(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($i(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ci()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Fi(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new cd(Qi(t.latitude),Qi(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=no(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ro(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Zi(t);return new to(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Hi.fromString(t);Ni(Zs(n));var r=new Cf(n.get(1),n.get(3)),i=new Yi(n.popFirst(5));return r.isEqual(e)||ki("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ip(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var op=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return mi(e,t),e.prototype.convertBytes=function(t){return new sd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wf(this.firestore,null,e)},e}(rp),ap=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=vd(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=sp(t,this._firestore),i=ip(r._converter,e,n),o=md(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Aa.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=sp(t,this._firestore);return e instanceof Hf&&(e=e._delegate),o="string"==typeof e||e instanceof ad?kd(this._dataReader,"WriteBatch.update",a._key,e,n,r):Td(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Aa.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=sp(t,this._firestore);return this._mutations=this._mutations.concat(new Ka(e._key,Aa.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ki(qi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function sp(t,e){if(t instanceof Hf&&(t=t._delegate),t.firestore!==e)throw new Ki(qi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var up=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return mi(e,t),e.prototype.convertBytes=function(t){return new sd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wf(this.firestore,null,e)},e}(rp);function cp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Bf(t,Wf);var o=Bf(t.firestore,ed),a=vd(o);return e instanceof Hf&&(e=e._delegate),hp(o,[("string"==typeof e||e instanceof ad?kd(a,"updateDoc",t._key,e,n,r):Td(a,"updateDoc",t._key,e)).toMutation(t._key,Aa.exists(!0))])}function lp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Hf&&(t=t._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||td(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(td(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Wf)c=Bf(t.firestore,ed),l=Go(t._key.path),u={next:function(e){i[s]&&i[s](fp(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Bf(t,zf);c=Bf(d.firestore,ed),l=d._query;var p=new up(c);u={next:function(t){i[s]&&i[s](new qd(c,p,d,t))},error:i[s+1],complete:i[s+2]},Hd(t._query)}return function(t,e,n,r){var i=this,o=new ff(r),a=new Ih(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return yi(i,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return e=vh,[4,Tf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),t.asyncQueue.enqueueAndForget((function(){return yi(i,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return e=mh,[4,Tf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(nd(c),l,h,u)}function hp(t,e){return function(t,e){var n=this,r=new Iu;return t.asyncQueue.enqueueAndForget((function(){return yi(n,void 0,void 0,(function(){var n;return bi(this,(function(i){switch(i.label){case 0:return n=Lh,[4,Ef(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(nd(t),e)}function fp(t,e,n){var r=n.docs.get(e._key),i=new up(t);return new Vd(t,i,e._key,r,new jd(n.hasPendingWrites,n.fromCache),e._converter)}var dp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return mi(e,t),e.prototype.get=function(e){var n=this,r=sp(e,this._firestore),i=new up(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Vd(n._firestore,i,r._key,t._document,new jd(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=vd(t)}return t.prototype.get=function(t){var e=this,n=sp(t,this._firestore),r=new op(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Ci();var i=t[0];if(i instanceof wo)return new Md(e._firestore,r,n._key,null,n._converter);if(i instanceof bo)return new Md(e._firestore,r,i.key,i,n._converter);throw Ci()}))},t.prototype.set=function(t,e,n){var r=sp(t,this._firestore),i=ip(r._converter,e,n),o=md(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=sp(t,this._firestore);return e instanceof Hf&&(e=e._delegate),o="string"==typeof e||e instanceof ad?kd(this._dataReader,"Transaction.update",a._key,e,n,r):Td(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=sp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function pp(){if("undefined"==typeof Uint8Array)throw new Ki(qi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gp(){if("undefined"==typeof atob)throw new Ki(qi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.fromBase64String=function(t){return gp(),new e(sd.fromBase64String(t))},e.fromUint8Array=function(t){return pp(),new e(sd.fromUint8Array(t))},e.prototype.toBase64=function(){return gp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return pp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Hf),mp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){od(t=Bf(t,ed));var n=nd(t),r=t._freezeSettings(),i=new hf;return id(n,i,new cf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){od(t=Bf(t,ed));var e=nd(t),n=t._freezeSettings(),r=new hf;return id(e,r,new lf(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ki(qi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Iu;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return yi(e,void 0,void 0,(function(){var e;return bi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return yi(this,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return Tu.At()?(e=t+"main",[4,Tu.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Rc(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Cf||(i.sa=e),i}return mi(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Bf(t,Gf))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&_i("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return yi(e,void 0,void 0,(function(){var e,n;return bi(this,(function(r){switch(r.label){case 0:return[4,wf(t)];case 1:return e=r.sent(),[4,Sf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Di(t);return e.Qr.delete(0),Ul(e)}(n))]}}))}))}))}(nd(Bf(this._delegate,ed)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return yi(e,void 0,void 0,(function(){var e,n;return bi(this,(function(r){switch(r.label){case 0:return[4,wf(t)];case 1:return e=r.sent(),[4,Sf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return yi(this,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return(e=Di(t)).Qr.add(0),[4,jl(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(nd(Bf(this._delegate,ed)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ff("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Iu;return t.asyncQueue.enqueueAndForget((function(){return yi(e,void 0,void 0,(function(){var e;return bi(this,(function(r){switch(r.label){case 0:return e=jh,[4,Ef(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(nd(Bf(this._delegate,ed)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ff(e);return t.asyncQueue.enqueueAndForget((function(){return yi(n,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return e=function(t,e){Di(t).Zr.add(e),e.next()},[4,Tf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),t.asyncQueue.enqueueAndForget((function(){return yi(n,void 0,void 0,(function(){var e;return bi(this,(function(n){switch(n.label){case 0:return e=function(t,e){Di(t).Zr.delete(e)},[4,Tf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(nd(t=Bf(t,ed)),td(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new Ki(qi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Op(this,Xf(this._delegate,t))}catch(t){throw Tp(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ep(this,Jf(this._delegate,t))}catch(t){throw Tp(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Np(this,function(t,e){if(t=Bf(t,Gf),Rf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ki(qi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zf(t,null,function(t){return new qo(Hi.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Tp(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Iu;return t.asyncQueue.enqueueAndForget((function(){return yi(n,void 0,void 0,(function(){var n;return bi(this,(function(i){switch(i.label){case 0:return[4,function(t){return bf(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new pf(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(nd(t),(function(n){return e(new dp(t,n))}))}(this._delegate,(function(n){return t(new wp(e,n))}))},e.prototype.batch=function(){var t=this;return nd(this._delegate),new Ip(new ap(this._delegate,(function(e){return hp(t._delegate,e)})))},e.prototype.loadBundle=function(t){throw new Ki(qi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Ki(qi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Hf),bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return mi(e,t),e.prototype.convertBytes=function(t){return new vp(new sd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Ep.ia(e,this.firestore,null)},e}(rp),wp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new bp(e),r}return mi(e,t),e.prototype.get=function(t){var e=this,n=Lp(t);return this._delegate.get(n).then((function(t){return new Ap(e._firestore,new Vd(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},e.prototype.set=function(t,e,n){var r=Lp(t);return n?(Mf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Lp(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,wi([a,e,n],i)),this},e.prototype.delete=function(t){var e=Lp(t);return this._delegate.delete(e),this},e}(Hf),Ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.set=function(t,e,n){var r=Lp(t);return n?(Mf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Lp(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,wi([a,e,n],i)),this},e.prototype.delete=function(t){var e=Lp(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Hf),Sp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return mi(e,t),e.prototype.fromFirestore=function(t,e){var n=new Bd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Cp(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new bp(t),n),i.set(n,o)),o},e}(Hf);Sp.oa=new WeakMap;var Ep=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new bp(e),r}return mi(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new Ki(qi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wf(n._delegate,r,new Yi(t)))},e.ia=function(t,n,r){return new e(n,new Wf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Op(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Op(this.firestore,Xf(this._delegate,t))}catch(t){throw Tp(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Hf&&(t=t._delegate),t instanceof Wf&&Zf(this._delegate,t)},e.prototype.set=function(t,e){e=Mf("DocumentReference.set",e);try{return function(t,e,n){t=Bf(t,Wf);var r=Bf(t.firestore,ed),i=ip(t._converter,e,n);return hp(r,[md(vd(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Aa.none())])}(this._delegate,t,e)}catch(t){throw Tp(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?cp(this._delegate,t):cp.apply(void 0,wi([this._delegate,t,e],n))}catch(t){throw Tp(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return hp(Bf((t=this._delegate).firestore,ed),[new Ka(t._key,Aa.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=kp(e),i=_p(e,(function(e){return new Ap(t.firestore,new Vd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return lp(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bf(t,Wf);var e=Bf(t.firestore,ed),n=nd(e),r=new up(e);return function(t,e){var n=this,r=new Iu;return t.asyncQueue.enqueueAndForget((function(){return yi(n,void 0,void 0,(function(){var n;return bi(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return yi(this,void 0,void 0,(function(){var r,i;return bi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Di(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Kn.In(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof bo?n.resolve(i):i instanceof wo?n.resolve(null):n.reject(new Ki(qi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=lh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,If(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Vd(e,r,t._key,n,new jd(n instanceof bo&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Bf(t,Wf);var e=Bf(t.firestore,ed);return kf(nd(e),t._key,{source:"server"}).then((function(n){return fp(e,t,n)}))}(this._delegate):function(t){t=Bf(t,Wf);var e=Bf(t.firestore,ed);return kf(nd(e),t._key).then((function(n){return fp(e,t,n)}))}(this._delegate)).then((function(t){return new Ap(e.firestore,new Vd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sp.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Hf);function Tp(t,e,n){return t.message=t.message.replace(e,n),t}function kp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!td(r))return r}return{}}function _p(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=td(t[0])?t[0]:td(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ap=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return mi(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ep(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Gd(this._delegate,t._delegate)},e}(Hf),Cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Ap),Np=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new bp(e),r}return mi(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,zd(this._delegate,function(t,e,n){var r=e,i=Ud("where",t);return new Yd(i,r,n)}(t,n,r)))}catch(t){throw Tp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zd(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ud("orderBy",t);return new Xd(r,n)}(t,n)))}catch(t){throw Tp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zd(this._delegate,function(t){return qf("limit",t),new Jd("limit",t,"F")}(t)))}catch(t){throw Tp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zd(this._delegate,function(t){return qf("limitToLast",t),new Jd("limitToLast",t,"L")}(t)))}catch(t){throw Tp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zd("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Tp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zd("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Tp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qd("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Tp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qd("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Tp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Qf(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bf(t,zf);var e=Bf(t.firestore,ed),n=nd(e),r=new up(e);return function(t,e){var n=this,r=new Iu;return t.asyncQueue.enqueueAndForget((function(){return yi(n,void 0,void 0,(function(){var n;return bi(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return yi(this,void 0,void 0,(function(){var r,i,o,a,s;return bi(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Jc(t,e,!0)];case 1:return s=u.sent(),r=new _h(e,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=lh(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,If(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new qd(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Bf(t,zf);var e=Bf(t.firestore,ed),n=nd(e),r=new up(e);return _f(n,t._query,{source:"server"}).then((function(n){return new qd(e,r,t,n)}))}(this._delegate):function(t){t=Bf(t,zf);var e=Bf(t.firestore,ed),n=nd(e),r=new up(e);return Hd(t._query),_f(n,t._query).then((function(n){return new qd(e,r,t,n)}))}(this._delegate)).then((function(t){return new xp(e.firestore,new qd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=kp(e),i=_p(e,(function(e){return new xp(t.firestore,new qd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return lp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sp.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Hf),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return mi(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Cp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Hf),xp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return mi(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Np(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Cp(t._firestore,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Dp(e._firestore,t)}))},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Cp(n._firestore,r))}))},e.prototype.isEqual=function(t){return Gd(this._delegate,t._delegate)},e}(Hf),Op=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return mi(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Ep(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ep(this.firestore,void 0===t?Jf(this._delegate):Jf(this._delegate,t))}catch(t){throw Tp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Bf(t.firestore,ed),r=Jf(t),i=ip(t._converter,e);return hp(n,[md(vd(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Aa.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Ep(e.firestore,t)}))},e.prototype.isEqual=function(t){return Zf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sp.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Np);function Lp(t){return t instanceof Hf&&(t=t._delegate),Bf(t,Wf)}var Pp,Rp=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ad.bind.apply(ad,wi([void 0],e))))||this}return mi(e,t),e.documentId=function(){return new e(zi.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Hf&&(t=t._delegate),t instanceof ad&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Hf),Mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.serverTimestamp=function(){var t=new wd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new yd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Id("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sd("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ed("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Hf),Fp=n(886),Up={Firestore:yp,GeoPoint:cd,Timestamp:to,Blob:vp,Transaction:wp,WriteBatch:Ip,DocumentReference:Ep,DocumentSnapshot:Ap,Query:Np,QueryDocumentSnapshot:Cp,QuerySnapshot:xp,CollectionReference:Op,FieldPath:Rp,FieldValue:Mp,setLogLevel:function(t){var e;e=t,Si.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Fp.wA("firestore",(function(t){return function(t,e){return new yp(t,new ed(t,e),new mp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Up)))})(Pp=st.Z),Pp.registerVersion("@firebase/firestore","2.2.1");const jp={view:t=>e()("text",{class:t.attrs.class,x:t.attrs.x,y:t.attrs.y},t.children)},Vp={view:t=>e()("line",{class:t.attrs.class,stroke:t.attrs.stroke,id:t.attrs.id,x1:t.attrs.from[0],y1:t.attrs.from[1],x2:t.attrs.to[0],y2:t.attrs.to[1],onclick:t.attrs.onclick})},Bp={view:t=>e()("circle",{class:t.attrs.class,id:t.attrs.id,cx:t.attrs.center[0],cy:t.attrs.center[1],r:t.attrs.r,onclick:t.attrs.onclick})},qp={view:t=>e()("circle",{class:"marker "+String(t.attrs.class),id:t.attrs.id,cx:t.attrs.pos[0],cy:t.attrs.pos[1],r:2,onclick:t.attrs.onclick})},Kp={view:t=>{const n=t.attrs.width,r=t.attrs.height;return[e()(Vp,{class:"axis",from:[n/2,0],to:[n/2,r]}),e()(Vp,{class:"axis",from:[0,r/2],to:[n,r/2]}),e()(Vp,{class:"axis",from:[0,0],to:[n,r]}),e()(Vp,{class:"axis",from:[0,r],to:[n,0]})]}},Gp={view:t=>{const n=t.attrs.width/2/(t.attrs.count+.5),r=[t.attrs.width/2,t.attrs.height/2],i=[];for(let o=1;o<=t.attrs.count;++o){const t=e()(Bp,{class:"scale-circle",center:r,r:n*o});i.push(t)}return i}},Hp={view:t=>{const n=t.attrs.width,r=t.attrs.height;return e()("svg.chart",{width:n,height:r,class:t.attrs.class},[e()(Kp,{width:n,height:r}),e()(Gp,{width:n,height:r,count:t.attrs.count}),t.children])}},Wp={oninit:t=>{t.state.width=350,t.state.height=350},view:t=>{const n=[t.state.width/2,t.state.height/2];let r=t.attrs.dataList.list().map((t=>t.dstChartValues())).flat();const i=1e3*Math.ceil(r.map((t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]))).reduce(((t,e)=>Math.max(t,e)),0)/1e3),o=t.state.width/9*4/i,a=i/4,s=[];for(let e=1;e<=4;++e)s.push({label:it().sprintf("%d [m]",a*e),x:n[0]+5,y:n[1]+t.state.height/2/4.5*e+10});return e()(".dst-chart-wrapper.is-flex-shrink-1",{class:Z.isDstChartMode()?"":"is-hidden-mobile"},[e()(Hp,{width:t.state.width,height:t.state.height,count:4},[s.map((t=>e()(jp,{class:"scale-text",x:t.x,y:t.y},t.label))),t.attrs.dataList.list().map(((t,e)=>{const r=0===e,i=t.dstChartValues().map(((e,r)=>[n[0]+e[0]*o,n[1]+e[1]*o,0===r?0:t.records()[r-1].getHeightAsMeter(),0===r?0:t.records()[r-1].getWindHeadingForChart(),0===r?0:t.records()[r-1].getWindSpeedForChart()])),a=`color-${e+1}`;if(r){const e=t.dstChartValues(!0).map(((t,e)=>[n[0]+t[0]*o,n[1]+t[1]*o,0,0,0]));return[Wp.plotDstChart(i,a,r),Z.getDstChartShowFrom()?Wp.plotDstChart(e,"color-0",!1):""]}return Wp.plotDstChart(i,a,r)})).reverse()]),e()("button.button.is-small.from-to-button",{class:Z.getDstChartShowFrom()?"is-dark is-active":"",onclick:t=>{Z.setDstChartShowFrom(!Z.getDstChartShowFrom())}},X.t("btnFrom"))])},plotDstChart:(t,n,r)=>t.map(((i,o)=>{const s=[i[0],i[1]],u=i[2],c=i[3],l=i[4];return[e()(qp,{class:n,pos:s,onclick:t=>{if(r){const t=Z.getWindDirection()==a.DirectionEnum.TO?"To":"From",e=it().sprintf("Height: %dm  %s: %d  Spd: %.1fm/s",u,t,c,l);alert(e)}}}),o>0?e()(Vp,{from:t[o-1],to:s,class:`chart-line ${n}`}):""]}))},zp={oninit:t=>{t.state.width=350,t.state.height=350},view:t=>{const n=[t.state.width/2,t.state.height/2],r=t.attrs.data.maxSpeed(),o=t.state.width/11*5/Math.ceil(r),a=Math.ceil(r)/5,s=t.attrs.data.records().length,u=[],c=t.state.height/2+10,l=t.state.height/2-20;for(let e=1;e<=5;++e)u.push({label:it().sprintf("%.1f [m/s]",a*e),x:n[0]+5,y:n[1]+t.state.height/2/5.5*e+10});return e()(".spd-chart-wrapper.is-flex-shrink-1",{class:Z.isSpdChartMode()?"":"is-hidden-mobile"},[e()(Hp,{width:t.state.width,height:t.state.height,count:5},[u.map((t=>e()(jp,{class:"scale-text",x:t.x,y:t.y},t.label))),t.attrs.data.records().map(((t,r)=>{const a=t.getWindSpeedForChart();let u=t.getWindHeadingForChart();return Z.getSpdChartShowFrom()&&(u+=180),e()(Vp,{class:"chart-line",stroke:zp.strokeColor(s-r,s),from:n,to:[n[0]+Math.cos(i.degToRad(u-90))*a*o,n[1]+Math.sin(i.degToRad(u-90))*a*o],onclick:e=>{const n=Z.getSpdChartShowFrom()?X.t("btnFrom"):X.t("btnTo"),r=it().sprintf("Height: %dm  %s: %d  Spd: %.1fm/s",t.getHeightAsMeter(),n,u,a);alert(r)}})})),e()("defs",[zp.spdColorGradientScale()]),e()("rect",{class:"spd-color-scale",fill:"url(#spd-color-scale",x:5,y:c,width:10,height:l}),e()(jp,{x:15,y:c+l+5,class:"scale-text"},[t.attrs.data.minHeight(),"m"]),e()(jp,{x:15,y:c+5,class:"scale-text"},[t.attrs.data.maxHeight(),"m"])]),e()("button.button.is-dark.is-small.from-to-button",{onclick:t=>{Z.setSpdChartShowFrom(!Z.getSpdChartShowFrom())}},Z.getSpdChartShowFrom()?X.t("btnFrom"):X.t("btnTo"))])},strokeColor:(t,e)=>{let n=t/(e-1)*270-15;return n<0&&(n+=360),`hsl(${n}, 100%, 50%)`},spdColorGradientScale:()=>{const t=[];for(let e=0;e<=10;++e){const n=27*e-15;t[e]=[e/10*100,`hsl(${n},100%,50%)`]}return e()("linearGradient#spd-color-scale[x1=0][x2=0][y1=0][y2=1]",[t.map((t=>e()(`stop[offset=${t[0]}%][stop-color=${t[1]}]`)))])}},Yp={view:t=>{const n=t.attrs.dataList,r=Z.getDataTableColCount(),o=n.tableKeyHeights();return Z.isSortOderDescend()&&o.reverse(),e()(".data-table-wrapper",[e()("table.table.is-bordered.data-table",[e()("thead",[e()("tr",[Z.getAglAsMeter()?e()("th[rowspan=2].sticky-col",[X.t("agl"),e()("br"),"[m]"]):"",Z.getAglAsFt()?e()("th[rowspan=2].sticky-col",[X.t("agl"),e()("br"),"[ft]"]):"",n.list().map(((t,n)=>e()("th.measured-at",{colspan:r,class:`bg-color${n+1}`},t.getTime())))]),e()("tr",[n.list().map((t=>[Z.getMslAsMeter()?e()("th",[X.t("msl"),e()("br"),"[m]"]):"",Z.getMslAsFt()?e()("th",[X.t("msl"),e()("br"),"[ft]"]):"",e()("th",[Z.getWindDirection()==a.DirectionEnum.TO?X.t("tblWindDirectionTo"):X.t("tblWindDirectionFrom"),e()("br")," (",Z.getMagDeclination()==a.MagDeclinationEnum.MAG?X.t("tblMagDeclinationMag"):X.t("tblMagDeclinationTrue"),")"]),Z.getWindSpeedAsMerterPerSec()?e()("th",[X.t("tblWindSpeed"),e()("br"),"[m/s]"]):"",Z.getWindSpeedAsKmPerHour()?e()("th",[X.t("tblWindSpeed"),e()("br"),"[km/h]"]):"",Z.getWindSpeedAsKt()?e()("th",[X.t("tblWindSpeed"),e()("br"),"[kt]"]):"",Z.getTemperatureUnit()==i.TemperatureUnitEnum.CELSIUS?e()("th",[X.t("tblTemperature"),e()("br"),"[]"]):""]))])]),e()("tbody",[o.map((t=>e()("tr",[Z.getAglAsMeter()?e()("td.sticky-col",t):"",Z.getAglAsFt()?e()("td.sticky-col",Math.round(i.conv_m_to_ft(t))):"",n.list().map((n=>{const o=n.getRecordByHeight(t);return o?[Z.getMslAsMeter()?e()("td",Math.round(o.getAltitudeAsMeter())):"",Z.getMslAsFt()?e()("td",Math.round(o.getAltitudeAsFt())):"",e()("td",Math.round(o.getWindHeading())),Z.getWindSpeedAsMerterPerSec()?e()("td",it().sprintf("%.1f",o.getWindSpeedAsMerterPerSec())):"",Z.getWindSpeedAsKmPerHour()?e()("td",it().sprintf("%.1f",o.getWindSpeedAsKmPerHour())):"",Z.getWindSpeedAsKt()?e()("td",it().sprintf("%.1f",o.getWindSpeedAsKt())):"",Z.getTemperatureUnit()==i.TemperatureUnitEnum.CELSIUS?e()("td",Math.round(o.getTemperature())):""]:e()("td.has-background-light",{colspan:r})}))])))])])])}};let Xp;const Jp={oninit:t=>{t.state.date=null,t.attrs.date&&(t.state.date=new Date,t.state.date.setTime(Number(t.attrs.date))),Xp=new class{constructor(){this.db=Q.Z.firestore(),this.sondeDataRef=this.db.collection("sondeview"),this._list=[],this._selectedData=null,this.lastFetchedAt=null}fetch(t=null){this.lastFetchedAt||(this.lastFetchedAt=new Date);let n=this.sondeDataRef;t&&(n=n.where("measured_at","<=",t)),n.orderBy("measured_at","desc").limit(10).get().then((n=>{console.log("fetched"),this._list=[];const r=this._selectedData?this._selectedData.id:null;this._selectedData=null;const i=60*Z.getDataListDuration()*60*1e3;n.forEach((e=>{const n=new at(e.id,e.data());t||(t=n.measuredAt),n.id===r?(this._selectedData=n,this._list.push(n)):t.getTime()-n.measuredAt.getTime()<=i&&this._list.push(n)})),!this._selectedData&&this._list.length>0&&(this._selectedData=this._list[0]),this._selectedData&&this.lastFetchedAt.getTime()-this._selectedData.measuredAt.getTime()<36e5?setTimeout((()=>{this.fetch()}),1e4):(console.log("fetch timed out"),this.lastFetchedAt=null),e().redraw()})).catch((t=>{console.log("Cannot fetch sonde data list",t),e().route.set("/error/:err",{err:"errMsgInsufficientPrivilege"})}))}list(){return this._list}selectedData(){return this._selectedData}selectData(t){this._selectedData=this._list.find((e=>e.getID()===t))}tableKeyHeights(){const t=[];return this._list.forEach((e=>{e.records().forEach((e=>{const n=Math.round(e.getHeightAsMeter());-1==t.indexOf(n)&&t.push(n)}))})),t.sort(((t,e)=>t-e)),t}autoUpdateEnabled(){return!!this.lastFetchedAt}},Xp.fetch(t.state.date),window.scrollTo(0,0)},onupdate:t=>{const e=t.attrs.date?Number(t.attrs.date):null;null===t.state.date&&null===e||(null===t.state.date&&null!==e||null!==t.state.date&&null===e||t.state.date.getTime()!==e)&&(null===e?t.state.date=null:(t.state.date=new Date,t.state.date.setTime(e)),Xp.fetch(t.state.date))},view:t=>{const n=Xp?Xp.selectedData():null;return[e()(et.NavBar,{title:n?n.getDate():"",status:Xp&&Xp.autoUpdateEnabled()?X.t("statusUpdating"):X.t("statusStopped")}),e()("main",[e()(".container",[Xp?[e()(Qp),e()(".chart-wrapper.is-flex.is-justify-content-center\t",[e()(Wp,{dataList:Xp}),n?e()(zp,{data:n}):""]),e()(Zp),e()(Yp,{dataList:Xp})]:""])])]}},Zp={view:t=>e()(".buttons.has-addons.is-hidden-tablet.is-justify-content-center",[e()("button.button",{class:Z.isDstChartMode()?"is-success is-selected":"",onclick:t=>{Z.setDstChartMode()}},"DstChart"),e()("button.button",{class:Z.isSpdChartMode()?"is-success is-selected":"",onclick:t=>{Z.setSpdChartMode()}},"SpdChart")])},Qp={view:t=>Xp?e()(".data-selector",[e()(".chart-top-button.is-flex.is-justify-content-space-between",[e()(".field.is-grouped",[Xp.list().map(((t,n)=>{let r=it().sprintf("color-%02d",n+1);return t.id==Xp.selectedData().id&&(r+=" is-active"),e()(".control",[e()("button.button.is-small",{class:r,onclick:e=>{Xp.selectData(t.getID())}},t.getTime())])}))])])]):""},$p=Jp,tg={oninit:t=>{t.state.history=new class{constructor(){this.db=Q.Z.firestore(),this.sondeDataRef=this.db.collection("sondeview"),this._dateList=[]}fetch(t=null){t||(t=new Date),this.sondeDataRef.where("measured_at","<=",t).orderBy("measured_at","desc").limit(100).get().then((t=>{let n,r;t.forEach((t=>{const e=new at(t.id,t.data()),i=e.getDate();i!=n&&(n=i,r={date:i,list:[]},this._dateList.push(r)),r.list.push(e)})),e().redraw()})).catch((t=>{console.log("Cannot fetch sonde data history",t),e().route.set("/error/:err",{err:"errMsgInsufficientPrivilege"})}))}list(){return this._dateList}},t.state.history.fetch()},view:t=>[e()(et.NavBar,{title:X.t("menuHistory")}),e()("main",[e()(".container",[t.state.history.list().map((t=>e()(eg,{date:t.date,list:t.list})))])])]},eg={oninit:t=>{t.state.collapsed=!1},view:t=>e()(".card.history-card.mt-4",[e()("header.card-header",[e()("p.card-header-title",[t.attrs.date]),e()("a.card-header-icon[href=#]",{onclick:e=>{e.preventDefault(),t.state.collapsed=!t.state.collapsed}},[e()("span.icon",[t.state.collapsed?e()(et.ExpandIcon):e()(et.CollapseIcon)])])]),e()("ul.card-content.history-list",{class:t.state.collapsed?"is-hidden":"is-block"},[t.attrs.list.map((t=>e()("li",[e()(e().route.Link,{href:e().buildPathname("/main/:date",{date:t.measuredAt.getTime()})},[t.getTime()]),e()("span.icon",[e()("i.fas.fa-angle-right")])])))])])},ng=tg,rg={view:t=>[e()(et.NavBar,{title:X.t("menuSetup")}),e()("main",[e()(".container.setting",[e()("h2",X.t("titleUnits")),e()(et.SettingCard,{title:X.t("msl")},[e()(".buttons",[e()(et.ToggleButton,{selected:Z.getMslAsMeter(),onclick:t=>{Z.setMslAsMeter(!Z.getMslAsMeter())}},"m"),e()(et.ToggleButton,{selected:Z.getMslAsFt(),onclick:t=>{Z.setMslAsFt(!Z.getMslAsFt())}},"ft")])]),e()(et.SettingCard,{title:X.t("agl")},[e()(".buttons",[e()(et.ToggleButton,{selected:Z.getAglAsMeter(),onclick:t=>{Z.setAglAsMeter(!Z.getAglAsMeter())}},"m"),e()(et.ToggleButton,{selected:Z.getAglAsFt(),onclick:t=>{Z.setAglAsFt(!Z.getAglAsFt())}},"ft")])]),e()(et.SettingCard,{title:X.t("windDirection")},[e()(".columns",[e()(".column.is-narrow",[e()(".buttons.has-addons",[e()(et.ToggleButton,{selected:Z.getWindDirection()==a.DirectionEnum.FROM,onclick:t=>{Z.setWindDirection(a.DirectionEnum.FROM)}},"From"),e()(et.ToggleButton,{selected:Z.getWindDirection()==a.DirectionEnum.TO,onclick:t=>{Z.setWindDirection(a.DirectionEnum.TO)}},"To")])]),e()(".column.is-narrow",[e()(".buttons.has-addons",[e()(et.ToggleButton,{selected:Z.getMagDeclination()==a.MagDeclinationEnum.TRUE,onclick:t=>{Z.setMagDeclination(a.MagDeclinationEnum.TRUE)}},"True"),e()(et.ToggleButton,{selected:Z.getMagDeclination()==a.MagDeclinationEnum.MAG,onclick:t=>{Z.setMagDeclination(a.MagDeclinationEnum.MAG)}},"Mag")])])])]),e()(et.SettingCard,{title:X.t("windSpeed")},[e()(".buttons",[e()(et.ToggleButton,{selected:Z.getWindSpeedAsMerterPerSec(),onclick:t=>{Z.setWindSpeedAsMeterPerSec(!Z.getWindSpeedAsMerterPerSec())}},"m/s"),e()(et.ToggleButton,{selected:Z.getWindSpeedAsKmPerHour(),onclick:t=>{Z.setWindSpeedAsKmPerHour(!Z.getWindSpeedAsKmPerHour())}},"km/h"),e()(et.ToggleButton,{selected:Z.getWindSpeedAsKt(),onclick:t=>{Z.setWindSpeedAsKt(!Z.getWindSpeedAsKt())}},"kt")])]),e()(et.SettingCard,{title:X.t("temperature")},[e()(et.ToggleButton,{selected:Z.getTemperatureUnit()==i.TemperatureUnitEnum.CELSIUS,onclick:t=>{Z.toggleTemperatureUnit()}},"")]),e()("h2",X.t("titleView")),e()(et.SettingCard,{title:X.t("sortOrder")},[e()(".buttons.has-addons",[e()(et.ToggleButton,{selected:Z.isSortOrderAscend(),onclick:t=>{Z.setSortOrderAscend()}},X.t("ascend")),e()(et.ToggleButton,{selected:Z.isSortOderDescend(),onclick:t=>{Z.setSortOderDescend()}},X.t("descend"))])]),e()("h2",X.t("titleOther")),e()(et.SettingCard,{title:X.t("dataListDuration")},[e()(".select",[e()("select",{value:Z.getDataListDuration(),onchange:t=>{Z.setDataListDuration(t.target.value)}},[Z.dataListDurationValues().map((t=>e()("option",{value:t},[t,X.t("hour")])))])])])])])]},ig={view:t=>[e()(et.NavBar,{title:X.t("menuDownload")})]};var og=[],ag=og.forEach,sg=og.slice;function ug(t){return ag.call(sg.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}var cg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,lg=function(t,e,n){var r=n||{};r.path=r.path||"/";var i=t+"="+encodeURIComponent(e);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(o)}if(r.domain){if(!cg.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!cg.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},hg={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&"undefined"!=typeof document){var n=function(t){for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}(t.lookupCookie);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=lg(t,encodeURIComponent(e),i)}(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain,e.cookieOptions)}},fg={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===t.lookupQuerystring&&(e=n[r].substring(i+1))}return e}},dg=null,pg=function(){if(null!==dg)return dg;try{dg="undefined"!==window&&null!==window.localStorage;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(t){dg=!1}return dg},gg={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&pg()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&pg()&&window.localStorage.setItem(e.lookupLocalStorage,t)}},vg=null,mg=function(){if(null!==vg)return vg;try{vg="undefined"!==window&&null!==window.sessionStorage;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(t){vg=!1}return vg},yg={name:"sessionStorage",lookup:function(t){var e;if(t.lookupSessionStorage&&mg()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupSessionStorage&&mg()&&window.sessionStorage.setItem(e.lookupSessionStorage,t)}},bg={name:"navigator",lookup:function(t){var e=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)e.push(navigator.languages[n]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return e.length>0?e:void 0}},wg={name:"htmlTag",lookup:function(t){var e,n=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(e=n.getAttribute("lang")),e}},Ig={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof n[t.lookupFromPathIndex])return;e=n[t.lookupFromPathIndex].replace("/","")}else e=n[0].replace("/","")}return e}},Sg={name:"subdomain",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(e="number"==typeof t.lookupFromSubdomainIndex?n[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return e}},Eg=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return f(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=ug(e,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(hg),this.addDetector(fg),this.addDetector(gg),this.addDetector(yg),this.addDetector(bg),this.addDetector(wg),this.addDetector(Ig),this.addDetector(Sg)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this;t||(t=this.options.order);var n=[];return t.forEach((function(t){if(e.detectors[t]){var r=e.detectors[t].lookup(e.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var n=this;e||(e=this.options.caches),e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||e.forEach((function(e){n.detectors[e]&&n.detectors[e].cacheUserLanguage(t,n.options)})))}}]),t}();Eg.type="languageDetector";const Tg=Eg,kg={ja:{translation:{appName:"WindView",menuView:"",menuHistory:"",menuDownload:"",menuSetup:"",menuSignout:"",statusUpdating:"",statusStopped:"",error:"",errUnknown:"",errMsgInsufficientPrivilege:"",agl:"AGL",msl:"MSL",windDirection:"Wind Direction",windHeading:"Wind Heading",temperatur:"Temperature",btnFrom:"From",btnTo:"To",titleUnits:"",titleOther:"",titleView:"",msl:"MSL",agl:"AGL",windDirection:"",windSpeed:"",temperature:"",dataListDuration:"",sortOrder:"",ascend:"",descend:"",hour:"",tblWindDirectionTo:"To",tblWindDirectionFrom:"From",tblMagDeclinationMag:"Mag",tblMagDeclinationTrue:"True",tblWindSpeed:"Spd",tblTemperature:"Temp"}},en:{translation:{appName:"WindView",menuView:"View",menuHistory:"History",menuDownload:"Download",menuSetup:"Setup",menuSignout:"SignOut",statusUpdating:"Updating",statusStopped:"Stopped",error:"Error",errUnknown:"Unknown error",errMsgInsufficientPrivilege:"You don't have access privilege.",agl:"AGL",msl:"MSL",windDirection:"Wind Direction",windHeading:"Wind Heading",temperatur:"Temperature",btnFrom:"From",btnTo:"To",titleUnits:"Units",titleOther:"Other",titleView:"View",msl:"MSL",agl:"AGL",windDirection:"Wind Direction",windSpeed:"Wind Speed",temperature:"Temperature",dataListDuration:"Chart data duration",sortOrder:"Sort Order",ascend:"Ascend",descend:"Descend",hour:"hour",tblWindDirectionTo:"To",tblWindDirectionFrom:"From",tblMagDeclinationMag:"Mag",tblMagDeclinationTrue:"True",tblWindSpeed:"Spd",tblTemperature:"Temp"}}};var _g=n(771);Q.Z.initializeApp(firebaseConfig),Q.Z.auth().onAuthStateChanged((t=>{t&&function(){const t=document.body;X.use(Tg).init({fallbackLng:"en",debug:!0,resources:kg}).then((()=>{e().route(t,"/main",{"/main":$p,"/main/:date":$p,"/history":ng,"/setup":rg,"/download":ig,"/error/:err":nt})}))}()}));const Ag=new _g.auth.AuthUI(Q.Z.auth()),Cg={callbacks:{signInSuccessWithAuthResult:function(t,e){return!0},uiShown:function(){document.getElementById("loader").style.display="none"}},signInFlow:"popup",signInOptions:[Q.Z.auth.GoogleAuthProvider.PROVIDER_ID]};Ag.start("#firebaseui-auth-container",Cg)})()})();